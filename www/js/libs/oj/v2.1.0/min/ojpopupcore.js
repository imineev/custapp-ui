/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
/*
 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","jqueryui-amd/position"],function(b,f){b.ad={};b.ad.$h=function(a,d){for(var c=f.extend({},a),e=0;e<b.ad.$X.length;e++){var g=b.ad.$X[e],h=c[g];h&&(c[g]=h.replace("start",d?"right":"left").replace("end",d?"left":"right").replace("\x3c",d?"+":"-").replace("\x3e",d?"-":"+"))}return c};b.ad.gBa=function(a,b,c){return"event"===a?c:null==a||"launcher"===a?b:a};b.ad.rsa=function(a){f.each(["pageX","pageY"],function(b,c){if(a&&void 0===a[c]&&a.originalEvent){var e=
a.originalEvent,f=e.type;(f="touchstart"===f||"touchmove"===f?"touches":"touchend"===f?"changedTouches":null)&&(e=e[f][0])&&(a[c]=e[c])}})};b.ad.$X=["my","at"];b.ad.SU=function(a){return a.target&&0<a.target.height&&0<a.target.width?!b.A.OAa(a.target.element):!1};f.ui.position.flipcenter={left:function(a,d){var c=a.left;f.ui.position.flip.left.call(this,a,d);var e=d.within,g=e.isWindow?e.scrollLeft:e.offset.left,h=a.left-d.collisionPosition.marginLeft,e=h+d.collisionWidth-e.width-g;if(0<g-h||0<e)"right"===
d.at[0]?c-=d.targetWidth/2:"left"===d.at[0]&&(c+=d.targetWidth/2),g="rtl"===b.A.So()?-1:1,c-=d.elemWidth/2*g,a.left=c},top:function(a,b){var c=a.top;f.ui.position.flip.top.call(this,a,b);var e=b.within,e=e.isWindow?e.scrollTop:e.offset.top,g=a.top-b.collisionPosition.marginTop,h=g+b.collisionHeight-b.within.height-e;if(0<e-g||0<h)"top"===b.at[1]?c+=b.targetHeight/2:"bottom"===b.at[1]&&(c-=b.targetHeight/2),c+=b.elemHeight/2,a.top=c}};f.ui.position.flip={left:function(a,b){var c=b.within,e=c.offset.left+
c.scrollLeft,f=c.width,c=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,k=h-c,h=h+b.collisionWidth-f-c,l="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,p="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,n=-2*b.offset[0],m,q;if(0>k&&Math.abs(m)<Math.abs(q)){if(m=a.left+l+p+n+b.collisionWidth-f-e,0>m||m<Math.abs(k))a.left+=l+p+n}else 0<h&&(q=a.left-b.collisionPosition.marginLeft+l+p+n-c,0<q||Math.abs(q)<h)&&(a.left+=l+p+n)},top:function(a,
b){var c=b.within,e=c.offset.top+c.scrollTop,f=c.height,h=c.isWindow?c.scrollTop:c.offset.top,k=a.top-b.collisionPosition.marginTop,c=k-h,k=k+b.collisionHeight-f-h,l="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,p="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,n=-2*b.offset[1];0>c?(e=a.top+l+p+n+b.collisionHeight-f-e,(0>e||e<Math.abs(c))&&0>k&&c>k&&(a.top+=l+p+n)):0<k&&(e=a.top-b.collisionPosition.marginTop+l+p+n-h,0<e||Math.abs(e)<k)&&(a.top+=l+p+n)}};b.R=function(){this.Init()};
b.b.la(b.R,b.b,"oj.PopupService");b.R.prototype.Init=function(){b.R.p.Init.call(this)};b.R.wf=function(){b.R.zR||(b.R.zR=new b.Kb);return b.R.zR};b.R.prototype.open=function(){b.l.Dc()};b.R.prototype.close=function(){b.l.Dc()};b.R.prototype.Cx=function(){b.l.Dc()};b.R.prototype.wW=function(){b.l.Dc()};b.R.prototype.destroy=function(){delete b.R.zR};b.R.Hj={NONE:"none",fL:"modal",$ea:"modeless"};b.R.md={mv:"ojPopupRemove",lv:"ojPopupClose",Kp:"ojPopupRefresh",kv:"ojPopupAutoDismiss"};b.R.Gp={vL:"topLevel",
rX:"nearestAncestor"};b.R.kb={zg:"popup",Zr:"events",Hj:"modality",Qy:"launcher",Ty:"position",Hp:"layerSelectors",Gp:"layerLevel"};b.Kb=function(){this.Init()};b.b.la(b.Kb,b.R,"oj.PopupServiceImpl");b.Kb.prototype.open=function(a){b.l.Zg(a);var d=a[b.R.kb.zg];b.l.Ce(d,jQuery);var c=a[b.R.kb.Qy];b.l.Ce(c,jQuery);var e=a[b.R.kb.Ty];b.l.W9(e);var f=a[b.R.kb.Zr];b.l.Zg(f);var h=a[b.R.kb.Hj];if(!h||b.R.Hj.$ea!==h&&b.R.Hj.fL!==h)h=b.R.Hj.NONE;var k=a[b.R.kb.Hp];b.l.Ho(k);a=a[b.R.kb.Gp];if(!a||b.R.Gp.vL!==
a&&b.R.Gp.rX!==a)a=b.R.Gp.rX;b.A.zda(d,c);b.Q.hxa(d,c,f,h,k,a);d.show();d.removeAttr("aria-hidden");e&&d.position(e);this.XM();b.Components.xp(d[0])};b.Kb.prototype.close=function(a){b.l.Zg(a);a=a[b.R.kb.zg];b.l.Ce(a,jQuery);b.Q.DBa(a);a.hide();a.attr("aria-hidden","true");b.A.zda(a,null);this.XM();b.Components.Rr(a[0])};b.Kb.prototype.Cx=function(a){b.l.Zg(a);var d=a[b.R.kb.zg];b.l.Ce(d,jQuery);d=b.Q.sC(d);b.l.Ce(d,jQuery);var c=a[b.R.kb.Zr];c&&b.Q.S9(d,c);(c=a[b.R.kb.Hj])&&b.Q.T9(d,c);a=a[b.R.kb.Hp];
b.Ra.wk(a)||d.attr("class",a)};b.Kb.prototype.wW=function(a,d,c){var e={};e.event=d;e.argsArray=c;a=b.Q.sC(a);b.Q.QV(a,this.ywa,e)};b.Kb.prototype.ywa=function(a,d){var c=d.event,e=d.argsArray,g=b.Q.rU(a);g&&f.isFunction(g[c])&&g[c].apply(this,e);return b.Q.li.Wr};b.Kb.prototype.XM=function(){var a=b.Q.vba(),d=this.Z_;if(!a&&d){window.removeEventListener("resize",b.Kb.Rq,!0);window.removeEventListener("scroll",b.Kb.Rq,!0);a=document.documentElement;a.removeEventListener("mousewheel",b.Kb.Rq,!0);a.removeEventListener("DOMMouseScroll",
b.Kb.Rq,!0);delete this.Z_;for(var c=0;c<b.Kb.zE.length;c++){var e=b.Kb.zE[c];a.removeEventListener(e,d,!0)}if(d=this.J8)d.destroy(),delete this.J8}else if(a&&!d){window.addEventListener("resize",b.Kb.Rq,!0);window.addEventListener("scroll",b.Kb.Rq,!0);a=document.documentElement;a.addEventListener("mousewheel",b.Kb.Rq,!0);a.addEventListener("DOMMouseScroll",b.Kb.Rq,!0);d=this.Z_=f.proxy(this.kma,this);for(c=0;c<b.Kb.zE.length;c++)e=b.Kb.zE[c],a.addEventListener(e,d,!0);b.A.Zd()&&(this.J8=new b.Zi(d))}};
b.Kb.prototype.kma=function(a){var d=f(a.target);if(!b.Q.vba())this.XM();else if(!b.A.Kba(a)&&("focus"!==a.type||d.is(":focusable"))){var c=b.Q.nr();if("keydown"===a.type&&b.Q.rAa()&&!b.A.nn(c[0],d[0]))b.Q.Bya(f.Event(a));else{var e=b.Q.sC(d);if(c[0]!==e[0]){if(!e.hasClass(b.Kb.gE)){var g=this.eR;g&&g.removeClass(b.Kb.gE);e.addClass(b.Kb.gE);this.eR=e}}else if(g=this.eR)g.removeClass(b.Kb.gE),delete this.eR;if("focus"!==a.type||"-1"!==d.attr("tabindex")){var d={},e={},h;for(h in a)b.Kb.Nfa[h]&&!f.isFunction(a[h])&&
(e[h]=a[h]);d.event=f.Event(a,e);b.Q.QV(c,b.Kb.nta,d)}}}};b.Kb.nta=function(a,d){var c=b.Q.rU(a),e=d.event;if(c&&f.isFunction(c[b.R.md.kv]))c[b.R.md.kv](e);return b.Q.li.Wr};b.Kb.Rq=function(){isNaN(b.Kb.W6)&&(b.Kb.W6=window.setTimeout(function(){delete b.Kb.W6;var a=b.Q.nr();b.Q.QV(a,b.Kb.xta)},b.Kb.Aha))};b.Kb.xta=function(a,d){if(0<d.level)return b.Q.li.PD;var c=b.Q.rU(a);if(c&&f.isFunction(c[b.R.md.Kp]))c[b.R.md.Kp]();return b.Q.li.Wr};b.Kb.prototype.destroy=function(){b.Kb.p.destroy.call(this)};
b.Kb.gE="oj-focus-within";b.Kb.zE=["focus","mousedown","keydown"];b.Kb.Nfa={altKey:!0,bubbles:!0,cancelable:!0,ctrlKey:!0,currentTarget:!0,eventPhase:!0,metaKey:!0,relatedTarget:!0,shiftKey:!0,target:!0,timeStamp:!0,view:!0,which:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,"char":!0,charCode:!0,key:!0,keyCode:!0};b.Kb.Aha=100;b.Q={};b.Q.sC=function(a){if(!a)return b.Q.nr();for(;a&&0<a.length&&a.attr("oj.ZOrderUtils._SURROGATE_ATTR")!==
b.Q.QL;){if(b.Q.zQ(a[0]))return a;a=a.parent()}return b.Q.nr()};b.Q.nr=function(){var a=f(document.getElementById(b.Q.QL));if(0<a.length)return a;a=f("\x3cdiv\x3e");a.attr("role","presentation");a.attr("id",b.Q.QL);a.prependTo(f(document.body));return a};b.Q.hxa=function(a,d,c,e,g,h){var k=a[0];if(b.Q.zQ(k.parentNode))throw Error("JET Popup is already open - id: "+k.getAttribute("id"));d=b.Q.sC(h===b.R.Gp.vL?null:d);h=f("\x3cdiv\x3e");var l=a.attr("id");b.Ra.wk(l)?h.uniqueId():h.attr("id",[l,"layer"].join("_"));
h.attr("role","presentation");h.addClass(g);a.after(h);g=b.Q.UN(h);b.Components.di(k);a.appendTo(h);h.appendTo(d);b.Components.nh(k);b.Q.T9(h,e);b.Q.S9(h,c,g)};b.Q.S9=function(a,d,c){if(!c){var e=a.attr(b.Q.tz);e&&(c=f(document.getElementById(e)))}a.data(b.Q.eE,d);c&&d&&f.isFunction(d[b.R.md.mv])&&(c.surrogate(),c.surrogate("option","beforeDestroy",d[b.R.md.mv]))};b.Q.rU=function(a){return a.data(b.Q.eE)};b.Q.UN=function(a){var d=f("\x3cscript\x3e"),c=a.attr("id");b.Ra.wk(c)?d.uniqueId():d.attr("id",
[c,"surrogate"].join("_"));d.insertBefore(a);c=d.attr("id");a.attr(b.Q.tz,c);return d};b.Q.bua=function(a){var d=a.attr(b.Q.tz);a.removeAttr(b.Q.tz);d=f(document.getElementById(d));a.insertAfter(d);d.surrogate("option","beforeDestroy",null);d.remove()};b.Q.DBa=function(a){var d=b.Q.sC(a);b.Q.RV(d,b.Q.gka);b.Q.VR(d);d.removeData(b.Q.eE);d.removeData(b.Q.cM);var c=a[0];b.Components.di(c);b.Q.bua(d);b.A.unwrap(a,d);b.Components.nh(c)};b.Q.gka=function(a,d){if(0<d.level)return b.Q.li.PD;var c=a.data(b.Q.eE);
if(c&&f.isFunction(c[b.R.md.lv]))c[b.R.md.lv]();return b.Q.li.Wr};b.Q.T9=function(a,d){var c=a.data(b.Q.cM);a.data(b.Q.cM,d);b.Ra.wk(c)?b.R.Hj.fL===d?b.Q.j_(a):b.Q.VR(a):c!==d&&(d!==c&&d===b.R.Hj.fL?b.Q.j_(a):b.Q.VR(a))};b.Q.rAa=function(){for(var a=b.Q.nr().children(),d=a.length-1;-1<d;d--)if(f(a[d]).hasClass(b.Q.nZ))return!0;return!1};b.Q.j_=function(a){var d=f("\x3cdiv\x3e");d.addClass(b.Q.nZ);d.addClass(a[0].className);d.attr("role","presentation");var c=a.attr("id");b.Ra.wk(c)?d.uniqueId():d.attr("id",
[c,"overlay"].join("_"));a.before(d);d=d.attr("id");a.attr(b.Q.iM,d)};b.Q.VR=function(a){var d=a.attr(b.Q.iM);b.Ra.wk(d)||(a.removeAttr(b.Q.iM),f(document.getElementById(d)).remove())};b.Q.li={Wr:0,PD:1,JK:2};b.Q.ME={uX:0,tX:1};b.Q.QV=function(a,d,c){c||(c={});c.level=0;c.type=b.Q.ME.tX;b.Q.vT(a,d,c)};b.Q.RV=function(a,d,c){c||(c={});c.level=0;c.type=b.Q.ME.uX;b.Q.vT(a,d,c)};b.Q.vT=function(a,d,c){var e=c.level;a=a.children();for(var g=a.length-1;-1<g;g--){var h=f(a[g]);if(b.Q.zQ(h[0])){var k;if(c.type===
b.Q.ME.uX){k=d(h,c);if(k===b.Q.li.JK)return k;if(k===b.Q.li.PD)break}c.level=e+1;k=b.Q.vT(h,d,c);c.level=e;if(k===b.Q.li.JK)return k;if(c.type===b.Q.ME.tX){k=d(h,c);if(k===b.Q.li.JK)return k;if(k===b.Q.li.PD)break}}}return b.Q.li.Wr};b.Q.zQ=function(a){return 1===a.nodeType&&a.hasAttribute(b.Q.tz)?!0:!1};b.Q.vba=function(){return 0<b.Q.nr().children().length};b.Q.wU=function(){var a={popupCount:0},d=b.Q.nr();b.Q.RV(d,b.Q.usa,a);return a.popupCount};b.Q.usa=function(a,d){d.popupCount+=1;return b.Q.li.Wr};
b.Q.YT=function(){var a={},d=[];a.popups=d;d=b.Q.nr();b.Q.RV(d,b.Q.vsa,a);d=a.popups;return f(d)};b.Q.vsa=function(a,d){d.popups.push(a[0]);return b.Q.li.Wr};b.Q.LT=function(a,d){function c(a,c){for(var d=["absolute","relative","fixed"],e=a.parents(),g=[],h=e.length-1;-1<h;h--)g.push(f(e[h]));e=g;e.push(a);for(var g=[],k=0,h=0;h<e.length;h++){var l=e[h],p=l.css("position"),n=b.A.Pya(l.css("opacity")),B=b.A.qC(l.css("z-index")),l=f.inArray(l[0],l.parent().children());-1<f.inArray(p,d)?g.push({weight:[k++,
B,l],order:[l]}):1>n?g.push({weight:[k++,1,l],order:[l]}):c&&g.push({weight:[0,0,l],order:[l]})}return g}function e(a,b){for(var c=Math.max(a.length,b.length),d=0;d<c;d++){var e=d<a.length?a[d]:-1,f=d<b.length?b[d]:-1;if(e!==f)return e<f?-1:1}return 0}b.l.Ce(a,jQuery);b.l.Ce(d,jQuery);for(var g=c(a,!1),h=c(d,!1),k=Math.max(g.length,h.length),l=0;l<k;l++){var p=l<g.length?g[l].weight:[-1],n=l<h.length?h[l].weight:[-1],p=e(p,n);if(0!==p)return p}g=c(a,!0);h=c(d,!0);k=Math.max(g.length,h.length);for(l=
0;l<k;l++)if(p=l<g.length?g[l].order:[-1],n=l<h.length?h[l].order:[-1],p=e(p,n),0!==p)return p;return 0};b.Q.Bya=function(a){a.stopPropagation();a.preventDefault()};b.Q.eE="oj-popup-events";b.Q.cM="oj-popup-modality";b.Q.QL="__oj_zorder_container";b.Q.tz="data-oj-surrogate-id";b.Q.iM="data-oj-overlayid";b.Q.nZ="oj-component-overlay";f.widget("oj.surrogate",{options:{create:null,beforeDestroy:null},_create:function(){this._super();this.element.uniqueId()},_destroy:function(){this._trigger("beforeDestroy");
this.element.removeUniqueId();this._super()}});b.Zi=function(a){this.g9=a;this.Init()};b.b.la(b.Zi,b.b,"oj.SimpleTapRecognizer");b.Zi.prototype.Init=function(){b.Zi.p.Init.call(this);for(var a=this.H1=f.proxy(this.KF,this),d=document.documentElement,c=0;c<b.Zi.IE.length;c++)d.addEventListener(b.Zi.IE[c],a,!0)};b.Zi.prototype.KF=function(a){var d=this.g9,c=a.type;"touchstart"===c?(this.Ut=a,this.Ut.dwa=(new Date).getTime()):"touchmove"===c||"touchcancel"===c?delete this.Ut:"touchend"===c&&(this.Ut&&
(a=this.Ut.dwa,isNaN(a)?d(this.Ut):(new Date).getTime()-a<b.Zi.yha&&d(this.Ut)),delete this.Ut)};b.Zi.prototype.destroy=function(){delete this.g9;var a=this.H1;delete this.H1;for(var d=document.documentElement,c=0;c<b.Zi.IE.length;c++)d.removeEventListener(b.Zi.IE[c],a,!0)};b.Zi.IE=["touchstart","touchmove","touchcancel","touchend"];b.Zi.yha=700;b.Gf=function(){this.Init()};b.b.la(b.Gf,b.b,"oj.PopupLiveRegion");b.Gf.prototype.Init=function(){b.Gf.p.Init.call(this);isNaN(b.Gf.zB)?b.Gf.zB=1:++b.Gf.zB};
b.Gf.prototype.destroy=function(){if(!isNaN(b.Gf.zB)&&(--b.Gf.zB,1>b.Gf.zB)){var a=f(document.getElementById(b.Gf.qM));0<a.length&&a.remove()}};b.Gf.prototype.lxa=function(a){if(!b.Ra.ih(a)){var d=b.Gf.Gna();d.children().remove();f("\x3cdiv\x3e").text(a).appendTo(d)}};b.Gf.Gna=function(){var a=f(document.getElementById(b.Gf.qM));0===a.length&&(a=f("\x3cdiv\x3e"),a.attr({id:b.Gf.qM,role:"log","aria-live":"polite","aria-relevant":"additions"}),a.addClass("oj-helper-hidden-accessible"),a.appendTo(document.body));
return a};b.Gf.qM="__oj_popup_arialiveregion";b.Kj=function(a,d,c,e){b.l.Ce(a,jQuery);b.l.Ho(d);b.l.dr(c);b.l.AT(e);this.WH=a;this.Vw=d;this.uN=c;this.kl=e?e:"";this.Init()};b.b.la(b.Kj,b.b,"oj.PopupSkipLink");b.Kj.prototype.Init=function(){b.Kj.p.Init.call(this);var a=this.WH,d=this.uN,c=this.Vw;delete this.Vw;var e=this.kl;delete this.kl;var g=f("\x3ca\x3e").attr({tabindex:"-1",href:"#"});b.Ra.ih(e)||g.attr("id",e);g.addClass("oj-helper-hidden-accessible");g.text(c);g.insertAfter(a);g.on("click",
d);a.data(b.Kj.FE,g)};b.Kj.prototype.destroy=function(){var a=this.WH;delete this.WH;var d=this.uN;delete this.uN;if(a){var c=a.data(b.Kj.FE);a.removeData(b.Kj.FE);c&&(c.off("click",d),c.remove())}};b.Kj.prototype.getLink=function(){var a=this.WH,d;a&&(d=a.data(b.Kj.FE));return d};b.Kj.FE="oj-skiplink"});