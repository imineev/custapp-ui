/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdomscroller","promise"],function(b,f){b.ld=function(a,b,c){this.$=b;this.u=a;this.Vc=!1;this.wda(c);this.Init()};b.b.la(b.ld,b.b,"oj.DataSourceContentHandler");b.ld.prototype.Init=function(){b.ld.p.Init.call(this)};b.b.g("DataSourceContentHandler.prototype.Init",{Init:b.ld.prototype.Init});b.ld.prototype.ev=function(){};b.ld.prototype.ag=function(){f(this.$).empty();this.$=this.u=null};b.ld.prototype.gv=function(){return!this.Vc};b.ld.prototype.hW=
function(){this.In()?this.$.setAttribute("role","tree"):this.$.setAttribute("role","listbox")};b.ld.prototype.DX=function(){this.xb();this.cn(!1);this.hW();this.vb()};b.ld.prototype.Ye=function(a){return a.key};b.ld.prototype.re=function(a){var b,c,e;b=f(this.$).find("."+this.u.ug());for(c=0;c<b.length;c++)if(e=b[c],a==this.Ye(e))return e;return null};b.ld.prototype.faa=function(){return this.Na};b.ld.prototype.wda=function(a){this.Na=a};b.ld.prototype.cn=function(){this.u.sy()};b.ld.prototype.xT=
function(a,b,c,e,g){var h,k;h=document.createElement("li");f(h).uniqueId();k=f(a).children("."+this.u.ug()+", .oj-listview-no-data-message");a.insertBefore(h,b===k.length?null:k[b]);k=f(a).children().index(h);this.i_(h,k,a,b,c,e,g)};b.ld.prototype.Coa=function(a){var b,c,e;a=a.target;f(a).empty().removeClass("oj-listview-item-add-remove-transition").off("transitionend",this.lV);b=f.data(a,"ctx");f.removeData(a,"ctx");c=a.parentNode;e=f(c).children().index(a);this.i_(a,e,c,b.index,b.data,b.sca,b.ec)};
b.ld.prototype.GBa=function(a,b,c,e,g){null==this.lV&&(this.lV=this.Coa.bind(this));f.data(a,"ctx",{index:b,data:c,sca:e,ec:g});this.xb();f(a).addClass("oj-listview-item-add-remove-transition").on("transitionend",this.lV).css("opacity",0)};b.ld.prototype.i_=function(a,b,c,e,g,h,k){var l;void 0==k&&(k=this.Xt.bind(this));e=this.MT(e,g,h,a);h=this.u.zna();null!=h?(h=h.call(this,e),null!=h&&(null===h.parentNode||h.parentNode instanceof DocumentFragment?a.appendChild(h):null==h.parentNode&&h.toString&&
(l=document.createElement("span"),l.appendChild(document.createTextNode(h.toString())),a.appendChild(l)))):(l=document.createElement("span"),l.appendChild(document.createTextNode(null==g?"":g.toString())),a.appendChild(l));a=c.children[b];e.parentElement=a;f.data(a,"data",g);k(a,e)};b.ld.prototype.Xt=function(a,b){var c;a.key=b.key;a=f(a);a.uniqueId();c=this.u.kJ(a);c.attr("role",this.In()?"treeitem":"option");c!=a&&a.attr("role","presentation");c.addClass(this.u.dn());this.WU(b)||a.addClass("oj-skipfocus");
a.addClass(this.u.ug())};b.ld.prototype.MT=function(a,b,c,e){var f,h;f={};f.parentElement=e;f.index=a;f.data=b;f.component=this.u.gh();f.datasource=this.Na;for(h in c)c.hasOwnProperty(h)&&(f[h]=c[h]);return f};b.ld.prototype.WU=function(a){return this.u.vA("focusable",a,!0)};b.ld.prototype.xJ=function(a){return this.u.vA("selectable",a,!0)};b.ld.prototype.xb=function(){this.u&&this.u.xb()};b.ld.prototype.vb=function(){this.u&&this.u.vb()};b.Qb=function(a,d,c){b.Qb.p.constructor.call(this,a,d,c)};
b.b.la(b.Qb,b.ld,"oj.TableDataSourceContentHandler");b.Qb.prototype.Init=function(){b.Qb.p.Init.call(this)};b.Qb.prototype.In=function(){return!1};b.Qb.prototype.ag=function(){b.Qb.p.ag.call(this);this.EB();null!=this.ey&&(this.ey.destroy(),this.uV=this.ey=null);this.aD=null};b.Qb.prototype.ev=function(a,b){this.nj()&&void 0!=this.yr&&this.yr!=b&&(this.yr=b,this.checkViewport())};b.Qb.prototype.nj=function(){return"loadMoreOnScroll"==this.u.options.scrollPolicy?!0:!1};b.Qb.prototype.Bm=function(){return Math.max(0,
this.u.options.scrollPolicyOptions.fetchSize)};b.Qb.prototype.lP=function(){return this.u.options.scrollPolicyOptions.maxCount};b.Qb.prototype.wda=function(a){var d;this.EB();if(null!=a){this.nj()&&(d=this,this.uV=function(a){null!=a?(d.xb(),d.UR(),d.gv()&&d.xb(),d.iQ(a),a.maxCountLimit?d.pQ():d.x_(),d.vb(),d.vb()):void 0===a&&(d.UR(),d.vb())},this.ey=new b.vh(this.u.vk(),a,{fetchSize:this.Bm(),maxCount:this.lP(),success:this.uV,error:this.vb}),this.ey.qQ=function(a,e){1>=e-a&&d.xb();b.vh.prototype.qQ.call(this,
a,e)});this.gca=this.Xza.bind(this);this.fca=this.Wza.bind(this);this.bca=this.Sza.bind(this);this.eca=this.Uza.bind(this);this.cca=this.Tza.bind(this);this.JJ=this.Vza.bind(this);if(b.wa&&a instanceof b.wa)a.on("sync",this.gca);a.on("sort",this.fca);a.on("add",this.bca);a.on("remove",this.eca);a.on("change",this.cca);a.on("reset",this.JJ);a.on("refresh",this.JJ)}this.Na=a};b.Qb.prototype.x_=function(){var a,b;null==this.aD&&(a=f(document.createElement("li")),a.uniqueId().attr("role","presentation").addClass(this.u.Li()),
b=f(document.createElement("div")),b.addClass("oj-listview-loading-icon"),a.append(b),f(this.$).append(a),this.aD=a)};b.Qb.prototype.UR=function(){null!=this.aD&&this.aD.remove();this.aD=null};b.Qb.prototype.Xt=function(a,d){var c;b.Qb.p.Xt.call(this,a,d);f(a).addClass(this.u.Li());this.u.Tb()&&this.xJ(d)&&this.u.uf(f(a)).attr("aria-selected",!1);this.nj()&&(c=Math.min(this.Na.totalSize(),this.lP()),-1===c&&(c=this.lP()),0<c&&f(a).attr("aria-setsize",c).attr("aria-posinset",d.index+1));this.u.ou(a,
d)};b.Qb.prototype.jxa=function(a,b){var c,e,g;this.xb();this.Xt(a,b);c=f(a);e=c.outerHeight();c.css("opacity","0");c.css("maxHeight","0");g=this.u.Li();c.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e");c.removeClass(g).addClass("oj-listview-item-add-remove-transition");c.children().first().addClass(g);null==this.jV&&(this.jV=this.Aoa.bind(this));f.data(a,"ctx",b);c.on("transitionend",this.jV);this.xb();requestAnimationFrame(function(){c.css("opacity","1");c.css("maxHeight",e+"px")});this.vb()};b.Qb.prototype.pQ=
function(){b.r.error("max count reached")};b.Qb.prototype.EB=function(){null!=this.Na&&(this.Na.off("sync",this.gca),this.Na.off("sort",this.fca),this.Na.off("add",this.bca),this.Na.off("remove",this.eca),this.Na.off("change",this.cca),this.Na.off("reset",this.JJ),this.Na.off("refresh",this.JJ))};b.Qb.prototype.cn=function(a){var d=!0,c;this.xb();if(this.gv()&&(this.Vc=!0,b.Qb.p.cn.call(this,a),b.wa&&this.Na instanceof b.wa&&(d=!1,this.xb()),d||a)){d&&this.xb();a={fetchType:"init",startIndex:0};this.nj()&&
(a.pageSize=this.Bm());c=this;a=this.Na.fetch(a);a.then(function(a){null!=c.u&&d&&(f(c.$).empty(),c.iQ(a),c.nj()&&null!=a&&a.keys&&0<a.keys.length&&c.x_())},function(a){c.po(a);c.vb()});this.vb();return}this.vb()};b.Qb.prototype.po=function(a){b.r.error(a);this.nj()&&this.UR();this.u.Nr()};b.Qb.prototype.Bq=function(a,b){var c,e,f;c=this.$.childElementCount;for(e=0;e<a.length;e++)f=a[e],this.xT(this.$,c,f,this.getMetadata(c,b[e],f)),c+=1};b.Qb.prototype.Sza=function(a){var b,c,e;if(null!=this.$){this.xb();
b=a.data;c=a.keys;a=a.indexes;if(null!=b&&null!=c&&0<c.length&&0<b.length&&c.length==b.length&&null!=a&&c.length==a.length){for(e=0;e<b.length;e++)this.xb(),this.xT(this.$,a[e],b[e],this.getMetadata(a[e],c[e],b[e]),this.jxa.bind(this)),this.vb();this.gv()&&this.xb();this.J$()}this.vb()}};b.Qb.prototype.Aoa=function(a){var b;a=a.target;b=f.data(a,"ctx");f.removeData(a,"ctx");f(a).removeClass("oj-listview-item-add-remove-transition").addClass(this.u.Li()).off("transitionend",this.jV).children().children().unwrap();
this.u.Rba(a,b);this.vb()};b.Qb.prototype.Uza=function(a){var b,c;a=a.keys;if(null!=this.$&&null!=a&&0!=a.length){this.xb();for(b=0;b<a.length;b++)c=this.re(a[b]),null!=c&&(this.xb(),this.Uta(c),this.vb());this.u.Zu();this.vb()}};b.Qb.prototype.Uta=function(a){var b,c=this;this.xb();null==this.GV&&(this.GV=this.Jpa.bind(this));b=this.u.Li();a=f(a);a.children().wrapAll("\x3cdiv class\x3d'"+b+"'\x3e\x3c/div\x3e");a.removeClass(b).css("maxHeight",a.outerHeight()+"px").addClass("oj-listview-item-add-remove-transition").on("transitionend",
this.GV);setTimeout(function(){c.xb();a.css("opacity","0");a.css("maxHeight","0px");c.vb()},10)};b.Qb.prototype.Jpa=function(a){var b;a=f(a.target);b=a.parent();a.off("transitionend",this.GV);this.u.bV(a.get(0));a.remove();0==b.get(0).childElementCount&&this.u.Nr();this.vb()};b.Qb.prototype.Tza=function(a){var b,c,e,f;b=a.keys;if(null!=this.$&&null!=b&&0!=b.length){this.xb();c=a.data;a=a.indexes;for(e=0;e<b.length;e++)f=this.re(b[e]),null!=f&&(this.xb(),this.GBa(f,a[e],c[e],this.getMetadata(a[e],
b[e],c[e]),this.ixa.bind(this)),this.vb());this.u.Zu();this.vb()}};b.Qb.prototype.ixa=function(a,b){var c=this;this.xb();f(a).css("opacity",0);this.Xt(a,b);null==this.kV&&(this.kV=this.Boa.bind(this));f(a).on("transitionend",this.kV);setTimeout(function(){f(a).addClass("oj-listview-item-add-remove-transition").css("opacity",1);c.vb()},10)};b.Qb.prototype.Boa=function(a){f(a.target).removeClass("oj-listview-item-add-remove-transition").off("transitionend",this.kV);this.u.NBa();this.vb()};b.Qb.prototype.Vza=
function(){null!=this.$&&(this.xb(),this.u.Zu(),this.cn(!0),this.vb())};b.Qb.prototype.iQ=function(a){var b;null!=this.$&&(b=a.data,a=a.keys,Array.isArray(b)&&Array.isArray(a)&&b.length==a.length&&(this.Bq(b,a),this.J$()))};b.Qb.prototype.Xza=function(a){null!=this.$&&(this.xb(),0===a.startIndex&&f(this.$).empty(),this.u.Zu(),this.iQ(a),this.vb())};b.Qb.prototype.Wza=function(){null!=this.$&&(this.xb(),this.u.Zu(),this.u.ol()&&this.u.gj(!0),this.cn(!0),this.vb())};b.Qb.prototype.J$=function(){this.Vc=
!1;this.u.Nr();this.checkViewport();this.vb()};b.Qb.prototype.checkViewport=function(){var a=this,b;this.xb();null!=this.ey&&0<this.Na.totalSize()&&this.gv()&&(b=this.ey.checkViewport(),null!=b&&(this.xb(),b.then(function(b){a.uV(b);a.vb()},null)));this.vb()};b.Qb.prototype.getMetadata=function(a,b,c){c=c.context;null==c&&(c={});null==c.index&&(c.index=a);null==c.key&&(c.key=b);return c};b.Bh=function(a,d,c){b.Bh.p.constructor.call(this,a,d,c)};b.b.la(b.Bh,b.ld,"oj.TreeDataSourceContentHandler");
b.Bh.prototype.Init=function(){b.Bh.p.Init.call(this)};b.Bh.prototype.In=function(){return!0};b.Bh.prototype.cn=function(a){this.xb();b.Bh.p.cn.call(this,a);this.ah(0,null,this.$,null);this.vb()};b.Bh.prototype.ah=function(a,b,c,e){this.xb();this.Vc=!0;a={start:a,count:this.Na.tg(b)};this.Na.ah(b,a,{success:function(a){this.Bq(a,b,c,e)}.bind(this),error:function(a){this.po(a)}.bind(this)});this.vb()};b.Bh.prototype.Bq=function(a,b,c,e){var f,h,k,l;this.xb();b=a.getStart();f=a.getCount();for(h=0;h<
f;h++)k=a.getData(b+h),l=a.getMetadata(b+h),this.xT(c,b+h,k,l);this.Vc=!1;null!=e&&e.call(null,c);this.u.Nr();this.Aj=!0;this.vb()};b.Bh.prototype.Xt=function(a,d){var c,e,g,h,k,l;this.xb();b.Bh.p.Xt.call(this,a,d);c=this.u.eh();e=this.u.Li();g=this.u.vf();h=this.u.du();l=this.u.Gl();k=this.u.dn();a=f(a);!1==d.leaf?(a.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e"),a.hasClass(k)?a.removeClass(k).children().first().addClass(k).attr("aria-expanded","false"):a.children().first().attr("role","presentation").find("."+
k).attr("aria-expanded","false"),e=a.children().first(),e.uniqueId().addClass(g),this.u.Zx()&&(a.addClass("oj-collapsed"),g=document.createElement("a"),f(g).attr("href","#").attr("aria-labelledby",e.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),e.prepend(g)),l=document.createElement("ul"),f(l).addClass(c).addClass(h).attr("role","group"),a.append(l)):!0==d.leaf&&a.addClass(e);this.u.Tb()&&this.xJ(d)&&this.u.uf(a).attr("aria-selected",!1);this.u.ou(a[0],d);this.vb()};
b.Bh.prototype.po=function(a){this.xb();b.r.error(a);this.u.Nr();this.vb()};b.Bh.prototype.cv=function(a,b){var c,e;this.xb();c=this.Ye(a[0]);e=a.children("ul")[0];this.ah(0,c,e,b);this.vb()};b.Bh.prototype.$u=function(a){a.empty()};b.Qd=function(a,b){this.u=a;this.$=b};b.b.la(b.Qd,b.b,"oj.StaticContentHandler");b.Qd.prototype.Init=function(){b.Qd.p.Init.call(this)};b.Qd.prototype.ag=function(){this.oda(this.$,0);this.yCa()};b.Qd.prototype.gv=function(){return!0};b.Qd.prototype.ev=function(){};b.Qd.prototype.DX=
function(){this.xca(this.$,0);this.hW();this.u.Nr()};b.Qd.prototype.cv=function(a,b){var c;c="."+this.u.eh();c=f(a).children(c)[0];f(c).css("display","block");b.call(null,c)};b.Qd.prototype.$u=function(){};b.Qd.prototype.In=function(){null==this.zV&&(this.zV=0<f(this.$).children("li").children("ul").length);return this.zV};b.Qd.prototype.oda=function(a,b){var c,e,g,h,k,l,p,n,m,q;c=this.u.eh();e=this.u.du();g=this.u.Ox();h=this.u.vf();k=this.u.Li();l=this.u.ug();p=a.children;for(n=0;n<p.length;n++)m=
p[n],this.xCa(m),m=f(m),m.removeClass(l).removeClass(k).removeClass(this.u.oU(b)).removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected"),q=m.children("ul"),0<q.length&&(m.children("."+h).children().unwrap(),m.children(".oj-component-icon").remove(),m=f(q[0]),m.removeClass(c).removeClass(g).removeClass(e).removeAttr("role"),this.oda(m[0],b+1))};b.Qd.prototype.xca=function(a,b){var c,e,g,h,k,l,p,n,
m,q,s,r,u,v,w;c=this.u.Li();e=this.u.ug();g=this.u.eh();h=this.u.vf();k=this.u.du();l=this.u.Gl();p=this.u.dn();n=a.children;m=this.u.Zx();for(q=0;q<n.length;q++)s=f(n[q]),r=this.MT(s),this.TBa(s),s.uniqueId().addClass(e),0<b&&s.addClass(this.u.oU(b)),this.WU(r)||s.addClass("oj-skipfocus"),u=s.children("ul"),0<u.length?(this.zV=!0,s.children(":not(ul)").wrapAll("\x3cdiv\x3e\x3c/div\x3e"),v=s.children().first(),v.addClass(h),this.qAa(u[0])&&(s.hasClass(p)?(s.removeClass(p),v.addClass(p).attr("aria-expanded",
"false")):(v.attr("role","presentation"),v.find("."+p).attr("aria-expanded","false")),m&&(s.addClass("oj-collapsed"),v.uniqueId(),w=document.createElement("a"),f(w).attr("href","#").attr("role","button").attr("aria-labelledby",v.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),v.prepend(w))),u=f(u[0]),u.addClass(g).addClass(k).attr("role","group").css("display","none"),this.xca(u[0],b+1)):s.addClass(c),this.u.Tb()&&this.xJ(r)&&this.u.uf(s).attr("aria-selected",!1),
this.u.ou(s[0],r)};b.Qd.prototype.hW=function(){this.In()?this.$.setAttribute("role","tree"):this.$.setAttribute("role","listbox")};b.Qd.prototype.yCa=function(){this.$.removeAttribute("role")};b.Qd.prototype.qAa=function(a){return 0<f(a).children("li").length};b.Qd.prototype.MT=function(a){var b;b={};b.key=a.attr("id");b.parentElement=a.children().first()[0];b.index=a.index();b.data=a[0];b.component=this.u.gh();this.In()&&(b.leaf=0==a.children("ul").length,a=a.parents("li."+this.u.ug()),b.depth=
a.length,b.parentKey=0==a.length?null:a.first().attr("id"));return b};b.Qd.prototype.TBa=function(a){var b=this.u.kJ(a);b.attr("role",this.In()?"treeitem":"option");b!=a&&a.attr("role","presentation");b.addClass(this.u.dn())};b.Qd.prototype.xCa=function(a){a=this.u.kJ(f(a));a.removeAttr("role");a.removeAttr("aria-selected");a.removeAttr("aria-expanded");a.removeClass(this.u.dn())};b.Qd.prototype.Ye=function(a){return f(a).attr("id")};b.Qd.prototype.re=function(a){return document.getElementById(a)};
b.Qd.prototype.WU=function(a){return this.u.vA("focusable",a,!0)};b.Qd.prototype.xJ=function(a){return this.u.vA("selectable",a,!0)};b.sR=function(a,d){function c(){}b.b.la(c,a,"");c.prototype=f.extend(c.prototype,d);return c}(Object,{Xi:37,Lj:39,Yr:40,ls:38,TD:9,Gy:13,Hy:27,Iy:113,QD:32,Uk:0,Tk:1,GX:2,JCa:0,as:1,Yo:function(a){var d=this,c;this.Mr=[];this.xb();this.W=a.W;this.element=a.element;this.options=a;this.element.uniqueId().addClass(this.UK()+" oj-component-initnode").attr("tabIndex",0);
"undefined"!=typeof b.Wa&&(this.kh=c=new b.Wa(this),this.W._on(this.element,{dragstart:function(a){return c.fQ(a)},dragenter:function(a){return c.cQ(a)},dragover:function(a){return c.eQ(a)},dragleave:function(a){return c.dQ(a)},dragend:function(a){return c.bQ(a)},drag:function(a){return c.Woa(a)},drop:function(a){return c.gQ(a)}}));this.W._on(this.element,{click:function(a){d.$K(a)},touchstart:function(a){d.KD(a)},touchend:function(a){d.My(a)},touchcancel:function(a){d.My(a)},mousedown:function(a){0!==
a.button||d.yB()||d.KD(a)},mouseup:function(a){d.l4(a);d.FV=!1},mouseout:function(a){d.j4(a)},mouseover:function(a){d.Cpa(a)},keydown:function(a){d.JD(a)},focus:function(a){d.ZK(a)},blur:function(a){d.YK(a)},ojpanmove:function(a){d.l4(a)}});b.eb.pC().browser===b.eb.Hn.VW&&this.W._on(this.je(),{focus:function(){d.element.focus()}});this.as===this.as?this.W._on(this.element,{focusin:function(a){d.ZK(a)},focusout:function(a){d.Qea(a)}}):this.W._on(this.element,{focus:function(a){d.ZK(a)},blur:function(a){d.YK(a)}});
this.W.document.bind("touchend.ojlistview touchcancel.ojlistview",this.My.bind(this));this.b7()},xx:function(){var a;this.wja();this.dq();this.M4();a=this.je();this.ul(a[0]);this.vb()},refresh:function(){this.w7();this.xb();this.Xy();this.dq();this.M4();this.b7();this.vb()},whenReady:function(){return this.Uca},destroy:function(){this.element.removeClass(this.UK()+" oj-component-initnode");this.Sm(this.je());this.w7();b.A.unwrap(this.element,this.je());this.W.document.off(".ojlistview")},w7:function(){var a=
this;this.wL();this.Vja(this.element);null!=this.yf&&(this.yf.ag(),delete this.yf,this.yf=null);this.J=null;this.Mr=[];this.Uca=new Promise(function(b){a.Vca=b});this.Zu()},Eca:function(){this.je().removeClass("oj-focus-ancestor");null!=this.J&&f(this.J.elem).removeClass("oj-focus");null!=this.AV&&this.Eo(this.AV,"oj-hover")},mEa:function(){},getNodeBySubId:function(a){var b;if(null==a)return this.element?this.element[0]:null;b=a.subId;if("oj-listview-disclosure"===b||"oj-listview-icon"===b)if(a=
a.key,a=this.re(a),null!=a&&a.firstElementChild&&(a=a.firstElementChild.firstElementChild,null!=a&&(f(a).hasClass(this.Po())||f(a).hasClass(this.Gl()))))return a;return null},getSubIdByNode:function(a){if(null!=a&&f(a).hasClass(this.Po())||f(a).hasClass(this.Gl()))if(a=this.Ok(a),null!=a&&0<a.length&&(a=this.Ye(a[0]),null!=a))return{subId:"oj-listview-disclosure",key:a};return null},getContextByNode:function(a){var b,c,e;a=this.Ok(a);return null!=a&&0<a.length&&(b=this.Ye(a[0]),null!=b)?(c=a.parent(),
e=c.children("li").index(a),b={subId:"oj-listview-item",key:b,index:e},c.get(0)!=this.element.get(0)&&(b.parent=c.parent().get(0)),a.children().first().hasClass(this.vf())?b.group=!0:b.group=!1,b):null},getDataForVisibleItem:function(a){var b;b=a.index;a=a.parent;a=null==a?this.element.get(0):f(a).children("ul."+this.eh()).first();b=f(a).children("li").get(b);return null!=b&&f(b).hasClass(this.Li())?this.z2(b):null},z2:function(a){return null==this.Pd("data")?a:f.data(a,"data")},dq:function(a){null!=
this.kh&&this.kh.fxa(a)},Sm:function(a){a&&this.Of&&b.A.Gk(a,this.Of)},ul:function(a){a&&(null==this.Of&&(this.Of=this.kg.bind(this)),b.A.uj(a,this.Of))},kg:function(a,b){0<a&&0<b&&null!=this.yf&&this.yf.ev(a,b)},OX:function(a){return null!=a.data||null!=a.drillMode||null!=a.groupHeaderPosition||null!=a.item||null!=a.scrollPolicy||null!=a.scrollPolicyOptions},Ru:function(a){var b,c,e,g;if(this.OX(a))return null!=a.data&&(null==a.currentItem&&this.Mj("currentItem",null),null==a.selection&&this.gj(!0)),
!0;null!=a.currentItem?(c=this.re(a.currentItem),null!=c&&(c=f(c),this.$i(c)||this.cq(c,null))):null===a.currentItem&&(this.VD(),this.J=null,this.element.attr("tabIndex",0));null!=a.expanded&&this.yf.In()&&(c=a.expanded,Array.isArray(c)&&(this.xb(),this.ika(),b=this,f.each(c,function(a,c){b.XT(c,!0,!0,!0)}),this.vb()));if(null!=a.selection&&this.Tb())for(a.selection=this.zma(a.selection),e=a.selection,this.gj(!1),g=0;g<e.length;g++)c=this.re(e[g]),null!=c&&this.Jz(c,e[g]);null!=a.selectionMode&&(this.gj(!0),
this.Xy());null!=a.contextMenu&&this.dq(a.contextMenu);return!1},aj:function(a,b,c){return this.W._trigger(a,b,c)},Mj:function(a,b,c){this.W.option(a,b,c)},Pd:function(a){return this.W.option(a)},xb:function(){var a=this;this.Mr&&(0==this.Mr.length&&(this.Uca=new Promise(function(b){a.Vca=b})),this.Mr.push(1))},vb:function(){this.Mr&&0<this.Mr.length&&(this.Mr.pop(),0==this.Mr.length&&this.Vca(null))},M4:function(){var a;this.xb();a=this.Pd("data");if(null!=a){if("undefined"===typeof b.V||"undefined"===
typeof b.ks)throw"oj.TableDataSource or oj.TreeDataSource not found. Ensure the required modules are imported";if(a instanceof b.V)this.yf=new b.Qb(this,this.element[0],a);else if(a instanceof b.ks)this.yf=new b.Bh(this,this.element[0],a);else throw"Invalid data";}else this.yf=new b.Qd(this,this.element[0]);this.sy();this.yf.DX();this.vb()},wfa:function(a){this.element.attr("aria-activedescendant",a.attr("id"))},Xy:function(){this.element.attr("aria-activedescendant","");this.ol()?this.element.attr("aria-multiselectable",
!0):this.Tb()&&this.element.attr("aria-multiselectable",!1)},wL:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},wja:function(){var a,b;a=this.je();this.Xy();b=this.Aja();a.append(b);this.Ek=b;b=this.qja();a.append(b);this.$x=b;this.ek()&&a.append(this.rja())},Aja:function(){var a=f(document.createElement("div"));a.addClass("oj-listview-status-message oj-listview-status").attr({id:this.Ss("status"),role:"status"});return a},qja:function(){var a=f(document.createElement("div"));
a.addClass("oj-helper-hidden-accessible").attr({id:this.Ss("info"),role:"status"});return a},rja:function(){var a=f(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.Ss("instr")});a.text(this.W.v("accessibleReorderTouchInstructionText"));return a},Wg:function(a){""!=a&&this.$x.text()!=a&&this.$x.text(a)},sy:function(){var a=this.W.v("msgFetchingData");this.Ek.text(a).css("left",this.element.outerWidth()/2-this.Ek.outerWidth()/2).show()},Xo:function(){this.Ek.hide()},
vk:function(){return this.je()},je:function(){null==this.SC&&(this.SC=this.Pka());return this.SC},Pka:function(){var a=f(document.createElement("div"));a.addClass(this.aX()).addClass("oj-component");this.element.parent()[0].replaceChild(a[0],this.element[0]);a.prepend(this.element);return a},pna:function(){return this.W.v("msgNoData")},cF:function(){var a,b;a=this.pna();b=document.createElement("li");b.id=this.Ss("empty");b.className="oj-listview-no-data-message oj-listview-empty-text";b.textContent=
a;return b},eg:function(a){a=this.uf(a).attr("aria-expanded");return"true"==a?this.Uk:"false"==a?this.Tk:this.GX},js:function(a,b){var c=this.Zx();b==this.Uk?(this.uf(a).attr("aria-expanded","true"),c&&a.removeClass("oj-collapsed").addClass("oj-expanded")):b==this.Tk&&(this.uf(a).attr("aria-expanded","false"),c&&a.removeClass("oj-expanded").addClass("oj-collapsed"))},vA:function(a,b,c){a=this.options.item[a];return"function"==typeof a&&c?a.call(this,b):a},zna:function(){var a=this.vA("renderer",null,
!1);return"function"!=typeof a?null:a},Rba:function(){},bV:function(a){var b;if(null!=a&&a.id&&null!=this.vn)for(b in this.vn)if(this.vn.hasOwnProperty(b)&&this.vn[b]===a.id){delete this.vn[b];break}},ou:function(a,b){var c,e,g,h;null!=this.kh&&this.kh.ou(a);this.iO(a);if(this.Tb())if(c=this.Pd("selection"),this.Wi(a))for(g=0;g<c.length;g++){if(c[g]==b.key&&(this.Jz(a,c[g]),!this.ol())){1<c.length&&(e=f(this.re(b.key)),this.Mj("selection",[b.key],{_context:{originalEvent:null,lb:!0,pk:{items:e}},
changed:!0}));break}}else if(g=c.indexOf(b.key),-1<g){c=c.slice(0);c.splice(g,1);e=Array(c.length);for(g=0;g<c.length;g++)e[g]=this.re(c[g]);this.Mj("selection",c,{_context:{originalEvent:null,lb:!0,pk:{items:f(e)}},changed:!0})}this.yf.In()&&this.eg(f(a))==this.Tk&&(g=this.Pd("expanded"),this.Mw()?this.$r(f(a),null,!1,null,!1,!1,!1):Array.isArray(g)&&(h=this,f.each(g,function(c,e){e==b.key&&h.$r(f(a),null,!1,null,!1,!1,!1)})));null!=this.J&&b.key==this.J.key&&null!=this.J.elem&&a!=this.J.elem.get(0)&&
(this.J.elem=f(a))},Nr:function(){var a;this.Xo();f(document.getElementById(this.Ss("empty"))).remove();0==this.element[0].childElementCount?(a=this.cF(),this.element.append(a)):(this.hy=null,a=this.Pd("currentItem"),null!=a&&(a=this.re(a),null==a?this.Mj("currentItem",null):null!=this.J||this.$i(f(a))||this.cq(f(a),null)),this.je().hasClass("oj-focus-ancestor")&&null==this.J&&this.Q4());this.aj("ready",null,{})},NBa:function(){var a=this.Pd("currentItem");null!=a&&(a=this.re(a),null==a||this.$i(f(a))||
this.cq(f(a),null))},Zu:function(){this.yV=this.hy=null},Dca:function(a,b,c){var e;if(this.LD(f(b.target)))return!1;e=f(b.target).closest("."+this.ug());0<e.length&&!this.$i(f(e[0]))&&this.cq(f(e[0]),null);e=this.element;null!=this.J&&(e=this.J.elem);e={launcher:e,initialFocus:"menu"};"keyboard"===c&&(e.position={my:"start top",at:"start bottom",of:this.J.elem});null!=this.kh&&this.kh.Ooa(f(a.element),b);this.W.Jg(b,c,e)},hX:function(a){return null!=a.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},
LD:function(a){for(;null!=a&&a[0]!=this.element[0]&&"LI"!=a.prop("nodeName");){if(3!=a[0].nodeType){var b=a.attr("tabIndex"),c=a.attr("data-oj-tabindex");if(null!=b&&0<=b&&!a.hasClass(this.dn())||this.hX(a)&&(-1!=b||-1!=c))return!0}a=a.parent()}return!1},iO:function(a){var b;f(a).find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){f(this).removeAttr("data-first").removeAttr("data-last");b=parseInt(f(this).attr("tabIndex"),10);(isNaN(b)||0<=b)&&f(this).attr("tabIndex",
-1).attr("data-tabmod",isNaN(b)?-1:b)})},gma:function(a){var b;a=f(a).find("[data-tabmod]").each(function(){b=parseInt(f(this).attr("data-tabmod"),10);f(this).removeAttr("data-tabmod");-1==b?f(this).removeAttr("tabIndex"):f(this).attr("tabIndex",b)});a.first().attr("data-first","true");a.last().attr("data-last","true")},Vja:function(a){f(a).find("[data-tabmod]").removeAttr("tabIndex").removeAttr("data-tabmod").removeAttr("data-first").removeAttr("data-last")},$i:function(a){return a.hasClass("oj-skipfocus")},
ZK:function(a){this.je().addClass("oj-focus-ancestor");null==this.J?this.ek()||this.FV||this.Q4(a):this.FV||this.Ny()},Q4:function(a){var b,c,e;b=this.wA();for(c=0;c<b.length;c++)if(e=f(b[c]),!this.$i(e)){this.cq(e,a);break}},Qea:function(a){this.YK(a)},YK:function(a){null!=a.relatedTarget&&f.contains(this.element.get(0),a.relatedTarget)||(this.je().removeClass("oj-focus-ancestor"),this.VD())},j4:function(a){a=this.Ok(a.target);null!=a&&(this.AV=null,this.Eo(a,"oj-hover"))},Cpa:function(a){this.yB()||
(a=this.Ok(a.target),null==a||this.$i(a)||(this.AV=a,this.RG(a,"oj-hover")))},yB:function(){return 500>Date.now()-this.fR},JD:function(a){var b,c;if(this.Zx()&&(b=a.keyCode,b===this.Xi||b===this.Lj))if(c=this.J.elem,b===this.Xi){if(this.eg(c)==this.Uk){this.Cp(c,a,!0,this.J.key,!0,!0);return}}else if(this.eg(c)==this.Tk){this.$r(c,a,!0,this.J.key,!0,!0,!0);return}b=this.fX(a);null!=this.kh&&(b=b||this.kh.JD(a));!0===b&&a.preventDefault()},l4:function(a){this.TJ&&this.Eo(this.TJ,"oj-focus");null!=
this.kh&&this.kh.z9(f(a.target))},KD:function(a){var b;this.FV=!0;b=f(a.target);null!=this.kh&&this.kh.g8(b);a=this.gf(b);null==a||0==a.length||this.$i(a)||b.hasClass("oj-listview-drag-handle")||(this.je().hasClass("oj-focus-ancestor")||this.je().addClass("oj-focus-ancestor"),this.TJ=a,this.RG(a,"oj-focus"))},My:function(a){null!=this.TJ&&this.Eo(this.TJ,"oj-focus");this.fR=Date.now();this.j4(a)},$K:function(a){var b,c,e,g;0===a.button&&(b=this.Gl(),c=this.Po(),e=this.vf(),g=f(a.target),g.hasClass(c)?
(this.wm(a),a.preventDefault()):g.hasClass(b)?(this.ff(a),a.preventDefault()):(this.c5()&&null!=this.J&&(this.jS(!1),this.iO(this.J.elem)),b=this.gf(g),null==b||0==b.length||this.$i(b)||(this.je().hasClass("oj-focus-ancestor")||this.je().addClass("oj-focus-ancestor"),this.Tb()&&this.Wi(b[0])?this.ek()?this.Vpa(b,a):this.Pea(b,a):this.ID(b,a),this.Zx()&&g.closest("."+e)&&(this.eg(b)==this.Tk?this.ff(a):this.eg(b)==this.Uk&&this.wm(a)))))},ek:function(){return b.A.Zd()},YN:function(a){return b.A.Zo(a)},
Ss:function(a){return[this.element.attr("id"),a].join(":")},Ok:function(a){return f(a).closest("."+this.ug())},Sqa:function(a){return a.hasClass("oj-clickthrough-disabled")||a.hasClass("oj-component-initnode")||a.hasClass("oj-component")},gf:function(a){for(;0<a.length&&!this.Sqa(a);){if(a.hasClass(this.ug()))return a;a=a.parent()}return null},Fna:function(){null==this.Zba&&(this.Zba=parseInt(this.je().css("border-top-width"),10)+parseInt(this.je().css("border-bottom-width"),10));return this.Zba},
P7:function(a){var b,c,e,g,h,k,l=0;b=a.offsetTop;c=a.offsetHeight;a=this.je()[0];e=a.scrollTop;g=a.offsetHeight;null!=this.Rf&&(h=parseInt(this.Rf.style.top,10),k=f(this.Rf).outerHeight(),b<=h&&h<b+c?l=(c+b-h)/2:b>=h&&b<h+k&&(l=(h+k-b)/2));b>=e&&b+c<=e+g?0<l&&(a.scrollTop=e-l):(b=Math.max(0,Math.min(b-l,Math.abs(b+c-g))),b>e&&(b+=this.Fna()),a.scrollTop=b)},Ye:function(a){return this.yf.Ye(a)},re:function(a){var b;return null!=this.vn&&(b=this.vn[a],null!=b)?document.getElementById(b):this.yf.re(a)},
fv:function(a){return a==this.ls||a==this.Yr},wA:function(){var a,b,c;null==this.hy&&(a=this.du(),b="."+this.ug()+":visible",this.hy=this.element.find(b).filter(function(){return(c=f(this).parent().hasClass(a))?!f(this).parent().parent().hasClass("oj-collapsed"):!0}));return this.hy},fs:function(a,b,c){var e,g,h;if(!this.yf.gv())return!0;e=!b||this.LJ?this.J.elem:this.Wc;g=!1;h=this.wA();e=h.index(e);switch(a){case this.ls:e--;if(0<=e){for(a=f(h[e]);this.$i(a);){e--;if(0>e)return!1;a=f(h[e])}b?(this.xO(a,
c),this.LJ=!1):(this.cq(a,c),this.LJ=!0)}g=!0;break;case this.Yr:e++;if(e<h.length){for(a=f(h[e]);this.$i(a);){e++;if(e==h.length)return!1;a=f(h[e])}b?(this.xO(a,c),this.LJ=!1):(this.cq(a,c),this.LJ=!0)}g=!0}return g},c5:function(){return"actionable"==this.MJ},jS:function(a){this.MJ=a?"actionable":"navigation";a||this.element[0].focus()},KCa:function(){return this.as},uf:function(a){return a.hasClass(this.dn())?a:f(a.find("."+this.dn()).first())},yva:function(a){this.uf(a).attr("tabIndex",0)},qua:function(a){var b;
b=!0;"presentation"===a.attr("role")&&(b=!1);a=this.uf(a);b?a.removeAttr("tabIndex"):a.attr("tabIndex",-1)},e2:function(a,b){this.as===this.as?(null!=a&&this.qua(a),this.yva(b),this.element.attr("tabIndex")&&this.element.removeAttr("tabIndex")):this.wfa(b)},kJ:function(a){var b;b=a.children("a, input, select, textarea, button");return 1===b.length&&0===b.first().find("a, input, select, textarea, button").length?b.first():a},Rc:function(a,b){var c,e,f;null!=a?(c=a[0],c=this.Ye(c),null==this.J||c!=
this.J.key?(e={key:c,item:a},null!=this.J&&(e.previousKey=this.J.key,e.previousItem=this.J.elem,null!=this.kh&&this.ek()&&this.kh.z9(e.previousItem)),f=!this.aj("beforeCurrentItem",b,e),f||(this.J=f={key:c,elem:a},null!=this.kh&&this.ek()&&this.kh.g8(a),this.e2(e.previousItem,a),this.Mj("currentItem",c,{_context:{originalEvent:b,lb:!0,pk:{item:a}},changed:!0}))):c==this.J.key&&(this.J=f={key:c,elem:a},this.e2(null,a))):this.J=null},Ny:function(a){var b,c;null!=this.J&&this.je().hasClass("oj-focus-ancestor")&&
(a=a||!1,b=this.J.elem,this.RG(b,"oj-focus"),this.as===this.as&&(b=this.uf(b),c=document.activeElement,!a&&b.get(0).contains(c)||b.get(0).focus()))},VD:function(){null!=this.J&&this.Eo(this.J.elem,"oj-focus")},ID:function(a,b){this.cq(a,b)},cq:function(a,b){this.P7(a[0]);this.VD();this.Rc(a,b);this.Ny()},Tb:function(){return"none"!=this.Pd("selectionMode")},ol:function(){return"multiple"==this.Pd("selectionMode")},Wi:function(a){a=this.uf(f(a)).get(0);return a.hasAttribute("aria-selected")},zma:function(a){var b,
c,e;b=[];for(c=0;c<a.length&&(e=this.re(a[c]),null==e||!this.Wi(e)||(b.push(a[c]),this.ol()));c++);return b},Awa:function(){var a,b;null!=this.vn&&(a=this,f.each(this.Pd("selection"),function(c,e){b=a.re(e);null!=b&&a.Eo(b,"oj-selected")}))},RG:function(a,b){this.Oy(a,b,!0)},Eo:function(a,b){this.Oy(a,b,!1)},Oy:function(a,b,c){var e;a=f(a);"oj-selected"==b&&this.uf(a).attr("aria-selected",c?"true":"false");e=a.children("."+this.vf());0<e.length&&(a=f(e[0]));c?a.addClass(b):a.removeClass(b)},Pea:function(a,
b){var c,e;this.P7(a[0]);c=this.YN(b);e=b.shiftKey;this.ol()?c||e?!c&&e?this.xO(a,b):this.ZM(a,b):this.Wy(a,b):this.Wy(a,b)},Vpa:function(a,b){this.ol()?this.ZM(a,b):this.Wy(a,b)},gj:function(a){this.Awa();a&&this.Mj("selection",[],{_context:{originalEvent:null,lb:!0,pk:{items:f()}},changed:!0});this.Wc=null},Wy:function(a,b){this.gj(!1);this.ZM(a,b,[])},xO:function(a,b){var c;null!=this.J&&(c=this.Wc,c!=a&&(this.Eo(a,"oj-focus"),this.J1(this.J.elem,a,b)))},J1:function(a,b,c){this.gj(!1);this.Wc=
b;this.gqa(a,b,c);this.Ny()},gqa:function(a,b,c){var e,g,h,k,l;e=[];g=[];h=this.wA();a=h.index(a);k=h.index(b);a>k?b=k:(b=a,a=k);for(;b<=a;b++)k=h[b],this.Wi(k)&&(l=this.yf.Ye(k),this.Jz(k,l),e.push(l),g.push(k));this.Mj("selection",e,{_context:{originalEvent:c,lb:!0,pk:{items:f(g)}},changed:!0})},Jz:function(a,b){null==this.vn&&(this.vn={});this.vn[b]=f(a).attr("id");this.RG(a,"oj-selected")},ZM:function(a,b,c){var e,g;e=this.Ye(a[0]);void 0==c&&(c=this.Pd("selection").slice(0));this.VD();this.Rc(a,
b);this.Ny();if(null==this.J||this.J.elem.get(0)!=a.get(0))null!=c&&0==c.length&&this.Mj("selection",c,{_context:{originalEvent:b,lb:!0,pk:{items:f([])}},changed:!0});else{g=c.indexOf(e);-1<g?(this.Eo(a,"oj-selected"),c.splice(g,1)):(this.Wc=a,this.Jz(a,e),c.push(e));a=Array(c.length);for(e=0;e<c.length;e++)a[e]=this.re(c[e]);this.Mj("selection",c,{_context:{originalEvent:b,lb:!0,pk:{items:f(a)}},changed:!0})}},UD:function(a,b,c){var e,g,h,k;e=this.Pd("selection").slice(0);g=this.J.elem;h=this.J.key;
k=e.indexOf(h);if(-1<k){if(c)return;this.Eo(g,"oj-selected");e.splice(k,1);0==e.length&&(this.Wc=null)}else this.Wi(g[0])&&(b||(this.gj(!1),e.length=0),this.Wc=g,this.Jz(g,h),e.push(h));b=Array(e.length);for(c=0;c<e.length;c++)b[c]=this.re(e[c]);this.Mj("selection",e,{_context:{originalEvent:a,lb:!0,pk:{items:f(b)}},changed:!0})},fX:function(a){var b,c,e,f=!1;if(null==this.J)return!1;b=a.keyCode;c=this.J.elem;this.c5()?b==this.Hy?(this.jS(!1),this.iO(c),this.Ny(!0),f=!0):b===this.TD&&(b=c.find("[data-first]"),
c=c.find("[data-last]"),a.shiftKey?0<b.length&&0<c.length&&b!=c&&a.target==b[0]&&(c[0].focus(),f=!0):0<b.length&&0<c.length&&b!=c&&a.target==c[0]&&(b[0].focus(),f=!0)):b==this.Iy?(this.gma(c),b=c.find("[data-first]"),0<b.length&&(b[0].focus(),this.jS(!0))):b==this.QD&&this.Tb()?(c=this.YN(a),(e=a.shiftKey)&&!c&&null!=this.Wc&&this.ol()?this.J1(this.Wc,this.J.elem,a):this.UD(a,c&&!e&&this.ol(),!1),f=!0):b==this.Gy&&this.Tb()?this.UD(a,!1,!0):this.fv(b)&&(c=this.YN(a),e=a.shiftKey,c||(f=this.fs(b,e&&
this.Tb()&&this.ol(),a)));return f},Zx:function(){return"none"!=this.Pd("drillMode")},Mw:function(){var a=this.Pd("expanded");if("auto"===a){if(!this.Zx())return!0}else if("all"===a)return!0;return!1},XT:function(a,b,c,e){var g=this.re(a);null!=g&&this.$r(f(g),null,!1,a,b,e,c)},ff:function(a){var b=this.Ok(a.target);null!=b&&0<b.length&&this.$r(b,a,!0,null,!0,!0,!0)},$r:function(a,b,c,e,f,h,k){var l;if(this.eg(a)==this.Tk){null==e&&(e=this.Ye(a[0]));l={item:a,key:e};if(k&&(e=!this.aj("beforeExpand",
b,l))&&f)return;this.xb();this.yf.cv(a,function(a){this.qma(a,c,b,l,h)}.bind(this));this.hy=null;null!=b&&b.stopPropagation();this.vb()}},qma:function(a,b,c,e,g){var h;this.xb();this.EK(f(a),b,c);a=a.parentNode;a=f(a);this.js(a,this.Uk);b=this.Gl();h=this.Po();a.children("."+this.vf()).find("."+b).removeClass(b).addClass(h);g&&this.aj("expand",c,e);this.vb()},p_:function(a,b){var c;a.parentsUntil("ul.oj-component-initnode","ul."+this.eh()).each(function(){c=parseInt(f(this).css("maxHeight"),10);0<
c&&f(this).css("maxHeight",c+b+"px")})},EK:function(a,b){var c=0;b?(this.xb(),a.children().each(function(){c+=f(this).outerHeight(!0)}),this.ek()&&this.p_(a,c),null==this.vV&&(this.vV=this.$oa.bind(this)),a.css("maxHeight","0px"),a.on("transitionend",this.vV),this.xb(),requestAnimationFrame(function(){a.css("maxHeight",c+"px")}),this.vb()):(this.ek()?(a.children().each(function(){c+=f(this).outerHeight(!0)}),a.css("maxHeight",c+"px"),this.p_(a,c)):a.css("maxHeight",""),this.FK(a))},$oa:function(a){a=
f(a.target);a.off("transitionend",this.vV);this.ek()||a.css("maxHeight","");this.FK(a);this.vb()},FK:function(a){a.removeClass(this.du()).addClass(this.Ox())},k$:function(a,b,c){var e=this.re(a);null!=e&&this.Cp(f(e),null,!1,a,b,c)},wm:function(a){var b=this.Ok(a.target);null!=b&&0<b.length&&this.Cp(b,a,!0,null,!0,!0)},Cp:function(a,b,c,e,f,h){var k;this.eg(a)==this.Uk&&(null==e&&(e=this.Ye(a[0])),e={item:a,key:e},k=!this.aj("beforeCollapse",b,e),k&&f||(this.xb(),this.CK(a,c,b),this.js(a,this.Tk),
c=this.Gl(),f=this.Po(),a.find("."+f).first().removeClass(f).addClass(c),this.hy=null,null!=b&&b.stopPropagation(),h&&this.aj("collapse",b,e),this.vb()))},CK:function(a,b){var c=0,e,g=this;e=a.children("ul").first();b?(this.xb(),null==this.nV&&(this.nV=this.Loa.bind(this)),e.children().each(function(){c+=f(this).outerHeight()}),e.css("transition-property","none"),e.css("maxHeight",c+"px"),e.css("transition-property",""),e.on("transitionend",this.nV),setTimeout(function(){g.xb();e.css("maxHeight",
"0px");g.vb()},100)):(e.css("maxHeight","0px"),this.DK(a))},Loa:function(a){a=f(a.target);a.off("transitionend",this.nV);this.DK(a);this.vb()},DK:function(a){a.removeClass(this.Ox()).addClass(this.du());null!=this.yf&&this.yf.$u(a)},ika:function(){var a;this.xb();a=this;this.wA().each(function(){a.Cp(f(this),null,!1,null,!1,!1)});this.vb()},getExpanded:function(){var a,b,c;a=[];b=this;this.wA().each(function(){c=f(this);b.eg(c)==b.Uk&&a.push(b.Ye(c[0]))});return a},gh:function(){return b.Components.gh(this.element)},
aX:function(){return this.ek()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},UK:function(){return"oj-listview-element"},Li:function(){return"oj-listview-item"},dn:function(){return"oj-listview-focused-element"},ug:function(){return"oj-listview-item-element"},vf:function(){return"oj-listview-group-item"},eh:function(){return"oj-listview-group"},Ox:function(){return"oj-listview-collapsible-transition"},du:function(){return this.Ox()},Gl:function(){return"oj-listview-collapse-icon"},
Po:function(){return"oj-listview-expand-icon"},cEa:function(){return"oj-listview-no-data-message"},oU:function(){return""},b7:function(){var a=this;this.W._off(this.je(),"scroll");this.r5()&&this.W._on(this.je(),{scroll:function(){a.o4()}})},r5:function(){return"static"!=this.Pd("groupHeaderPosition")},tA:function(){var a;null==this.yV&&(a="."+this.vf()+":visible",this.yV=this.element.find(a).filter(function(){return!f(this).parent().hasClass("oj-collapsed")&&0<f(this).next().children().length?!0:
!1}));return this.yV},hT:function(a){a.style.position="static";a.style.top="auto";a.style.width="auto"},e3:function(a){var b;b=this.tA();a=b.index(a);return-1<a&&a<b.length-1?b[a+1]:null},Fsa:function(a,b){var c,e,f;c=a.offsetWidth;e=a.offsetHeight;f=this.e3(a);null!=f&&f.offsetTop<=b+e+5&&(b-=e);a.style.position="absolute";a.style.top=b+"px";a.style.width=c+"px"},o4:function(){var a,b,c,e,f,h,k,l;a=this.je().get(0).scrollTop;if(null!=this.Rf&&0==a)this.hT(this.Rf),this.Rf=null;else{c=this.tA();e=
0;null!=this.Rf&&(e=this.Rf.offsetHeight);for(f=0;f<c.length;f++)if(h=c[f],this.Rf!=h&&(k=c[f].offsetTop,l=k+h.parentNode.offsetHeight,k<a&&l>a+e)){b=h;break}null!=b&&b!=this.Rf?(null!=this.Rf&&this.hT(this.Rf),this.Fsa(b,a),this.Rf=b):null!=this.Rf&&(b=this.e3(this.Rf),this.Rf.style.top=null!=b&&b.offsetTop<=a+e?b.offsetTop-e+"px":a+"px")}},O7:function(a){var b,c;b=this.je().get(0);c=b.scrollTop;null!=this.Rf&&(this.hT(this.Rf),this.Rf=null);b.scrollTop=a.offsetTop;this.r5()&&c==b.scrollTop&&this.o4();
this.ava(a)},ava:function(a){var b=this,c;f(a).next().children().each(function(){c=f(this);if(!b.$i(c))return b.Mj("currentItem",this.key),!1})}});o_("_ojListView",b.sR,b);b.Ja("oj.ojListView",f.oj.baseComponent,{widgetEventPrefix:"oj",options:{currentItem:null,data:null,dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:"auto",groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,selectable:!0},scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},
selection:[],selectionMode:"none",beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,optionChange:null,paste:null,ready:null,reorder:null},_ComponentCreate:function(){this._super();this.Ma()},Ma:function(){var a={};a.element=this.element;a.W=this;a=f.extend(this.options,a);this.Aa=new b.sR;this.Aa.Yo(a)},Eg:function(){this._super();this.Aa.xx()},_destroy:function(){this.Aa.destroy();this._super()},Hg:function(a,b,c){this.Aa.Dca(a,b,c)},_setOptions:function(a,
b){var c=this.Aa.Ru(a,b);this._super(a,b);c&&(this.Aa.refresh(),this.Y1())},_setOption:function(a,b){var c=!0;"selectionMode"==a?c="none"==b||"single"==b||"multiple"==b:"drillMode"==a?c="collapsible"==b||"none"==b:"scrollPolicy"==a?c="auto"==b||"loadMoreOnScroll"==b:"groupHeaderPosition"==a&&(c="static"==b||"sticky"==b);if(c)this._super(a,b);else throw"Invalid value: "+b+" for key: "+a;},Tj:function(){this.Aa.Eca()},On:function(){},widget:function(){return this.Aa.vk()},refresh:function(){this._super();
this.Aa.refresh();this.Y1()},whenReady:function(){return this.Aa.whenReady()},getNodeBySubId:function(a){return this.Aa.getNodeBySubId(a)},getSubIdByNode:function(a){return this.Aa.getSubIdByNode(a)},getContextByNode:function(a){return this.Aa.getContextByNode(a)},getDataForVisibleItem:function(a){return this.Aa.getDataForVisibleItem(a)},expand:function(a,b){this.Aa.XT(a,b,!0,!0)},collapse:function(a,b){this.Aa.k$(a,b,!0)},getExpanded:function(){return this.Aa.getExpanded()},getIndexerModel:function(){null==
this.FC&&b.zh&&(this.FC=new b.zh(this.Aa));return this.FC},Y1:function(){null!=this.FC&&this.FC.O$&&this.FC.O$()}})});