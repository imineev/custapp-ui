/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdvt-base","ojs/internal-deps/dvt/DvtLegend"],function(b,f,a,d,c){b.Ja("oj.ojLegend",f.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{categoryFilter:null,categoryHighlight:null,drill:null},Fg:function(a,b,d){return c.Legend.newInstance(a,b,d)},Nj:function(a){var b=a.subId;"oj-legend-section"==b?b="section"+this.ts(a.indexPath):"oj-legend-item"==b?(b="section"+this.ts(a.sectionIndexPath),b+=":item["+a.itemIndex+"]"):"oj-legend-tooltip"==
b&&(b="tooltip");return b},Dh:function(a){var b={};if(0<a.indexOf(":item")){var c=a.indexOf(":item"),d=a.substring(0,c);a=a.substring(c);b.subId="oj-legend-item";b.sectionIndexPath=this.Mn(d);b.itemIndex=this.oi(a)}else 0==a.indexOf("section")?(b.subId="oj-legend-section",b.indexPath=this.Mn(a)):"tooltip"==a&&(b.subId="oj-legend-tooltip");return b},Jf:function(){var a=this._super();a.push("oj-legend");return a},Oj:function(){var a=this._super();a["oj-legend"]={path:"textStyle",property:"CSS_TEXT_PROPERTIES"};
a["oj-legend-title"]={path:"titleStyle",property:"CSS_TEXT_PROPERTIES"};a["oj-legend-section-title"]={path:"_sectionTitleStyle",property:"CSS_TEXT_PROPERTIES"};a["oj-legend-section-close-icon"]={path:"_resources/closedEnabled",property:"CSS_URL"};a["oj-legend-section-close-icon oj-hover"]={path:"_resources/closedOver",property:"CSS_URL"};a["oj-legend-section-close-icon oj-active"]={path:"_resources/closedDown",property:"CSS_URL"};a["oj-legend-section-open-icon"]={path:"_resources/openEnabled",property:"CSS_URL"};
a["oj-legend-section-open-icon oj-hover"]={path:"_resources/openOver",property:"CSS_URL"};a["oj-legend-section-open-icon oj-active"]={path:"_resources/openDown",property:"CSS_URL"};return a},Rj:function(){var a=this.options.translations,b=this._super();b["DvtUtilBundle.LEGEND"]=a.componentName;return b},Qj:function(){return["categoryFilter","categoryHighlight","drill"]},jm:function(a){var b=a.type;"categoryHide"===b||"categoryShow"===b?(this._trigger("categoryFilter",null,{category:a.category,type:"categoryHide"===
b?"out":"in"}),this.we("hiddenCategories",a.hiddenCategories)):"categoryHighlight"===b?(this._trigger("categoryHighlight",null,{categories:a.categories,type:a.categories&&0<a.categories.length?"on":"off"}),this.we("highlightedCategories",a.categories)):"drill"===b?this._trigger("drill",null,{id:a.id}):this._super(a)},Fv:function(){null==this.options._resources&&(this.options._resources={});this.options._resources.overviewGrippy=b.ha.Gb("resources/internal-deps/dvt/chart/drag_horizontal.png")},Fh:function(){this._super();
this.element.attr("role")||this.element.attr("tabIndex",null)},getTitle:function(){return this.ra.getAutomation().getTitle()},getSection:function(a){var b=this.ra.getAutomation().getSection(a);if(b){var c=this;this.ni(b);b.getSection=function(a){(a=b.sections?b.sections[a]:null)&&c.ni(a);return a};b.getItem=function(a){(a=b.items?b.items[a]:null)&&c.ni(a);return a}}return b},getItem:function(a){a=this.ra.getAutomation().getItem(a);this.ni(a);return a},getPreferredSize:function(a,b){var c=this.ra.getPreferredSize(this.options,
a,b);return{width:c.getWidth(),height:c.getHeight()}},getContextByNode:function(a){return(a=this.getSubIdByNode(a))&&"oj-legend-tooltip"!==a.subId?a:null},Pj:function(){return{sections:["items"]}}})});