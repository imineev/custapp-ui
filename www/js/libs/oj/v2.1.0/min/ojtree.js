/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojdnd"],function(b,f){function a(){}a.Uj="oj-expanded";a.Ig="oj-collapsed";a.ws="oj-hover";a.Yk="oj-selected";a.fe="oj-disabled";a.dDa="oj-default";a.Gv="oj-treenode-temp";b.ma=function(a){this.Init(a)};b.b.la(b.ma,b.b,"oj.TreeDndContext");b.ma.prototype.Init=function(a){b.ma.p.Init.call(this);this.T=a;this.options=a.options;this.v7()};b.b.g("TreeDndContext.prototype.Init",{Init:b.ma.prototype.Init});b.ma.prototype.Mba=function(){var a=this.bd;
return a.reorder||a.Rh};b.ma.prototype.GAa=function(){var a=this.bd;return a.reorder||a.Dl};b.ma.prototype.Lza=function(){var a=this.bd,c=b.ma,e=a.reorder,f=a.Rh;this.w1();this.Gba();a=this.bd;if(e!=a.reorder||f!=a.Rh)a.reorder||a.Rh||this.T.ga.find("li").removeClass(c.fM).removeClass(c.rE).removeClass(c.Xp).removeAttr("draggable");this.Fba()};b.ma.prototype.Gba=function(){var a=this.options.dnd,c=this.bd,e=b.ma,g=!0,h;c.reorder=!1;"object"!=typeof a?this.options.dnd={reorder:"disable"}:(h=a[e.$fa],
"string"===typeof h&&("enable"===h?(c.reorder=!0,g=!1):"disable"==h&&(g=!1)),g&&(this.options.dnd.reorder="disable"),h=a[e.Rfa],"object"==typeof h&&(h=h[e.xY],"object"==typeof h&&(g=h[e.Ufa],"function"==typeof g&&(c.mC=g,c.Rh=!0),g=h[e.Sfa],"function"==typeof g&&(c.UI=g,c.Rh=!0),g=h[e.Tfa],"function"==typeof g&&(c.VT=g,c.Rh=!0),g=h[e.wY],f.isArray(g)?(c.cu=g.slice(),c.Rh=!0):"string"==typeof g&&(c.cu=[g],c.Rh=!0))),h=a[e.Vfa],"object"==typeof h&&(h=h[e.xY],"object"==typeof h&&(g=h[e.Wfa],"function"==
typeof g&&(c.WI=g,c.Dl=!0),g=h[e.Yfa],"function"==typeof g&&(c.YI=g,c.Dl=!0),g=h[e.Xfa],"function"==typeof g&&(c.XI=g,c.Dl=!0),g=h[e.Zfa],"function"==typeof g&&(c.ZI=g,c.Dl=!0),g=h[e.wY],f.isArray(g)?(c.VI=g.slice(),c.Dl=!0):"string"==typeof g&&(c.VI=[g],c.Dl=!0))),c.reorder||(c.cu||c.mC||(c.Rh=!1,c.mC=c.UI=c.VT=c.cu=null),c.ZI||(c.Dl=!1,c.WI=c.YI=c.XI=c.ZI=c.VI=null)),c.gK=c.reorder&&!c.Rh)};b.ma.prototype.Fba=function(){var a=this.bd,c=a.Ie,e=b.ma;if(a.Rh||a.Dl||a.reorder){b.ma.C1?(c.rn=b.ma.C1,
c.Fk=b.ma.Wla):(c.rn=f("\x3cdiv class\x3d'oj-tree-drop-marker'\x3e\x3cspan class\x3d'oj-tree-drop-ptr oj-component-icon'\x3e\x26#160;\x3c/span\x3e\x3c/div\x3e").css("pointer-events","none").hide().appendTo("body"),c.Fk=f("\x3cdiv /\x3e").addClass(e.cha).css("pointer-events","none").hide().appendTo("body"),b.ma.C1=c.rn,b.ma.Wla=c.Fk);a.tca=c.Fk.width();var c=this.T.element[0],g=f(c).children("ul:eq(0)");if(a.reorder||a.Rh)a.eU=this.qO.bind(this),a.aU=this.Tla.bind(this),f(c).on("dragstart",a.eU),f(c).on("dragend",
a.aU),g.length&&g.find("li").addClass(e.fM).addClass(e.rE).addClass(e.Xp).attr("draggable","true");if(a.reorder||a.Dl)a.ZT=this.Rla.bind(this),a.bU=this.Ula.bind(this),a.dU=this.Yla.bind(this),a.cU=this.Vla.bind(this),a.$T=this.Sla.bind(this),f(c).on("drag",a.ZT),f(c).on("dragenter",a.bU),f(c).on("dragover",a.dU),f(c).on("dragleave",a.cU),f(c).on("drop",a.$T)}};b.ma.prototype.hka=function(){this.w1()};b.ma.prototype.qO=function(d){var c,e,g=f(d.target).closest("li"),h=d.originalEvent.dataTransfer,
k;c=this.bd;e=c.Ie;e.Ub=null;e.Ha=null;c.Hu=null;c.JV=null;c.kD=null;c.nC=!1;if(!c.reorder&&!c.Rh||g.hasClass(a.fe)||this.T.i.ca.locked)d.preventDefault();else{e=this.T.isSelected(g)?this.T.Ca(null,!0):e=g;(c.Rh||c.gK)&&this.Qua(h,e);if(c.mC){k=c.mC(d,{item:void 0});if(d.isDefaultPrevented()||"boolean"===typeof k&&!k)return k;if(!c.cu&&!this.Qja(h)&&!c.reorder)return d.preventDefault(),!1}"uninitialized"===h.effectAllowed&&(h.effectAllowed=c.gK?"move":b.A.Zo(d)?"copy":"move");this.Lla(e,g,d)}};b.ma.prototype.Rla=
function(a){var b=this.bd;b.UI&&b.UI(a)};b.ma.prototype.Ula=function(d){this.T.ga[0].firstChild||this.yia();var c=f(d.target),e=this.T.Ca(c),g=this.bd,h=g.Ie,k=e&&0<e.length&&e.hasClass("oj-tree-node"),l=d.originalEvent.dataTransfer,p=b.ma,n=!1,m=!1,q;k&&e.hasClass(a.Gv)&&(g.Wm=!0);if(!k||"UL"!=d.target.tagName||"group"!=d.target.getAttribute("role"))if(g.bh=!g.nC,!g.bh&&!g.reorder||g.bh&&this.UQ(l,p.TL))this.Vs();else{if(g.bh&&(n=this.UQ(l,p.SL),!g.Dl)){this.Vs();return}h.Ha=!1;g.Hu&&this.Vz(g.Hu);
c.hasClass("oj-tree")&&(e=g.Hu);if(!e||!e.length||e.attr("id")!=g.kD){n&&k&&(g.Hu=null,h.Ub=2);g.bh&&!n&&(h.Ub=1);h.Ha=e;g.Hu=e;this.x1(d,e);if(this.Gla()){h.Ha.removeClass(p.gM).addClass(p.Xp).addClass(p.jZ);g.WI&&(q=g.WI(d,{item:g.Wm?null:e,position:g.Wm?"first":g.bi,reference:g.Wm?null:h.Ha}));if(void 0===q)this.f5(l)?(d.preventDefault(),d.stopPropagation()):m=g.bh||!g.reorder;else if(!1===q||d.isDefaultPrevented())d.preventDefault(),d.stopPropagation();else if(g.bh||!g.reorder)m=g.bh||!g.reorder;
m&&this.Vs();return q}this.Vz(h.Ha);h.Ha=null}this.ew()}};b.ma.prototype.Yla=function(a){var b=this.bd,e=b.Ie,f=a.originalEvent.dataTransfer,h=!1,k,l,p;if(e.Ha&&e.Ha.length&&(l=e.Ha,l.hasClass("oj-tree-node")&&(k=l.attr("id"),k!=b.kD&&(this.x1(a,l),this.lO())))){b.YI&&(p=b.YI(a,{item:b.Wm?null:l,reference:b.Wm?null:e.Ha,position:b.Wm?"first":e.fV}));if(void 0===p)this.f5(f)?(a.preventDefault(),a.stopPropagation()):h=b.bh||!b.reorder;else if(!1===p||a.isDefaultPrevented())a.preventDefault(),a.stopPropagation();
else if(b.bh||!b.reorder)h=b.bh||!b.reorder;h&&this.Vs();return p}this.ew()};b.ma.prototype.Sla=function(a){var b=this.bd,e=b.Ie,f=!1,h;if(e.Ha){if(b.ZI)h=b.ZI(a,{reference:b.Wm?null:e.Ha,position:b.Wm?"first":e.fV,reorder:!b.bh&&b.reorder});else if(b.bh||!b.reorder)f=!0;f||h&&!a.isDefaultPrevented()||this.Hla(a)}b.bh&&this.Vs();f||(a.preventDefault(),a.stopPropagation());b.JV=null;return h};b.ma.prototype.Tla=function(a){var b=this.bd,e=b.Ie;b.VT&&b.VT(a,{reorder:b.reorder&&!1===e.Ub});this.Mla();
this.Vs()};b.ma.prototype.yia=function(){this.Z4||(this.Z4=f("\x3cli class\x3d'"+a.Gv+" oj-tree-node oj-tree-leaf oj-valid-drop' id\x3d'"+a.Gv+"'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e\x3ca href\x3d'#'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e"));this.T.ga.append(this.Z4)};b.ma.prototype.Vla=function(a){var b=this.bd,e=b.Ie,g=f(a.target),h=g.closest("li"),k=h&&0<h.length&&h.hasClass("oj-tree-node");h.attr("id");
var l=a.originalEvent.dataTransfer;b.XI&&b.XI(a,{item:b.Wm?null:h});g.hasClass("oj-tree")||!k||"none"==l.dropEffect?this.Ila(a):b.JV=h;e.Ha&&this.Vz(e.Ha)};b.ma.prototype.Gla=function(){var b=this.bd,c=b.Ie,e;b.eK=!1;e=this.lO();var f=b.hBa;f&&(b.qEa&&clearTimeout(b.mp),c.Ha&&c.Ha.length&&c.Ha.hasClass(a.Ig)&&(b.mp=setTimeout(this.Jla.bind(this),f)));b=typeof e;return"boolean"==b&&e||"string"==b};b.ma.prototype.Jla=function(){var a=this.bd,b=a.Ie;a.mp=!1;this.T.ff(b.Ha,this.lO.bind(this),!0)};b.ma.prototype.Hla=
function(a){var c=this.bd,e=c.Ie;c.nC&&c.reorder&&"object"==typeof e.Ub&&0<e.Ub.length&&(this.T.gB(e.Ub,e.Ha,e.fV,b.A.Zo(a)),e.Ub=!1)};b.ma.prototype.CF=function(b){b.hasClass(a.Yk)&&(b.removeClass(a.Yk),this.T.wl(b,!0));var c=(b=this.T.getChildren(b))&&b.length?b.length:0,e;for(e=0;e<c;e++)this.CF(f(b[e]))};b.ma.prototype.x1=function(b,c){var e=this.bd;c&&(c.hasClass(a.Gv)?e.bi="after":(b=b.originalEvent,e.off=c.offset(),e.bi=b.pageY-(e.off.top||0),e.bi=e.bi>=this.T.i.ca.vr?"after":0>e.bi?"before":
"inside","after"===e.bi&&c.hasClass(a.Uj)&&(e.bi="first")))};b.ma.prototype.Ila=function(a){var b=this.bd,e=b.Ie;b.after=!1;b.before=!1;b.Wx=!1;b.hEa=null;this.ew();e.Ha&&e.Ha[0]===a.target.parentNode&&b.mp&&(clearTimeout(b.mp),b.mp=!1)};b.ma.prototype.Vs=function(){this.ew();var a=this.bd,b=a.Ie;b.Ub=!1;b.Ha=!1;a.mp&&clearTimeout(a.mp);a.kD=null;a.bh=!1;a.Hu=null;a.JV=null;a.after=!1;a.before=!1;a.Wx=!1;a.off=!1;a.eK=!1;a.mp=!1;a.bh=!1;a.Wm=!1};b.ma.prototype.w1=function(){var a=this.bd,b;b=f(this.T.Fa[0]);
b.off("dragstart",a.eU);b.off("dragend",a.aU);b.off("drag",a.ZT);b.off("dragenter",a.bU);b.off("dragover",a.dU);b.off("dragleave",a.cU);b.off("drop",a.$T);this.Vs();this.v7()};b.ma.prototype.lO=function(){var a=this.bd,b=a.Ie,e=this.T,f=!1;if(!b.Ha||!b.Ha.length)return!1;if("number"==typeof b.Ub&&(1===b.Ub||2===b.Ub))f=!0;else if(!b.Ub)return!1;a.off=b.Ha.offset();this.T.bH&&(a.off.right=a.off.left+b.Ha.width()-b.Ha.find("\x3ea").width()-30);a.Sda=b.Ha.find("a").width();f?(a.before="before"==a.bi,
a.after="after"==a.bi,a.Wx="inside"==a.bi):(e.qB(b.Ub,b.Ha,"before"),a.before=e.iF(),e.qB(b.Ub,b.Ha,"after"),a.after=e.iF(),this.T.uo(b.Ha)?(e.qB(b.Ub,b.Ha,"inside"),a.Wx=e.iF()):a.Wx=!1);a.eK=!0;return this.Kla()};b.ma.prototype.Kla=function(){var a=this.bd,c=!1,e=b.ma,f=a.Ie,h=this.T.bH,k,l,p,n=this.T.i.ca.vr,m=!1;if(!a.eK)return this.ew(),m;if("after"==a.bi&&a.after||"inside"==a.bi&&a.Wx||"before"==a.bi&&a.before||"first"==a.bi)m=a.bi;"first"===m&&(c=f.Ha.find("li:eq(0)"),a.off=c.offset());l=h?
a.off.right-18:a.off.left+5;c=!this.T.isLeaf(f.Ha);k=h?l+a.Sda+18:l;l=h?k-a.tca:l+8;p=a.off.top-3;switch(m){case "before":case "first":this.fB(f.rn,{left:k,top:p-7});f.Fk&&this.fB(f.Fk,{left:l,top:p});break;case "after":p+=n;this.fB(f.rn,{left:k,top:p-2});f.Fk&&this.fB(f.Fk,{left:l,top:p+6});break;case "inside":this.fB(f.rn,{left:k+(h?c?-4:0:4),top:a.off.top+n/2-8});f.Fk&&f.Fk.hide();break;default:this.ew()}m?f.Ha.removeClass(e.gM).addClass(e.Xp):f.Ha.removeClass(e.Xp).removeClass(e.Xp);return f.fV=
m};b.ma.prototype.ew=function(){var a=this.bd.Ie;a&&(a.rn&&a.rn.hide(),a.Fk&&a.Fk.hide(),a.Ha&&this.Vz(a.Ha))};b.ma.prototype.fB=function(a,b){b.left+="px";b.top+="px";a.css(b).show()};b.ma.prototype.Lla=function(a,c,e){var f=this.bd,h=f.Ie,k=b.ma;h.Ub=a;h.Ub.addClass(k.rE);f.kD=c.attr("id");try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.MozUserSelect="none")}catch(l){}this.T.ora()&&h.rn&&h.rn.addClass("oj-tree-"+
this.T.i.fc.wy);a=this.T.Fa;f.Rxa=a.offset();f.pya=parseInt(a.width(),10);f.ch=parseInt(a.height(),10);f.nC=!0};b.ma.prototype.Mla=function(){var a=this.bd,c=a.Ie,e=b.ma;c.Ha&&this.Vz(c.Ha);"number"!=typeof c.Ub&&c.Ub&&c.Ub.removeClass(e.rE);a.nC=!1};b.ma.prototype.Qua=function(a,c){var e=this.bd,f=b.ma,h,k;(h=this.T.d_(c))&&(k=JSON.stringify(h));if(e.cu)for(h=0;h<e.cu.length;h++)a.setData(e.cu[h],k);a.setData(f.SL,"0");e.gK&&a.setData(f.TL,"0")};b.ma.prototype.UQ=function(a,b){var e=a.types,f=e.length,
h;for(h=0;h<f;h++)if(b==e[h])return!0;return!1};b.ma.prototype.f5=function(a){var b=this.bd.VI,e=!1,f;if(b)for(e=!(0<b.length),f=0;f<b.length;f++){if(this.UQ(a,b[f])){e=!0;break}}else e=!0;return e};b.ma.prototype.Qja=function(a){var c=(a=a.types)&&a.length?a.length:0,e=b.ma,f=!1,h,k;for(k=0;k<c;k++)if(h=a[k],h!=e.SL&&h!=e.TL){f=!0;break}return f};b.ma.prototype.Vz=function(a){var c=b.ma;a&&a.removeClass(c.Xp).removeClass(c.gM).removeClass(c.jZ)};b.ma.prototype.v7=function(){var a={};this.bd=a;a.reorder=
!1;a.gK=!1;a.bh=!1;a.nC=!1;a.kD=null;a.Hu=null;a.eU=null;a.aU=null;a.ZT=null;a.bU=null;a.dU=null;a.cU=null;a.$T=null;a.Rh=!1;a.Dl=!1;a.mC=null;a.UI=null;a.WDa=null;a.WI=null;a.YI=null;a.XI=null;a.XDa=null;a.VI=null;a.after=!1;a.Wx=!1;a.before=!1;a.off=!1;a.eK=!1;a.mp=!1;a.Rxa=!1;a.pya=!1;a.ch=!1;a.tca=100;a.Sda=100;a.hBa=500;a.Ie={};a.Ie.Ub=!1;a.Ie.Ha=!1;a.Ie.rn=!1;a.Ie.Fk=!1};b.ma.prototype.t9=function(a){this.T.t9(a)};b.ma.fM="oj-draggable";b.ma.rE="oj-drag";b.ma.jZ="oj-active-drop";b.ma.Xp="oj-valid-drop";
b.ma.gM="oj-invalid-drop";b.ma.eDa="oj-drop";b.ma.cDa="oj-tree-drop-marker";b.ma.cha="oj-tree-drop-marker-line";b.ma.$fa="reorder";b.ma.Rfa="drag";b.ma.Vfa="drop";b.ma.xY="node";b.ma.wY="dataTypes";b.ma.Ufa="dragStart";b.ma.Sfa="drag";b.ma.Tfa="dragEnd";b.ma.Wfa="dragEnter";b.ma.Yfa="dragOver";b.ma.Xfa="dragLeave";b.ma.Zfa="drop";b.ma.SL="_ojtree";b.ma.TL="_ojtreereorder";(function(){function d(a){q.push(a);f(a.W7).keydown(c)}function c(a){var c="";b.A.Zo(a)?c+="ctrl+":a.shiftKey&&(c+="shift+");var d=
a.which;switch(d){case 32:c+="space";break;case 37:c+="left";break;case 38:c+="up";break;case 39:c+="right";break;case 40:c+="down";break;case 46:c+="del";break;case 33:c+="pgup";break;case 34:c+="pgdn";break;case 35:c+="end";break;case 36:c+="home";break;case 56:c="*";break;case 113:case 121:c+="f"+(1-(112-d))}if(0===c.length||"shift+"==c||"ctrl+"==c)return!0;var e=null;f.each(q,function(b,d){if(d.TB.i.ui.rk)return d.TB.i.ui.Uu=!1,"shift+f10"==c?d.TB.i.menu.AI=d.TB.i.ui.ic:d.u4[c]&&(a.preventDefault(),
e=d.u4[c].call(d.TB,a)),!1});if(null!=e)return e}function e(a){f.each(q,function(b){if(q[b].W7===a)return f(a).off("keydown"),q[b]=null,q.splice(b,1),!1})}function g(a){var b=!0,c;for(c in a)if(a.hasOwnProperty(c)){b=!1;break}return b}function h(a){var b=!1,c=!0;a.tK&&(a.title&&(b=f("style[id\x3d'"+a.title+"-stylesheet']")[0]),b?c=!1:(b=document.createElement("style"),b.setAttribute("type","text/css"),a.title&&b.setAttribute("id",a.title+"-stylesheet")),b.styleSheet?c?(document.getElementsByTagName("head")[0].appendChild(b),
b.styleSheet.cssText=a.tK):b.styleSheet.cssText=b.styleSheet.cssText+" "+a.tK:(b.appendChild(document.createTextNode(a.tK)),document.getElementsByTagName("head")[0].appendChild(b)))}var k={cut:"ojtreecut",copy:"ojtreecopy",paste:"ojtreepaste",remove:"ojtreeremove",rename:"ojtreerename"},l={cut:"labelCut",copy:"labelCopy",paste:"labelPaste",remove:"labelRemove",rename:"labelRename"},p,n,m;f(function(){/msie/.test(navigator.userAgent.toLowerCase())?(n=f('\x3ctextarea cols\x3d"10" rows\x3d"2"\x3e\x3c/textarea\x3e').css({position:"absolute",
top:-1E3,left:0}).appendTo("body"),m=f('\x3ctextarea cols\x3d"10" rows\x3d"2" style\x3d"overflow: hidden;"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),p=n.width()-m.width(),n.add(m).remove()):(n=f("\x3cdiv /\x3e").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:0}).prependTo("body").append("\x3cdiv /\x3e").find("div").css({width:"100%",height:200}),p=100-n.width(),n.parent().remove())});var q=[],s=-1;b.Ja("oj.ojTree",f.oj.baseComponent,
{widgetEventPrefix:"oj",defaultElement:"\x3cdiv\x3e",options:{dnd:{reorder:"disable"},expandParents:!1,initExpanded:null,vAa:[],selection:[],selectionMode:"single",selectedParentCollapse:!1,selectedParentExpand:!0,selectPrevOnDelete:!1,data:null,emptyText:null,icons:!0,types:null,before:null,collapse:null,create:null,collapseAll:null,cut:null,dehover:null,remove:null,destroy:null,expand:null,expandAll:null,hover:null,loaded:null,move:null,optionChange:null,paste:null,refresh:null,rename:null},collapse:function(b,
c){var d=(c=c||!1)?0:this.VM;b=this.Ca(b);if(!b.length||-1===b||!b.hasClass(a.Uj)||this.i.ca.locked||b.hasClass(a.fe))return!1;var e=this.Xb({obj:b,func:"collapse"},"before");if("boolean"!=typeof e||e)b.removeClass(a.Uj).addClass(a.Ig).attr("aria-expanded","false"),f(b.children()[0]).removeClass(a.Yk).addClass("oj-default"),!c&&d?this.Pt(b,!0):this.TS(f(b.children("UL")[0]),b)},Pt:function(a,b){var c,d,e;c=f(a.children("ul"));this.w5?c[0].addEventListener("webkitTransitionEnd",this.yH):c[0].addEventListener("transitionend",
this.yH);b?(d=c[0].offsetHeight,e=0):(d=0,e=this.kna(c[0]));c.css("max-height",d+"px");c.css("overflow","hidden");b||(c[0].style.display="block");setTimeout(function(){c.addClass("oj-tree-transition");c.css("max-height",e+"px")},20)},kna:function(a){var b,c,d,e,g=f("\x3cdiv style\x3d'position: absolute'\x3e");b=a.parentNode;c=a.nextSibling;b.removeChild(a);e=a.style.display;a.style.display="block";g.append(a);this.Fa[0].appendChild(g[0]);d=a.offsetHeight||a.scrollHeight;a.style.display=e;this.Fa[0].removeChild(g[0]);
g[0].removeChild(a);c?b.insertBefore(a,c):b.appendChild(a);return d+10},sx:function(a){a=f(a.target);var b=a.closest("li");this.w5?a[0].removeEventListener("webkitTransitionEnd",this.yH):a[0].removeEventListener("transitionend",this.yH);a.removeClass("oj-tree-transition");this.TS(a,b)},TS:function(b,c){c.hasClass(a.Ig)?(b[0].style.display="none",b.css("max-height",""),this.Xb({obj:c},"collapse"),this.after_close(c)):(b[0].style.display="block",b.css("max-height",""),this.Xb({obj:c},"expand"))},collapseAll:function(b,
c){var d=b?b:-1,e=this;if(!this.i.ca.locked&&((b=b?this.Ca(b):this.Fa)&&-1!==d&&(d=b),b&&-1!==d||(b=this.ga),!b.hasClass(a.fe))){var f;-1!==d&&this.isExpanded(b)&&(f=b[0]);var g=b.find("li.oj-expanded");g.length&&g.each(function(){e.collapse(this,!c)});f&&(this.collapse(f,!c),g.splice(0,0,f));g.length&&this.Xb({obj:g,targ:d},"collapseAll")}},expand:function(a,b){this.ff(a,!1,b)},expanded:function(a,b){var c,d,e=this;if(a&&"array"===f.type(a)){if(this.i.ca.locked)return null;d=a.length;f.each(a,function(a,
c){e.ff(c,!1,b)});return null}a=this.ga.find("li.oj-expanded");d=a.length;c=[];for(var g=0;g<d;g++)c.push(a[g]);return f(c)},expandAll:function(a,b){this.vO(a,b)},toggleExpand:function(b,c){if((b=this.Ca(b))&&b.length&&-1!==b&&!b.hasClass(a.fe)&&!this.i.ca.locked){if(b.hasClass(a.Ig))return this.expand(b,c);if(b.hasClass(a.Uj))return this.collapse(b,c)}},deselect:function(a){var b=this.options.selection.slice(0);this.Us(a);this.mA("selection",b,null,null)},deselectAll:function(a){if(!this.i.ca.locked){var b=
this.options.selection.slice(0);this.xF(a);this.mA("selection",b,null,null)}},select:function(a){this.wl(a,!0)},toggleSelect:function(b){b=this.Ca(b);if(!b.length||b.hasClass(a.fe)||this.i.ca.locked)return!1;this.isSelected(b)?this.deselect(b):this.wl(b,!0);return!0},isCollapsed:function(b){return(b=this.Ca(b))&&-1!==b&&b.hasClass(a.Ig)},isExpanded:function(b){return(b=this.Ca(b))&&-1!==b&&b.hasClass(a.Uj)},isLeaf:function(a){return this.VQ(a)},isSelected:function(a){a=this.Ca(a);var b=!1;a&&a.length&&
this.i.ui.selected&&(b=0<=this.i.ui.selected.index(a));return b},create:function(a,b,c){var d,e,g;e=f.isArray(c);if(!e||1==c.length)return d=this.bA(a,b,e?c[0]:c),this.vq().CF(d),d;e=[];if("before"!=b)for(g=c.length-1;0<=g;g--)d=this.bA(a,b,c[g]),e.unshift(d[0]),this.vq().CF(d);else for(g=0;g<c.length;g++)d=this.bA(a,b,c[g]),e.push(d[0]),this.vq().CF(d);return f(e)},remove:function(b){b=this.Ca(b);if(!b.length||b.hasClass(a.fe)||this.i.ca.locked)return!1;var c=this.Xb({obj:b,func:"remove"},"before");
if("boolean"==typeof c&&!c)return!1;this.Hs();var c=this.jl(b),d=f([]),e=this,g=this.mo(b);b.each(function(){d=d.add(e.mo(this))});b=b.detach();-1!==c&&0===c.find("\x3e ul \x3e li").length&&c.removeClass("oj-expanded oj-collapsed").addClass("oj-tree-leaf").removeAttr("aria-expanded");this.ti(c);this.Xb({obj:b,prev:g,parent:c},"remove");return b},getText:function(a){a=this.Ca(a);if(!a.length)return!1;a=a.children("a:eq(0)");a=a.find("span:eq(0)");return a[0].textContent},rename:function(a,b){this.p7(a,
b)},hover:function(b){if(!this.i.menu.AI&&(b=this.Ca(b),b.length&&!b.hasClass(a.fe)&&!this.i.ca.locked&&!b.hasClass(a.ws))){var c=this.Xb({obj:b,func:"hover"},"before");if("boolean"!=typeof c||c)b.hasClass(a.ws)||this.dehover(),this.i.ui.ic=b.children("a").addClass(a.ws).parent(),this.ga.attr("aria-activedescendant",this.i.ui.ic.attr("id")),this.c2(b),this.Xb({obj:b},"hover")}},dehover:function(){if(!this.i.menu.AI){var b=this.i.ui.ic,c;if(b&&b.length&&!b.hasClass(a.fe)&&!this.i.ca.locked){c=b.find("a.oj-hover");
if(!c.length&&(c=this.ga.find("a.oj-hover"),!c.length))return;c.removeClass(a.ws).parent();this.ga.removeAttr("aria-activedescendant");this.i.ui.ic=null;void 0!=b.attr("id")&&this.Xb({obj:b},"dehover")}}},getPath:function(a,b){var c=[],d=this;a=this.Ca(a);if(-1===a||!a||!a.length)return!1;a.parentsUntil(".oj-tree","li").each(function(){c.push(b?this.id:d.getText(this))});c.reverse();c.push(b?a.attr("id"):this.getText(a));return c},getRoot:function(){return this.Fa.children("ul:eq(0)")},refresh:function(a){this._super();
this.i.ca.locked||this.Se(a?a:-1)},move:function(a,b,c,d){this.gB(a,b,c,d)},getType:function(a){return this.QP(a)},setType:function(a,b){return this.Cva(a,b)},getNodeBySubId:function(a){return a?this.bta(a):this.element?this.element[0]:null},getSubIdByNode:function(a){return this.noa(a)},getContextByNode:function(a){var b,c;a=this.Ca(null==a||void 0==a?0:a);b=-1!=a&&0<a.length;c=-1==a;return b||c?{subId:b?"oj-tree-node":"oj-tree",item:b?a[0]:null,node:b?a:!1,leaf:b?this.VQ(a):!1}:null},getParent:function(a){return(a=
this.jl(a))&&0<a.length?a:null},getPrevSibling:function(a){return(a=this.mo(a,!0))&&0<a.length?a:null},getNextSibling:function(a){return(a=this.ft(a,!0))&&0<a.length?a:null},getChildren:function(b){return(b=(b=this.Vma(b?b:-1))&&b.length?b.not("."+a.Gv):b)&&0<b.length?b:null},scrollIntoView:function(a,b,c){a?(a=a.node,a=this.Ca(a)):a=-1;-1==a&&(a=this.Fa.find("\x3e ul \x3e li:first-child"));if(a&&a.length)return b="top"==b,c&&(this.ga.focus(),this.hover(a)),a[0].scrollIntoView(b),this},_ComponentCreate:function(){this._super();
this.jqa=this.msa();this.Ws=this.element.attr("id");void 0===this.Ws&&(this.Ws="oj-tree-"+this.xi(),this.element.attr("id",this.Ws));this.Fa=this.element;this.ga=null;this.i={};this.h9=null;this.bH="rtl"===this.Ic();this.Pw=b.A.Zd();this.yqa();if(this.VM=this.Mma())this.w5=b.eb.pC().browser===b.eb.Hn.EX,this.yH=f.proxy(this.sx,this);this.rj()},_destroy:function(){this.dka();this.i.html.ky&&(this.Fa.append(this.i.html.ky),this.i.html.YJ.remove(),this.i.html.YJ=!1,this.i.html.vK=!1);this.i.hb.type=
0;this._super()},_setOption:function(a,b,c){var d;if("selection"===a)b="string"==typeof b?[b]:b&&b.length?b:[],this.i.ca.Tu=!0,this.Ppa(b),this.i.ca.Tu=!1,b=this.BP();else if("selectionMode"===a)"none"===b?d=0:"single"===b?d=1:"multiple"===b?d=-1:(d=0,b="none"),d!=this.i.ca.sp&&(this.i.ca.sp=d);else if("icons"===a)"boolean"==f.type(b)&&b!=this.i.fc.icons&&((this.i.fc.icons=b)?this.zS():this.AQ());else if("contextMenu"===a)this.Ms(),b&&this.Dq(b);else if("disabled"===a)this.Voa(b);else{if("data"===
a){this._super(a,b,c);this.N4();this.O4();this.P4();this.M5();return}if("dnd"===a){this._super(a,b,c);this.vq().Lza();return}"emptyText"==a&&(b=this.JF(b))}this._super(a,b,c)},jz:function(a,b,c){return"selection"===a?this.w0(b,c):this._superApply(arguments)},w0:function(a,b){var c,d,e,g,h,k=!1,l=!1;g=a&&a.length?a.length:0;h=b&&b.length?b.length:0;if(g!==h)k=!0;else if(0==g&&0===h)k=!1;else for(c=0;c<g;c++){e=f(a[c]).attr("id");l=!1;for(d=0;d<h;d++)if(e==f(b[d]).attr("id")){l=!0;break}if(!l){k=!0;
break}}return!k},dka:function(){this.xz&&(this.xz.hka(),this.xz=null);var a=this.xi();this.Fa.unbind(".oj-tree").undelegate(".oj-tree").removeData("oj-tree-instance-id").find("[class^\x3d'oj-tree']").addBack().attr("class",function(){return this.className.replace(/oj-tree[^ ]*|$/ig,"")});var b=this.Fa.attr("class"),b=b.trim();0===b.length&&this.Fa.removeAttr("class");e(this.ga);f(document).unbind(".oj-tree-"+a).undelegate(".oj-tree-"+a);this.ga.remove();this.ga=null},Ca:function(a,b){if("undefined"===
typeof a||null===a)return b?this.i.ui.selected:this.i.ui.qc;var c=f(a,this.Fa);if(c.is(".oj-tree")||-1===a)return-1;c=c.closest("li",this.Fa);return c.length?c:!1},mo:function(b,c){b=this.Ca(b);if(-1===b)return this.Fa.find("\x3e ul \x3e li:last-child");if(!b.length)return!1;if(c)return 0<b.prevAll("li").length?b.prevAll("li:eq(0)"):!1;if(b.prev("li").length){for(b=b.prev("li").eq(0);b.hasClass(a.Uj);)b=b.children("ul:eq(0)").children("li:last");return b}var d=b.parentsUntil(".oj-tree","li:eq(0)");
return d.length?d:!1},ft:function(b,c){b=this.Ca(b);return-1===b?this.Fa.find("\x3e ul \x3e li:first-child"):b.length?c?0<b.nextAll("li").size()?b.nextAll("li:eq(0)"):!1:b.hasClass(a.Uj)?b.find("li:eq(0)"):0<b.nextAll("li").size()?b.nextAll("li:eq(0)"):b.parentsUntil(".oj-tree","li").next("li").eq(0):!1},jl:function(a){a=this.Ca(a);if(-1==a||!a.length)return!1;a=a.parentsUntil(".oj-tree","li:eq(0)");return a.length?a:-1},Vma:function(a){a=this.Ca(a);return-1===a?this.Fa.children("ul:eq(0)").children("li"):
a.length?a.children("ul:eq(0)").children("li"):!1},VQ:function(a){return(a=this.Ca(a))&&-1!==a&&a.hasClass("oj-tree-leaf")},Pna:function(a){a=this.ga.find(a);var b=!1;a&&a.length&&0<a.length&&f(a).is("li")&&(b=a);return b},ota:function(a,c){var d=a.parents("div").eq(0);(d=b.Components.gh(d))&&c&&d("getCI",c);return this},getCI:function(a){a.Bn=this},Yia:function(a,b){void 0!=a&&void 0!=b&&f.each(b,function(b,c){void 0==a[b]&&(a[b]=c)})},Voa:function(b){var c;"undefined"!==typeof b&&((c=this.ga.hasClass(a.fe))||
(c=!1),c!=b&&(b?(this.ga.addClass(a.fe),this.ga.prop("disabled",!0)):(this.ga.removeClass(a.fe),this.ga.prop("disabled",!1)),this.xwa(b)))},xwa:function(b){b?(this.i.ca.locked=!0,this.i.ui.opacity=this.Fa.children("ul").css("opacity"),this.ga.addClass(a.fe).css("opacity","0.9")):(this.i.ca.locked=!1,this.ga.removeClass(a.fe).css("opacity",this.i.ui.opacity))},JDa:function(){return this.i.ca.locked},Ppa:function(a){var b=a.slice(0),c=[],d=this,e,g,h,k;f.grep(b,function(a,f){if(e=d.Pna(a))c.push(e),
b[f]=e[0];else return!1;return!0});a=this.BP();f.each(a,function(a,b){k=c.length;g=f(b).attr("id");h=!1;for(a=0;a<k;a++)if(g==c[a].attr("id")){h=!0;break}h||d.Us(b)});this.wva(c,null)},qB:function(a,b,c,d,e){var f={};b=-1!==b&&b?this.Ca(b):-1;this.ota(a,f);f.Or=this;f.Ub=f.Bn.Ca(a);f.Ha=b;f.np="undefined"===typeof c||!1===c?"last":c;if(!e&&this.i.ca.ci.Ub&&this.i.ca.ci.Ub[0]===f.Ub[0]&&this.i.ca.ci.Ha[0]===f.Ha[0]&&this.i.ca.ci.np===f.np)d&&d.call(this,this.i.ca.ci);else{if(-1!==f.Ha&&f.Ha){if(!/^(before|after)$/.test(f.np)&&
!this.uo(f.Ha))return this.vo(f.Ha,function(){this.qB(a,b,c,d,!0)});switch(f.np){case "before":f.Bl=f.Ha.index();f.au=f.Or.jl(f.Ha);break;case "after":f.Bl=f.Ha.index()+1;f.au=f.Or.jl(f.Ha);break;case "inside":case "first":f.Bl=0;f.au=f.Ha;break;case "last":f.Bl=f.Ha.find(" \x3e ul \x3e li").length;f.au=f.Ha;break;default:f.Bl=f.np,f.au=f.Ha}}else switch(f.au=-1,f.np){case "first":case "before":case "inside":f.Bl=0;break;case "after":case "last":f.Bl=f.Or.Fa.find(" \x3e ul \x3e li").length;break;
default:f.Bl=f.np}f.jp=-1==f.au?f.Or.Fa:f.au;f.lp=f.Bn.jl(f.Ub);f.TDa=f.Ub.index();-1===f.lp&&(f.lp=f.Bn?f.Bn.Fa:this.Fa);!/^(before|after)$/.test(f.np)&&f.lp&&f.jp&&f.lp[0]===f.jp[0]&&f.Ub.index()<f.Bl&&f.Bl++;f.MV=f.jp.find(" \x3e ul \x3e li:nth-child("+(f.Bl+1)+")");this.i.ca.ci=f;d&&d.call(this,this.i.ca.ci,"prepare_move")}},iF:function(){var a=this.i.ca.ci,b=!0,c;c=-1===a.Ha?this.Fa:a.Ha;if(!a||!a.Ub||a.MV[0]===a.Ub[0]||!a.Ha)return!1;if(!a.SI){if(a.lp&&a.jp&&a.lp[0]===a.jp[0]&&a.Bl-1===a.Ub.index())return!1;
a.Ub.each(function(){if(-1!==c.parentsUntil(".oj-tree","li").addBack().index(this))return b=!1})}return b},p7:function(a,b){var c;a=this.Ca(a);this.Hs();c=this.getText(a);if(a&&a.length){var d=this.Xb({obj:a,func:"rename",title:b,prevTitle:c},"before");if("boolean"==typeof d&&!d)return}a&&a.length&&this.tS.apply(this,Array.prototype.slice.call(arguments))&&this.Xb({obj:a,title:b,prevTitle:c},"rename")},gB:function(b,c,d,e,g,h){g||(b=this.Ca(b));if(!(b.hasClass&&b.hasClass(a.fe)||this.i.ca.locked)){if(!g)return this.qB(b,
c,d,function(a){a.Bn===a.Or||a.SI||a.Bn.deselect(a.Ub);this.gB(a,!1,!1,e,!0,h)});e&&(this.i.ca.ci.SI=!0);if(!h&&!this.iF())return!1;this.Hs();c=!1;e?(c=b.Ub.clone(!0),c.find("*[id]").addBack().each(function(){this.id&&(this.id="copy_"+this.id)})):c=b.Ub;b.MV.length?b.MV.before(c):(b.jp.children("ul").length||f("\x3cul /\x3e").appendTo(b.jp),b.jp.children("ul:eq(0)").append(c));try{b.Bn.ti(b.lp),b.Or.ti(b.jp),b.lp.find("\x3e ul \x3e li").length||b.lp.removeClass("oj-expanded oj-collapsed").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove()}catch(k){}e&&
(this.i.ca.ci.SI=!0,this.i.ca.ci.KV=c);c=f.extend(!0,{},this.i.ca.ci);c.obj=b.Ub;this.Xb(c,"move");return this.i.ca.ci}},tDa:function(){return this.i.sd.ci},QP:function(a){var b=null;this.options.types&&(b=this.Ca(a));return b&&b.length?b.attr(this.options.types.attr)||"default":!1},Cva:function(a,b){var c=this.options.types,d,e=!1;a=this.Ca(a);c&&a&&-1!=a&&a.length&&b&&(d=c.attr)&&c[b]&&(a.attr(d,b),a.addClass("oj-tree-type"),e=!0);return e},Oja:function(a,b){b=this.Ca(b);var c=!1,d=this.QP(b),e=
this.gt().types,g=!1;if(-1===b)if(e[a])c=e[a];else return;else{if(!1===d)return;(g=this.i.types.td.useData?b.data("oj-tree"):!1)&&g.types&&"undefined"!==typeof g.types[a]?c=g.types[a]:e.types[d]&&"undefined"!==typeof e.types[d][a]?c=e.types[d][a]:e.types["default"]&&"undefined"!==typeof e.types["default"][a]&&(c=e.types["default"][a])}f.isFunction(c)&&(c=c.call(this,b));return c},ti:function(c){var d,e,g,h=this.vq(),k=b.ma;h.Mba()&&(d=k.fM,e="draggable",g=!0);h.GAa()&&(d+=" "+k.Xp);c=c&&-1!=c?f(c):
this.ga;c=c.is("li")?c.find("li").addBack():c.find("li");c.removeClass("oj-tree-last").addClass("oj-tree-node").addClass(d).attr(e,g).filter("li:last-child").addClass("oj-tree-last").end().filter(":has(li)").not(".oj-expanded").removeClass("oj-tree-leaf").addClass(a.Ig).attr("aria-expanded","false");c.not(".oj-expanded, .oj-collapsed").addClass("oj-tree-leaf").children("ul").remove();var l=this.options.types?this.options.types.attr:!1;c.find("li");var m,n;f.each(c,function(){n=f(this);m=n.find("\x3e ins");
1<m.length&&(m=f(m[0]));n.hasClass("oj-tree-leaf")?(m.removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default"),m.addClass("oj-tree-icon")):(m.addClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default"),m.removeClass("oj-tree-node-icon"));l&&n.attr(l)&&n.addClass("oj-tree-type")})},bA:function(b,c,d,e,g){b=b||-1;b=this.Ca(b);if(-1!==b&&!b.length)return null;var h;c="undefined"===typeof c?"last":c;if(!g&&
!this.uo(b))return this.vo(b,function(){this.bA(b,c,d,e,!0)}),null;this.Hs();d=this.yo(d);if(!d)return null;d=d.children();g=f(d[0]);-1===b&&(b=this.Fa,"before"===c&&(c="first"),"after"===c&&(c="last"));switch(c){case "before":b.before(g);h=this.jl(b);break;case "after":b.after(g);h=this.jl(b);break;case "inside":case "first":b.children("ul").length||b.append("\x3cul /\x3e");b.children("ul").prepend(g);h=b;break;case "last":b.children("ul").length||b.append("\x3cul /\x3e");b.children("ul").append(g);
h=b;break;default:b.children("ul").length||b.append("\x3cul /\x3e"),c||(c=0),h=b.children("ul").children("li").eq(c),h.length?h.before(g):b.children("ul").append(g),h=b}if(-1===h||h.get(0)===this.Fa.get(0))h=-1;this.ti(h);this.Xb({obj:g,parent:h},"create");e&&e.call(this,g);1<this.ga[0].childNodes.length&&this.ga.find("."+a.Gv).remove();return g},ff:function(b,c,d){b=this.Ca(b);if(!b||!b.length)return!1;d=d||!1;if(!b.hasClass(a.fe)&&!this.i.ca.locked){if(!b.hasClass(a.Ig))return c&&c.call(),!1;var e=
this.Xb({obj:b,func:"expand"},"before");if("boolean"!=typeof e||e){var e=d?0:this.VM,g=this;this.uo(b)?(this.options.expandParents&&b.parentsUntil(".oj-tree",".oj-collapsed").each(function(){g.ff(this,!1,!0)}),b.removeClass(a.Ig).addClass(a.Uj).attr("aria-expanded","true").children("a").removeClass("oj-tree-loading"),f(b.children()[0]).removeClass(a.Yk).addClass("oj-default"),!d&&e?this.Pt(b,!1):this.TS(f(b.children("UL")[0]),b),c&&c.call()):(b.children("a").addClass("oj-tree-loading"),this.vo(b,
function(){g.ff(b,c,d)},c))}}},vO:function(a,b,c){var d=a?a:-1;(a=a?this.Ca(a):-1)&&-1!==a?d=a:a=this.ga;c?a=a.find("li.oj-collapsed"):(c=a,a=a.is(".oj-collapsed")?a.find("li.oj-collapsed").addBack():a.find("li.oj-collapsed"));var e=this;a.each(function(){var a=this;e.uo(this)?e.ff(this,!1,!b):e.expand(this,function(){e.vO(a,b,c)},!b)});0===c.find("li.oj-collapsed").length&&this.Xb({obj:a,targ:d},"expandAll")},wl:function(c,d,e){var f=this.i.ca,g=this.i.ui,h=f.sp;if(0==h)return!1;c=this.Ca(c);if(-1==
c||!c||!c.length||c.hasClass(a.fe)||f.locked)return!1;e&&"touchend"==e.type||(g.Uu=!1);var k=this.isSelected(c);if(!k){var l=this.Xb({obj:c,func:"select"},"before");if("boolean"==typeof l&&!l)return!1}var l=this.options.selection.slice(0),m=this.options,n=g.td.selectMultipleModifier,p=g.td.selectRangeModifier,q=g.td.disableSelectingChildren,n="on"==n||!1!==n&&e&&b.A.Zo(e),p=!1!==p&&e&&e[p+"Key"]&&g.qc&&this.i.ui.qc[0]!==c[0]&&g.qc.parent()[0]===c.parent()[0],s=!0,z=this;if(d){if(q&&n&&(c.parentsUntil(".oj-tree",
"li").children("a.oj-selected").length||c.children("ul").find("a.oj-selected:eq(0)").length))return!1;s=!1;switch(!0){case p:g.qc.addClass("oj-tree-last-selected");c=c[c.index()<g.qc.index()?"nextUntil":"prevUntil"](".oj-tree-last-selected").addBack();-1==h||c.length<h?(g.qc.removeClass("oj-tree-last-selected"),g.selected.each(function(){this!==g.qc[0]&&z.Us(this)}),k=!1,s=!0):s=!1;break;case g.Uu&&-1==h:g.Uu=!1;this.toggleSelect(c);s=!1;break;case k&&!n:if(!e)break;this.xF();g.nW||(k=!1);s=!0;break;
case !k&&!n:e?g.selected&&1==g.selected.length?this.Us(g.selected):this.xF(g.selected):1===h?this.Us(g.selected):1<h&&this.xF();s=!0;break;case k&&n:this.deselect(c);break;case !k&&n:if(-1==h||g.selected.length+1<=h)s=!0}}d=!1;s&&!k&&(p||(g.qc=c),c.children("a").addClass(a.Yk),c.attr("aria-selected","true"),d=!0,m.selectedParentExpand&&c.parents(".oj-collapsed").each(function(){z.ff(this,!1,!0)}),g.selected=g.selected.add(c),this.c2(c.eq(0)),f.Tu||this.mA("selection",l,null,e));return d},Us:function(b){b=
this.Ca(b);if(!b.length)return!1;b.hasClass(a.fe)||this.i.ca.locked||!this.isSelected(b)||(b.children("a").removeClass(a.Yk),b.removeAttr("aria-selected"),this.i.ui.selected=this.i.ui.selected.not(b),this.i.ui.qc&&this.i.ui.qc.length&&this.i.ui.qc.get(0)===b.get(0)&&(this.i.ui.qc=this.i.ui.selected.eq(0)))},xF:function(a){if(!this.i.ca.locked&&(a=a?f(a).find("a.oj-selected").parent():this.Fa.find("a.oj-selected").parent(),a.not(".oj-disabled"),0!==a.length)){var b=this;f.each(a,function(){b.Us(this)})}},
wva:function(a,b){if(this.i.ca.locked)return null;if(a&&0<a.length){var c=this;f.each(a,function(a,d){d&&c.wl(d,!0,b)})}},m4:function(a){a.preventDefault();a.currentTarget.blur();if(!f(a.currentTarget).hasClass("oj-tree-loading")){this.Mm();if(!this.i.ui.rk){var b=this.Ca(a.currentTarget);0<b.length&&-1!=b&&(this.i.ui.yk=b);this.ga.focus()}this.wl(a.currentTarget,!0,a)}this.i.ui.Uu=!1},t1:function(b,c){b=f(b);if(!b.hasClass(a.fe)&&!this.i.ca.locked){var d=b.parent(),e=d.hasClass(a.Ig);if(d.hasClass(a.Uj)||
e)c?(b.addClass(a.ws),b.removeClass("oj-default"),b.removeClass(a.Yk)):(b.removeClass(a.ws),b.addClass("oj-default"))}},Se:function(a){this.Y6(a)},Y6:function(a){var b=a?a:-1,c=this;this.Gua();a||(a=-1);(a=this.Ca(a))?b=a:a=-1;-1!==a?a.children("UL").remove():(this.ga.empty(),this.x6());this.vo(a,function(){c.Xb({obj:b},"refresh");c.CH()})},RR:function(a){this.saveSelected();this.Y6(a)},after_close:function(a){this.Xb({obj:a},"after_close",!0)},mua:function(){var a=this;this.i.ca.ei.length&&f.each(this.i.ca.ei,
function(b,c){a.ff(c,!1,!0)});this.Xb({},"reopen",!0)},BP:function(a){var b,c,d;a=a?f(a).find("a.oj-selected").parent():this.i.ui.selected;b=[];d=a.length;for(c=0;c<d;c++)b.push(a[c]);return b},tS:function(a,b){a=this.Ca(a);if(!a.length)return!1;a=a.children("a:eq(0)");a=a.find("span:eq(0)");this.Xb({obj:a,name:b},"set_text",!0);return a[0].textContent=b},M5:function(){0!==this.i.hb.type&&-1!==this.i.hb.type?this.vo(-1,function(){this.O5();this.CH()}):(this.Zia(),this.O5())},vo:function(a){this.Xb({obj:a},
"load_node",!0)},uo:function(){return!0},Hra:function(a,b,c){var d=this;this.Kra(a,function(){d.Xb({obj:d.Ca(a)},"load_node",!0);b.call(this)},c)},qra:function(a){a=this.Ca(a);return-1===a||!a||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").length},yta:function(a){(a=this.Ca(a))&&-1!==a&&a.removeData("oj-tree-children");return this.RR(a)},Jra:function(a,b,c){var d=this;this.Gra(a,function(){d.Xb({obj:d.Ca(a)},"load_node",!0);b.call(this)},c)},sra:function(a){var b=this.options.data;
a=this.Ca(a);return-1==a||!a||!b.ajax&&!this.i.hb.UV&&!f.isFunction(b.data)||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").length},Ira:function(a,b,c){var d=this;this.Fra(a,function(){d.Xb({obj:d.Ca(a)},"load_node",!0);b.call(this)},c)},rra:function(a){var b=this.options.data,c=null,d=null;b&&(c=b.data||null,d=b.ajax||null);a=this.Ca(a);return-1==a||!a||!d&&!f.isFunction(c)||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").size()},reselect:function(){var a=
this,b=this.i.ui.yD,b=f.map(f.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});f.each(b,function(b,c){c&&"#"!==c&&a.select(c)});this.i.ui.selected=this.i.ui.selected.filter(function(){return this.parentNode});this.Xb(null,"reselect",!0)},saveSelected:function(){var a=this.i.ui;a.yD=[];a.selected.each(function(){this.id&&a.yD.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,
"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.Xb(a.yD,"savedselected",!0)},rollback:function(a){a&&f.isArray(a)},get_rollback:function(){this.Xb(null,"get_rollback",!0);return{fEa:this.xi(),Mi:this.Fa.children("ul").clone(!0),UDa:this.data}},Kra:function(a,b){var c=this.SY(a&&-1!=a?a[0].id:a?a:-1,a);if(c.success&&c.QC){var d=!a||-1===a,e=this.options.data;if(e.data&&!e.ajax||e.data&&e.ajax&&d)d&&((c=this.yo(c.QC,a))?(this.ga.empty().append(c.children()),
this.ti()):this.i.hb.Qh&&this.ga.empty()),b&&b.call(this);else if(!e.data&&e.ajax||e.data&&e.ajax&&!d)(c=this.yo(c.QC,a))?(d?(d=this.ga,d.empty().append(c.children()),d.attr("role","tree").attr("aria-labelledby",this.Ws).attr("tabindex","0").css("outline","none"),-1===this.i.ca.sp&&d.attr("aria-multiselectable",!0)):(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")),this.ti(a),b&&b.call(this)):d?this.i.hb.Qh&&(this.ga.empty(),b&&b.call(this)):
(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),e.correct_state&&(this.Rs(a),b&&b.call(this)))}},SY:function(a,b){var c=[],d=this.h9,e,g={},h={success:!1,QC:null};-1==a&&(a=null,g.start=0);e=d.tg(a);0<e&&(g.count=e,d.ah(a,g,{success:f.proxy(function(a){for(var e=a.getCount(),f,g=0;g<e;g++){b={};(f=a.getData(g))&&(b.attr=f);b.title=a.lh[g].title;f.sca&&(b.metadata=a.lh[g].metadata);var k=b.attr.id;f=d.tg(k);0<f&&(f=this.SY(k,b),b.children=f.QC);c.push(b)}h.success=
!0;h.QC=c},this),error:function(){h.success=!1}}));return h},zta:function(b){b=this.Ca(b);if(!this.i.ca.locked){var c=!b||-1!==b||!b.length;if(c||!b.hasClass(a.fe)){var d=this.options.data.json;!c&&this.i.hb.ry&&(f.isFunction(d.data)||d.ajax)&&b.removeData("oj-tree-children");return this.RR(b)}}},Gra:function(a,b,c){function d(){}function e(){}var g=this.gt().data,h=g&&g.data||null,k=g&&g.ajax||null;!g||h||k||(h=g);if((a=this.Ca(a))&&-1!==a&&(this.i.hb.UV||this.i.hb.ry)&&!a.is(".oj-expanded, .oj-tree-leaf")&&
0===a.children("ul").children("li").length&&a.data("oj-tree-children")){if(g=this.yo(a.data("oj-tree-children"),a))a.append(g),this.i.hb.ry||a.removeData("oj-tree-children");this.ti(a);b&&b.call(this)}else{if(a&&-1!==a){if(a.data("oj-tree-is-loading"))return;a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k:throw"ojTree - neither data nor ajax settings supplied.";case f.isFunction(h):h.call(this,a,f.proxy(function(d){(d=this.yo(d,a))?(-1!==a&&a?(a.append(d).children("a.oj-tree-loading").removeClass("oj-tree-loading"),
a.removeData("oj-tree-is-loading")):this.ga.empty().append(d.children()),this.ti(a),b&&b.call(this)):(-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.i.hb.Qh&&this.Rs(a)):this.i.hb.Qh&&this.ga.empty(),c&&c.call(this))},this));break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||((g=this.yo(h,a))?(this.ga.empty().append(g.children()),this.ti()):this.i.hb.Qh&&this.ga.empty());b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:e=
function(b,d,e){var f=this.gt().data.ajax.error;f&&f.call(this,d,e,b);-1!=a&&a.length?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&this.i.hb.Qh&&this.Rs(a)):("error"==d||"success"===d&&this.i.hb.Qh)&&this.ga.empty();c&&c.call(this)},d=function(c,d,g){var h=this.gt().data.ajax.success;h&&(c=h.call(this,c,d,g)||c);if("string"==typeof c){d=c.replace(/^[\s\n]+$/,"");try{d=f.parseJSON(d)}catch(k){d=null}if(!d)return e.call(this,g,"Bad JSON",
"")}(c=this.yo(c,a))?(-1!==a&&a?(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")):(g=this.ga,g.empty().append(c.children()),g.attr("role","tree").attr("aria-labelledby",this.Ws).attr("tabindex","0").css("outline","none"),-1===this.i.ca.sp&&g.attr("aria-multiselectable",!0)),this.ti(a),b&&b.call(this)):-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.i.hb.Qh&&(this.Rs(a),b&&
b.call(this))):this.i.hb.Qh&&(this.ga.empty(),b&&b.call(this))},g.ajax.context=this,g.ajax.error=e,g.ajax.success=d,g.dataType||(g.ajax.dataType="json"),f.isFunction(g.ajax.url)&&(g.ajax.url=g.ajax.url.call(this,a)),f.isFunction(g.ajax.data)&&(g.ajax.data=g.ajax.data.call(this,a)),f.ajax(g.ajax)}}},yo:function(b,c,d){var e=!1,g,h,k,l;if(!b)return e;this.i.hb.ry&&c&&-1!==c&&c.data("oj-tree-children",e);if("string"==typeof b)try{b=f.parseJSON(b)}catch(m){b=[]}if(f.isArray(b)){e=f("\x3cul\x3e");if(!b.length)return!1;
h=0;for(k=b.length;h<k;h++)g=this.yo(b[h],c,!0),g.length&&(e=e.append(g));e=e.children()}else{"string"==typeof b&&(b={data:b});l="string"==typeof b.title?b.title:" ";e=f("\x3cli role\x3d'treeitem' /\x3e");b.attr&&(this.i.types.Hx&&!b.attr.type&&(b.attr.type="oj-tree-deftype",e.addClass("oj-tree-type")),e.attr(b.attr));b.metadata&&e.data(b.metadata);b.children&&0===b.children.length&&e.addClass(a.Ig);b.state&&"s"===b.state&&e.addClass(a.Yk);b.data||(b.data={dummy:0});var n=!1,p;g=f("\x3ca tabindex\x3d'-1' /\x3e");
f.each(b.data,function(a,c){f.isFunction(c)&&(c=c.call(this,b));"string"!=typeof c&&("attr"==a?g.attr(c):"style"==a&&g.css(c),"language"==a&&g.addClass(c));n||(p=f("\x3cspan class\x3d'oj-tree-title'\x3e"),p[0].textContent=l,g.prepend("\x3cins class\x3d'oj-tree-icon oj-tree-node-icon oj-component-icon'\x3e\x26#160;\x3c/ins\x3e",p),n=!0);!c.icon&&b.icon&&(c.icon=b.icon);c.icon&&(-1===c.icon.indexOf("/")?g.children("ins").addClass(c.icon):g.children("ins").css("background","url('"+c.icon+"') center center no-repeat"))});
e.append(g);e.prepend("\x3cins class\x3d'oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default'\x3e\x26#160;\x3c/ins\x3e");b.children&&(this.i.hb.UV&&"expanded"!==b.state?e.addClass(a.Ig).attr("aria-expanded","false").data("oj-tree-children",b.children):(this.i.hb.ry&&e.data("oj-tree-children",b.children),f.isArray(b.children)&&b.children.length&&(g=this.yo(b.children,c,!0),g.length&&(c=f("\x3cul role\x3d'group' /\x3e"),c.append(g),e.append(c)))))}d||(d=f("\x3cul /\x3e"),
d.append(e),e=d);return e},d_:function(a,b,c,d){var e=[],h=this.options,k=this,l,m,n,p,q,s,z,A;(a=this.Ca(a))&&-1!==a||(a=this.Fa.find("\x3e ul \x3e li"));b=f.isArray(b)?b:["id","class"];!d&&h.types&&b.push(h.types.attr);c=f.isArray(c)?c:[];a.each(function(){p=f(this);l={};b.length&&(l.attr={});f.each(b,function(a,b){(m=p.attr(b))&&m.length&&m.replace(/oj-tree[^ ]*/ig,"").length&&(m=(" "+m).replace(/ oj-tree[^ ]*/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,
""),m.length&&(l.attr[b]=m))});k.vq().Mba()&&k.isSelected(p)&&(l.state="s");n=p.data();g(n)||(l.metadata=n);q=p.children("a");m=null;q.each(function(){s=f(this);c.length||s.children("ins").get(0).style.backgroundImage.length||s.children("ins").get(0).className&&s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").length?(A=k.getText(s),f.each(c,function(a,b){z=(" "+(s.attr(b)||"")).replace(/ oj-tree[^ ]*/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,
"");z.length&&(m||(m={attr:{}}),m.attr[b]=z)}),s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(z=s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""),z.length&&(m||(m={}),m.icon=z)),s.children("ins").get(0).style.backgroundImage.length&&(z=s.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""),z.length&&(m||(m={}),m.icon=z))):A=
k.getText(s);null!=m&&(l.data||(l.data=[]),1<q.length?l.data.push(m):l.data=m);l.title=A});p=p.find("\x3e ul \x3e li");p.length&&(l.children=k.d_(p,b,c,!0));e.push(l)});return e},Rs:function(a){a=this.Ca(a);if(!a||-1===a)return!1;a.removeClass("oj-collapsed oj-expanded").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove();a.find("ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").addClass("oj-tree-icon");
this.Xb({obj:a},"correct_state",!0)},O5:function(){this.Xb(null,"loaded")},Fra:function(a,b,c){function d(){}function e(){}var g=this.gt().data,h=g&&g.data||null,k=g&&g.ajax||null;if((a=this.Ca(a))&&-1!==a){if(a.data("oj-tree-is-loading"))return;a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k&&g&&"string"===typeof g:this.L5(g,a,b,c);break;case f.isFunction(h):h.call(this,a,f.proxy(function(d){this.L5(d,a,b,c)},this));break;case !h&&!k:a&&-1!=a||(this.ga.empty().append(this.i.html.II).find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon' \x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.ga.find("li").children("ins:first-child").addClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default"),this.UG(this.ga),this.i.types.Hx&&this.Fz(this.ga),this.ti(),this.ga.find("ul").attr("role",
"group"),this.ga.find("li").attr("role","treeitem"),this.ga.find("a").attr("tabindex",-1));b&&b.call(this);break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||(g=f(h),g.is("ul")||(g=f("\x3cul /\x3e").append(g)),this.ga.empty().append(g.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),
this.ga.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.UG(this.ga),this.i.types.Hx&&this.Fz(this.ga),this.ti(),this.ga.find("ul").attr("role","group"),this.ga.find("li").attr("role","treeitem"),this.ga.find("a").attr("tabindex","-1"));b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:a=this.Ca(a),e=function(b,d,e){var f=this.gt().data.ajax.error;
f&&f.call(this,b,d,e);-1!=a&&a.length?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&this.i.hb.Qh&&this.Rs(a)):"success"===d&&this.i.hb.Qh&&this.ga.empty();c&&c.call(this)},d=function(c,d,g){var h=this.gt().data.ajax.success;h&&(c=h.call(this,c,d,g)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,""))return e.call(this,g,d,"");if(c){c=f(c);c.is("ul")||(c=f("\x3cul /\x3e").append(c));-1!=a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),
this.Ota(a),a.append(c).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),a.removeData("oj-tree-is-loading"),a.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),
c=a):(this.ga.empty().append(c.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.ga.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),
c=this.ga);this.fpa(c);this.UG(c);d=c.children("UL");if(1<=d.length){d=d.first().find("span.oj-tree-title");var k=this;f.each(d,function(){this.textContent=k.JF(this.textContent)})}this.i.types.Hx&&c&&this.Fz(this.ga);this.ti(a);b&&b.call(this)}else a&&-1!==a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.i.hb.Qh&&(this.Rs(a),b&&b.call(this))):this.i.hb.Qh&&(this.ga.empty(),b&&b.call(this)),this.ga.find("ul").attr("role","group"),this.ga.find("li").attr("role",
"treeitem")},g.ajax.context=this,g.ajax.error=e,g.ajax.success=d,g.ajax.dataType||(g.ajax.dataType="html"),f.isFunction(g.ajax.url)&&(g.ajax.url=g.ajax.url.call(this,a)),f.isFunction(g.ajax.data)&&(g.ajax.data=g.ajax.data.call(this,a)),f.ajax(g.ajax)}},fpa:function(b){b=b.find(b.is("ul")?"li ul":"ul").filter(function(){return!this.firstChild||0==this.childNodes.length||1==this.childNodes.length&&3==this.firstChild.nodeType});f.each(b,function(){f(this).closest("li").addClass(a.Ig)})},Ota:function(a){a=
a.find("ul").filter(function(){return!this.firstChild||0==this.childNodes.length||1==this.childNodes.length&&3==this.firstChild.nodeType});0<a.length&&a.remove()},L5:function(a,b,c){if(a&&""!==a&&a.toString&&""!==a.toString().replace(/^[\s\n]+$/,"")){a=f(a);a.is("ul")||(a=f("\x3cul /\x3e").append(a));-1!=b&&b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),b.append(a).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),
b.removeData("oj-tree-is-loading"),a=b,this.Fz(this.oEa)):(this.ga.empty().append(a.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon oj-tree-disclosure-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.ga.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),
a=this.ga,this.Fz(this.ga));a&&this.UG(a);a=a.children("UL");if(1<=a.length){a=a.first().find("span.oj-tree-title");var d=this;f.each(a,function(){this.textContent=d.JF(this.textContent)})}this.ti(b);c&&c.call(this)}else b&&-1!==b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),b.removeData("oj-tree-is-loading"),this.i.hb.Qh&&(this.Rs(b),c&&c.call(this))):this.i.hb.Qh&&(this.ga.empty(),c&&c.call(this))},UG:function(a){f.each(a.find("li a"),function(a,b){var c=b.innerHTML,c=c.replace("ins\x3e",
"ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e");b.innerHTML=c+"\x3c/span\x3e"})},Fz:function(a){var b,c;this.i.types.Hx&&(c=(b=this.options.types)?b.attr:this.i.types.td.attr,f.each(a.find("li"),function(a,b){b=f(b);b.attr(c)||b.attr(c,"oj-tree-deftype").addClass("oj-tree-type")}))},Gua:function(){var a=this;this.i.ca.ei=[];this.ga.find("li.oj-expanded").each(function(){this.id&&a.i.ca.ei.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,
"\\.").replace(/\:/g,"\\:"))})},CH:function(a){var b=this,c=!0,d=[],e=[],g,h;a||(this.i.ca.ZV=!1,this.i.ca.uBa=!0);this.ira()&&(this.i.ca.ei=[],this.ga.find("li.oj-collapsed").each(function(){h="#"+f(this).attr("id");b.isExpanded(h)||b.i.ca.ei.push(h)}));this.i.ca.ei=f.map(f.makeArray(this.i.ca.ei),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.i.ca.Dn=f.map(f.makeArray(this.i.ca.Dn),
function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.i.ca.ei.length&&(this.i.ca.Dn=this.i.ca.Dn.concat(this.i.ca.ei),this.i.ca.Dn=this.i.ca.Dn.reduce(function(a,b){0>a.indexOf(b)&&a.push(b);return a},[]));this.i.ca.Dn.length&&(f.each(this.i.ca.Dn,function(a,c){if("#"==c)return!0;g=b.Fa.find(c);g.length?b.isExpanded(c)||d.push(c):e.push(c)}),d.length&&(this.i.ca.Dn=e,f.each(d,function(a,d){b.uo(d)||
(b.vo(d,function(){b.CH(!0)},function(){b.CH(!0)}),c=!1)})));this.i.ca.ei.length&&f.each(this.i.ca.ei,function(a,c){b.isExpanded(c)||b.ff(c,!1,!0)});c&&(this.i.ca.ZV&&clearTimeout(this.i.ca.ZV),this.i.ca.ZV=setTimeout(function(){b.Xb({},"reload_nodes",!0)},50),this.i.ca.uBa=!1,this.mua())},setTheme:function(a,b){if(!a)return!1;b||(b=this.i.fc.SB+a+"/style.css");-1==f.inArray(b,this.i.fc.Uda)&&(h({url:b}),this.i.fc.Uda.push(b));this.i.fc.wy!=a&&(this.Fa.removeClass("oj-tree-"+this.i.fc.wy),this.i.fc.wy=
a);this.Fa.addClass("oj-tree-"+a);this.i.fc.lC?this.B8():this.y4();this.i.fc.icons?this.zS():this.AQ()},ora:function(){return null!=this.i.fc},zDa:function(){return this.i.fc.wy},isIcons:function(){return this.i.fc.icons},zS:function(){this.i.fc.icons=!0;this.Fa.children("ul").removeClass("oj-tree-no-icons")},AQ:function(){this.i.fc.icons=!1;this.Fa.children("ul").addClass("oj-tree-no-icons")},toggleIcons:function(){},hma:function(){this.i.keys.Cya=!0},yqa:function(){this.qqa();this.pqa();this.N4(!0);
this.Aqa();this.vq().Gba();this.oqa();this.Cqa();this.xqa();this.O4();this.Bqa();this.vq().Fba();this.Dq()},Xb:function(a,b,c){if(b&&"string"===f.type(b)&&(!0!==this.i.ca.locked||"unlock"===b||"isLocked"===b||"lock"===b)){var d,e=Array.prototype.slice.call(arguments);d=this.Fa;var g="before"===b,h=c?!1:!0;h||(b="_tree"+b);var k={};k.item=a?a.obj:void 0;k.inst=d;g?(d=a.func,k.func=d,k.args=e,"rename"===d&&(k.title=a.title,k.prevTitle=a.prevTitle)):h&&("move"==b?(k.position=a.np,k.reference=a.Ha,k.data=
a):"rename"==b?(k.title=a.title,k.prevTitle=a.prevTitle):"remove"==b?(k.parent=a.parent,k.prev=a.prev):"delete"==b?(k.prev=a.prev,k.parent=a.parent):"expandAll"===b||"collapseAll"===b||"deselectAll"===b?k.targ=a.targ:"loaded"===b&&(k.item=-1));if(h){if(e=this._trigger(b,new f.Event("oj"+b),k),g)return"undefined"!=typeof e&&(e=e?!0:!1),e}else this.Fa.trigger(b,k)}},mA:function(a,b,c,d){"selection"===a&&(null==c&&(c=this.BP()),this.w0(b,c)||this.option(a,c,{_context:{originalEvent:d,lb:!0},changed:!0}))},
Hs:function(){return this.get_rollback()},rj:function(){this.bH&&this.Fa.addClass("oj-tree-rtl").css("direction","rtl");this.Fa.html("\x3cul role\x3d'tree' tabindex\x3d'0' class\x3d'oj-tree-list' style\x3d'outline:none'"+(-1===this.i.ca.sp?" aria-multiselectable\x3d'true'":"")+" aria-labelledby\x3d'"+this.Ws+"'\x3e\x3cli class\x3d'oj-tree-last oj-tree-leaf'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e\x3ca class\x3d'oj-tree-loading' href\x3d'#'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e"+
this.FP("stateLoading")+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e");this.ga=this.Fa.children("ul:eq(0)");this.Fa.data("oj-tree-instance-id",this.xi());this.i.ca.vr=this.ga.find("li.oj-collapsed, li.oj-tree-leaf").eq(0).height()||18;this.Pw&&this.Fa.delegate(".oj-tree-list ins.oj-tree-disclosure-icon","touchend.ojtree",f.proxy(function(a){a.preventDefault();a=f(a.target);this.toggleExpand(a)},this));this.Fa.delegate(".oj-tree-list ins.oj-tree-disclosure-icon","click.ojtree",f.proxy(function(a){a=f(a.target);
this.toggleExpand(a)},this)).delegate(".oj-tree-list ins.oj-tree-disclosure-icon","mousedown",f.proxy(function(b){this.i.ui.ST=!0;f(b.target).removeClass("oj-default").removeClass(a.ws).addClass(a.Yk)},this)).delegate(".oj-tree-list ins.oj-tree-disclosure-icon","mouseup",f.proxy(function(b){f(b.target).removeClass(a.Yk).addClass("oj-default")},this)).bind("mousedown.ojtree",f.proxy(function(){this.Mm()},this)).bind("dblclick.ojtree",function(){var a;if(document.selection&&document.selection.empty)document.selection.empty();
else if(window.getSelection){a=window.getSelection();try{a.removeAllRanges(),a.collapse(document.getElementsByTagName("body")[0],0)}catch(b){}}});this.ga.focus(f.proxy(function(){if(this.i.ui.ST)this.i.ui.ST=!1;else{this.i.ui.rk=!0;var a;this.i.ui.yk?(this.i.ui.ic=this.i.ui.yk,a=this.i.ui.ic):this.i.ui.qc&&0<this.i.ui.qc.length?(this.i.ui.ic=this.i.ui.qc,a=this.i.ui.ic):a=this.ga.find("li:first");a&&(this.hover(a),this.i.ui.yk=null,this.ga.find("a.oj-selected").removeClass("oj-tree-inactive"))}},
this)).blur(f.proxy(function(){this.i.ui.rk=!1;this.i.ui.yk=this.i.ui.ic;this.i.ui.yk&&this.dehover(this.i.ui.ic);this.ga.find("a.oj-selected").addClass("oj-tree-inactive")},this));this.Xb({},"init",!0);this.M5();this.i.menu.Vi&&this.Iz();d({u4:this.Qw,W7:this.ga,TB:this});this.hma()},oqa:function(){this.i.ca.locked=!1;this.Fa.addClass("oj-tree oj-tree-"+this.xi());this.Fa.css("outline","none");this.Fa.css("MozUserSelect","none");this.Fa.css("WebkitTouchCallout","none");this.Fa.css("WebkitUserSelect",
"none");this.Fa.css("WebkitTapHighlightColor","rgba(0,0,0,0)")},Cqa:function(){this.i.ui.selected=f();this.i.ui.qc=!1;this.i.ui.ic=null;var b=this.options.selection;b&&"array"===f.type(b)&&0<b.length&&(this.i.ui.yD=b,this.options.selection=[]);this.Pw&&this.Fa.delegate(".oj-tree-list a","touchend.ojtree",f.proxy(function(a){this.i.ui.Uu=!0;this.m4(a);f(a.currentTarget).hasClass("oj-tree-loading")||this.dehover()},this));this.Fa.delegate(".oj-tree-list a","click.ojtree",f.proxy(function(a){this.i.ui.Uu=
!1;this.m4(a)},this)).delegate(".oj-tree-list a","mouseenter.ojtree",f.proxy(function(a){f(a.currentTarget).hasClass("oj-tree-loading")||this.hover(a.target)},this)).delegate(".oj-tree-list a","mouseleave.ojtree",f.proxy(function(a){f(a.currentTarget).hasClass("oj-tree-loading")||this.dehover(a.target)},this)).delegate(".oj-tree-list .oj-tree-disclosure-icon","mouseenter.ojtree",f.proxy(function(a){f(a.currentTarget).hasClass("oj-tree-loading")||this.t1(a.target,!0)},this)).delegate(".oj-tree-list .oj-tree-disclosure-icon",
"mouseleave.ojtree",f.proxy(function(a){f(a.currentTarget).hasClass("oj-tree-loading")||this.t1(a.target,!1)},this)).bind("_treereopen",f.proxy(function(){this.reselect()},this)).bind("_treeget_rollback",f.proxy(function(){this.dehover();this.saveSelected()},this)).bind("ojcollapse",f.proxy(function(a,b){var c=this.Ca(b.item),d=c&&c.length?c.children("ul").find("a.oj-selected"):f();!1!==this.options.selectedParentCollapse&&d.length&&d.each(function(){this.deselect(this);"selectParent"===this.options.selectedParentCollapse&&
this.select(c)})},this)).bind("ojremove",f.proxy(function(a,b){var c=this.options.selectPrevOnDelete,d=this.Ca(b.item),d=d&&d.length?d.find("a.oj-selected"):[],e=this,f;d.each(function(){e.deselect(this);e.i.ui.yk&&(f=e.Ca(this))&&e.i.ui.yk.attr("id")==f.attr("id")&&(e.i.ui.yk=null)});c&&d.length&&b.prev&&b.prev.each(function(){if(this.parentNode)return e.select(this),!1})},this)).bind("ojmove",f.proxy(function(b,c){var d=c.data,e=d.SI;e&&d.KV&&(d.KV.find("a.oj-selected").removeClass(a.Yk),d.KV.removeAttr("aria-selected"));
d.Bn===d.Or||e||(e=d.Bn.i.ui,e.yk&&(d.Ub.attr("id")==e.yk.attr("id")&&(e.yk=null),e.qc&&d.Ub.attr("id")==e.qc.attr("id")&&(e.qc=null)))},this))},O4:function(){this.zqa();this.uqa();this.tqa()},zqa:function(){1===this.i.hb.type&&(this.h9=this.options.data||null,this.vo=this.Hra,this.uo=this.qra,this.Se=this.yta)},uqa:function(){3===this.i.hb.type&&(this.i.hb.ry&&this.Fa.bind("_treeafter_close",function(a,b){b.item.children("ul").remove()}),this.vo=this.Jra,this.uo=this.sra,this.Se=this.zta)},tqa:function(){4===
this.i.hb.type&&(this.x6(),this.vo=this.Ira,this.uo=this.rra,this.Se=this.RR)},x6:function(){this.i.html.vK&&(this.i.html.ky||(this.i.html.ky=this.Fa.find(" \x3e ul"),this.i.html.YJ=f("\x3cdiv id\x3d'oj-tree-existing-markup-"+this.xi()+"' style\x3d'display:none'\x3e").append(this.i.html.ky),this.Fa.after(this.i.html.YJ)),this.i.html.qca=this.i.html.ky.find(" \x3e li"),this.i.html.II=this.i.html.qca.clone(!0),this.i.html.II.find("li").addBack().contents().filter(function(){return 3==this.nodeType}).remove())},
xqa:function(){!1===this.i.fc.SB&&f("script").each(function(){if(this.src.toString().match(/jquery\.oj-tree[^\/]*?\.js(\?.*)?$/))return this.i.fc.SB=this.src.toString().replace(/jquery\.oj-tree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1});!1===this.i.fc.SB&&(this.i.fc.SB="themes/");this.Fa.bind("_treeinit",f.proxy(function(){var a=this.options;this.i.fc.lC=a.dots;this.i.fc.icons=a.icons;this.setTheme(this.i.fc.wy,this.i.fc.url)},this)).bind("ojloaded",f.proxy(function(){this.i.fc.lC?this.B8():this.y4();
this.i.fc.icons?this.zS():this.AQ()},this))},Bqa:function(){var a=this.options.types;a&&this.Fa.bind("_treeinit",f.proxy(function(){var b=f.extend(!0,{},a.types),c=a.attr||this.i.types.td.attr,d="",e=this;f.each(b,function(a,b){f.each(b,function(a){/^(maxDepth|maxChildren|icon|validChildren)$/.test(a)||e.i.types.X9.push(a)});var g=typeof b.icon;if("undefined"===g){g=typeof b.image;if("boolean"===g&&!b.image)b.image="ojt$none";else if(!b.image&&!b.position)return!0;b.icon={};b.image&&(b.icon.image=
b.image,delete b.image);void 0!==b.position&&(b.icon.position=b.position,delete b.position)}if(b.icon.image||b.icon.position)"default"==a?(e.i.types.Hx=!0,d+=".oj-tree-"+e.xi()+" .oj-tree-list li.oj-tree-type a \x3e .oj-tree-node-icon { ",d+=e.n_(b,d),d+="} ",d+=".oj-tree-"+e.xi()+" .oj-tree-list li["+c+'\x3d"oj-tree-deftype"].oj-tree-type \x3e a ins.oj-tree-node-icon { '):b.icon.image&&(d+=".oj-tree-"+e.xi()+" .oj-tree-list li["+c+'\x3d"'+a+'"].oj-tree-type \x3e a \x3e ins.oj-tree-node-icon { '),
d+=e.n_(b,d),d+="} "});""!==d&&h({tK:d,title:"oj-tree-types"})},this)).bind("ojbefore",f.proxy(function(a,b){var c,d,e=b.func,g=b.item;if((c=(c=this.i.types.td.useData?this.Ca(g):!1)&&-1!==c&&c.length?c.data("oj-tree"):!1)&&c.types&&!1===c[e]||-1!==f.inArray(e,this.i.types.X9)&&b.item&&(b.item.tagName||b.item.jquery)&&(c=this.options.types.types,d=this.QP(g),(c[d]&&"undefined"!==typeof c[d][e]||c["default"]&&"undefined"!==typeof c["default"][e])&&!1===this.Oja(e,g)))return a.stopImmediatePropagation(),
!1},this))},n_:function(a){var b="",b="ojt$none"!==a.icon.image?b+(" background-image:url("+a.icon.image+"); "):b+" background-image:none; ";return b=a.icon.position?b+(" background-position:"+a.icon.position+"; "):b+" background-position:0 0; "},vq:function(){this.xz||(this.xz=new b.ma(this));return this.xz},CDa:function(){},Dq:function(a){var b;a||this.options.contextMenu||(b=this.Fa.attr("contextmenu"))&&(this.options.contextMenu="#"+b);if(a||this.options.contextMenu)if(b=a||this.options.contextMenu){if(b=
f(b)){b.css("display","none");var c=this.i.menu;c.Wf=b;c.Vi=!0}this.i.menu.Vi&&a&&this.Iz()}},kj:function(a,b){if(!b.inst&&this.i.menu.tCa==this.Ws){var c=b?b.item.attr("id"):void 0;"ojtreecopy"===c?this.pla(this.i.menu.Sl):"ojtreecut"===c?this.rla(this.i.menu.Sl):"ojtreepaste"===c?this.sla(this.i.menu.Sl):"ojtreeremove"===c?this.isSelected(this.i.menu.Sl)?this.W0():this.W0(this.i.menu.Sl):"ojtreerename"===c?this.X0(this.i.menu.Sl):"ojtreecreate"===c&&this.qla(this.i.menu.Sl)}},Hg:function(b,c,d){var e=
"keyboard"===d;if("contextmenu"==c.type||e||"touch"==d){this.i.menu.Sl=e?this.i.ui.ic:f(c.target);var g=this.i.menu.Sl.find(".oj-tree-title")[0];this.i.menu.AI=null;this.i.menu.Sl?(this.i.menu.tCa=this.i.menu.Sl.closest("div").attr("id"),b={launcher:this.ga},e&&(b.position={of:g}),this.i.menu.Vi&&this.i.menu.zy&&(e=!this.i.sd.ok&&!this.i.sd.$t,!!this.i.menu.zy.hasClass(a.fe)!=e&&(e?this.i.menu.zy.addClass(a.fe):this.i.menu.zy.removeClass(a.fe),this.i.menu.Wf.ojMenu("refresh"))),this.Jg(c,d,b)):c.preventDefault()}},
pqa:function(){var a=this.options.selectionMode,a=void 0==a?"single":a;"none"===a?a=0:"single"===a?a=1:"multiple"===a&&(a=-1);this.i.ca.sp=a;this.i.fc.icons=this.options.icons;this.P4();this.i.ca.Dn=this.options.initLoaded},FDa:function(){},N4:function(a){var c=this.options.data,d;this.i.hb.type=0;this.i.html.vK=!1;this.i.html.II=!1;if(c)if(d=f.type(c),"string"===d)this.ara(c)?this.i.hb.type=4:this.i.hb.type=3;else if("array"===d)this.i.hb.type=3;else if("object"===d){try{c instanceof b.Oc&&(this.i.hb.type=
1)}catch(e){this.i.hb.type=-1}if(1!==this.i.hb.type)try{c instanceof b.$a&&(this.i.hb.type=2)}catch(g){this.i.hb.type=-1}1!==this.i.hb.type&&2!==this.i.hb.type&&(c.data||c.ajax)&&((d=c.dataType)?"json"===d?this.i.hb.type=3:"html"===d&&(this.i.hb.type=4):(c.dataType="json",this.i.hb.type=3))}a&&0==this.i.hb.type&&0<this.Fa.find("ul").length&&(this.i.hb.type=4,this.i.html.vK=!0)},EDa:function(){},BDa:function(){},ADa:function(){},DDa:function(){},Aqa:function(){var a=this.options.types;"object"===typeof a&&
this.Yia(a,{attr:this.i.types.td.attr})},P4:function(){this.i.ca.ei=this.Zwa(this.options,"initExpanded");null==this.i.ca.ei&&(this.i.ca.ei=[])},qqa:function(){var a=this.i;a.ca={vAa:[],sp:1,iEa:!1,vr:0,ei:!1,Dn:!1,ci:{},Tu:!1,eCa:{}};a.ui={selected:f(),qc:!1,ic:null,yk:null,ST:!1,yD:null,opacity:1,nW:!1,rk:!1,Q9:null,Uu:!1};a.ui.td={selectMultipleModifier:"ctrl",selectRangeModifier:"shift",disableSelectingChildren:!1};a.sd={};a.sd.$t=!1;a.sd.ok=!1;a.sd.td={inputWidthLimit:200,move:{alwaysCopy:!1,
openOnMove:!0,defaultPosition:"last",checkMove:function(){return!0}}};a.sd.ci={};a.hb={};a.hb.UV=!1;a.hb.ry=!1;a.hb.Qh=!0;a.hb.type=0;a.PAa={};a.PAa.td={data:!1,ajax:!1};a.html={};a.html.td={data:!1,ajax:!1};a.html.vK=!1;a.html.ky=!1;a.html.YJ=!1;a.html.qca=!1;a.html.II=!1;a.fc={};a.fc.icons=!0;a.fc.lC=!1;a.fc.wy="default";a.fc.url=!1;a.fc.Uda=[];a.fc.SB=!1;a.types={};a.types.X9=[];a.types.Hx=!1;a.types.td={maxChildren:-1,maxDepth:-1,validChildren:"all",useData:!1,attr:"type",types:{"default":{maxChildren:-1,
maxDepth:-1,validChildren:"all"}}};a.menu={};a.menu.Vi=!1;a.menu.Wf=!1;a.menu.zy=!1;a.menu.Sl=!1;a.menu.AI=!1;a.keys={};a.keys.Cya=!0;a.keys.bound=[]},c2:function(a){var b=this.Fa[0];b.scrollHeight>b.offsetHeight&&(a=this.Ca(a))&&-1!==a&&a.length&&a.is(":visible")&&(a=a.offset().top-this.Fa.offset().top,0>a&&(b.scrollTop=b.scrollTop+a-1),a+this.i.ca.vr+(b.scrollWidth>b.offsetWidth?p:0)>b.offsetHeight&&(b.scrollTop+=a-b.offsetHeight+this.i.ca.vr+1+(b.scrollWidth>b.offsetWidth?p:0)))},Mm:function(){},
PDa:function(){},msa:function(){return++s},xi:function(){return this.jqa},gt:function(){return f.extend(!0,{},this.options)},nDa:function(){return this.Fa},oDa:function(){return this.ga},Qw:{up:function(){this.hover(this.mo(this.i.ui.ic||this.i.ui.qc||-1));return!1},"ctrl+up":function(){this.hover(this.mo(this.i.ui.ic||this.i.ui.qc||-1));return!1},"shift+up":function(){this.select(this.mo(this.i.ui.ic||this.i.ui.qc||-1),-1!==this.i.ui.sp);return!1},down:function(){this.hover(this.ft(this.i.ui.ic||
this.i.ui.qc||-1));return!1},"ctrl+down":function(){this.hover(this.ft(this.i.ui.ic||this.i.ui.qc||-1));return!1},"shift+down":function(){this.select(this.ft(this.i.ui.ic||this.i.ui.qc||-1),-1!==this.i.ui.sp);return!1},left:function(){var b=this.i.ui.ic||this.i.ui.qc;b&&(b.hasClass(a.Uj)?this.collapse(b):this.hover(this.mo(b)));return!1},"ctrl+left":function(){var b=this.i.ui.ic||this.i.ui.qc;b&&(b.hasClass(a.Uj)?this.collapse(b):this.hover(this.mo(b)));return!1},"shift+left":function(){var b=this.i.ui.ic||
this.i.ui.qc;b&&(b.hasClass(a.Uj)?this.collapse(b):this.hover(this.mo(b)));return!1},right:function(){var b=this.i.ui.ic||this.i.ui.qc;b&&b.length&&(b.hasClass(a.Ig)?this.expand(b):this.hover(this.ft(b)));return!1},"ctrl+right":function(){var b=this.i.ui.ic||this.i.ui.qc;b&&b.length&&(b.hasClass(a.Ig)?this.expand(b):this.hover(this.ft(b)));return!1},"shift+right":function(){var b=this.i.ui.ic||this.i.ui.qc;b&&b.length&&(b.hasClass(a.Ig)?this.expand(b):this.hover(this.ft(b)));return!1},space:function(){this.i.ui.ic&&
(this.i.ui.nW=!0,this.i.ui.ic.children("a:eq(0)").click(),this.i.ui.nW=!1);return!1},home:function(){this.hover(this.ga.find("li:first"));return!1},end:function(){var a=this.ga.find("li.oj-tree-last:visible");a&&a.length&&this.hover(a[a.length-1]);return!1},"*":function(){this.ga.find("a");this.vO(-1,!1);return!1},"ctrl+space":function(){if(this.i.ui.ic){var a=f.Event("click");a.ctrlKey=!0;this.i.ui.ic.children("a:eq(0)").trigger(a)}return!1},"shift+space":function(){if(this.i.ui.ic){var a=f.Event("click");
a.shiftKey=!0;this.i.ui.ic.children("a:eq(0)").trigger(a)}return!1},"shift+home":function(a){var b,c=this.i.ui.ic;if(c){var d=!0,e=this,g=this.ga.find("li:visible");this.i.ca.Tu=!0;b=this.options.selection.slice(0);c=c[0];f.each(g,function(a,b){b==c&&(d=!1);e.wl(b,!0);return d});this.i.ca.Tu=!1;this.mA("selection",b,null,a)}return!1},"shift+pgdn":function(a){var b,c=this.i.ui.qc||this.i.ui.ic;if(c){var d=!1,e=this,g=this.ga.find("li:visible");this.i.ca.Tu=!0;b=this.options.selection.slice(0);c=c[0];
f.each(g,function(a,b){d||(d=b==c);d&&!e.isSelected(b)&&e.wl(b,!0);return!0});this.i.ca.Tu=!1;this.mA("selection",b,null,a)}return!1},f2:function(){this.X0(this.i.ui.ic||this.i.ui.qc);return!1},del:function(){this.remove(this.i.ui.ic||this.Ca(null));return!1}},Iz:function(){if(this.i.menu.Vi){var a=this.i.menu.Wf,b=this;a.on("ojselect",f.proxy(this.kj,this));var c=!1;a.find("[data-oj-command]").each(function(){var a;0===f(this).children("a").length&&(a=f(this).attr("data-oj-command").split("oj-tree-"),
f(this).replaceWith(b.si(a[a.length-1])),f(this).hasClass("oj-menu-divider")&&f(this).removeClass("oj-menu-divider").addClass("oj-menu-item"),c=!0)});c&&a.ojMenu("refresh");this.i.menu.zy=a.find("#ojtreepaste")}},Ms:function(){var a=this.i.menu;a.Vi&&(a.Vi=!1,a.Wf.off("ojselect"),a.Wf=null)},si:function(a){return f(this.ef(a))},ef:function(a){return"\x3cli id\x3d"+k[a]+"\x3e"+this.Pz(a)+"\x3c/li\x3e"},Pz:function(a){return'\x3ca href\x3d"#"\x3e'+this.FP(l[a])+"\x3c/a\x3e"},rla:function(a){a=this.Ca(a,
!0);if(!a||!a.length)return!1;this.i.sd.$t=!1;this.i.sd.ok=a;this.Xb({obj:a},"cut")},pla:function(a){a=this.Ca(a,!0);if(!a||!a.length)return!1;this.i.sd.ok=!1;this.i.sd.$t=a;this.Xb({obj:a},"copy")},sla:function(a){a=this.Ca(a);if(!a||!a.length)return!1;var b=this.i.sd.ok?this.i.sd.ok:this.i.sd.$t;if(!this.i.sd.ok&&!this.i.sd.$t)return!1;this.i.sd.ok&&(this.XN(this.i.sd.ok,a),this.i.sd.ok=!1);this.i.sd.ok&&(this.XN(this.i.sd.ok,a),this.i.sd.ok=!1);this.i.sd.$t&&this.XN(this.i.sd.$t,a,!1,!0);this.Xb({obj:a,
nodes:b},"paste")},XN:function(a,b,c,d,e,f){var g=this.i.sd.td.move;if(!e)return"undefined"===typeof c&&(c=g.defaultPosition),"inside"!==c||g.defaultPosition.match(/^(before|after)$/)||(c=g.defaultPosition),this.gB(a,b,c,d,!1,f);if(!0===g.alwaysCopy||"multitree"===g.alwaysCopy&&a.Or.xi()!==a.Bn.xi())d=!0;this.gB(a,b,c,d,!0,f)},W0:function(a){a=this.Ca(a,!0);this.Hs();this.remove(a)},X0:function(a){a=this.Ca(a);this.Hs();this.Y0(a,function(){})},Y0:function(a,b){a=this.Ca(a);var c=this.bH,d=this.i.sd.td.inputWidthLimit,
e=a.children("ins").width(),g=a.find("\x3e a:visible \x3e ins").width()*a.find("\x3e a:visible \x3e ins").length,h=this.getText(a),k=this,l=f("\x3cdiv /\x3e",{css:{position:"absolute",top:"-200px",left:c?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),m=a.css("position","relative").append(f("\x3cinput /\x3e",{value:h,"class":"oj-tree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:c?"auto":e+g+4+"px",right:c?e+g+4+"px":"auto",top:"0px",height:this.i.ca.vr-
2+"px",lineHeight:this.i.ca.vr-2+"px",width:"150px"},blur:f.proxy(function(){var c=a.children(".oj-tree-rename-input"),d=c.val();""===d&&(d=h);l.remove();c.remove();this.tS(a,h);this.p7(a,d);b.call(this,a,d,h);a.css("position","")},this),keyup:function(a){a=a.keyCode||a.which;if(!k.nO)return k.nO=!0,!1;27==a?(k.nO=!1,this.value=h,this.blur()):13==a?(k.nO=!1,this.blur()):m.width(Math.min(l.text("pW"+this.value).width(),d))},keypress:function(a){if(13==(a.keyCode||a.which))return!1}})).children(".oj-tree-rename-input");
this.tS(a,"");l.css({fontFamily:m.css("fontFamily")||"",fontSize:m.css("fontSize")||"",fontWeight:m.css("fontWeight")||"",fontStyle:m.css("fontStyle")||"",fontStretch:m.css("fontStretch")||"",fontVariant:m.css("fontVariant")||"",letterSpacing:m.css("letterSpacing")||"",wordSpacing:m.css("wordSpacing")||""});m.width(Math.min(l.text("pW"+m[0].value).width(),d))[0].select()},qla:function(b,c,d,e,g){var h=this;(b=this.Ca(b))||(b=-1);this.Hs();return this.bA(b,c,d,function(b){var c=this.jl(b),d=f(b).index();
e&&e.call(this,b);c.length&&c.hasClass(a.Ig)&&this.expand(c,!1,!0);g?h.Xb({obj:b,name:this.getText(b),parent:c,position:d}):this.Y0(b,function(a,b){h.Xb({obj:a,name:b,parent:c,position:d})})})},ara:function(a){var b=!1;a&&3<=a.length&&(a=a.trim(),b="\x3c"===a.charAt(0));return b},Zia:function(){var a=this.options.emptyText;"string"!==typeof a&&(a=this.FP("labelNoData"));if(a&&0<a.length){var b=this.ga,c=f("\x3cli class\x3d'oj-tree-empty'\x3e\x3c/li\x3e");c[0].textContent=a;b.empty().append(c)}},bta:function(a){var b,
c,d;d=null;var e;a&&(b=a.subId);if(!b)return null;d=b.split("[");if(3===d.length&&(d[0]=d[0].trim(),"oj-tree-node"===d[0]&&(d[1]=d[1].trim(),b=d[1].charAt(0),b=d[1].indexOf(b,1),0<=b&&(a=d[1].substring(1,b).trim(),d[2]=d[2].trim(),b=d[2].charAt(0),b=d[2].indexOf(b,1),0<=b)))){d=d[2].substring(1,b).trim();try{c=this.Ca(a)}catch(f){c=null}if(d&&c&&-1!==c)switch(d){case "icon":this.i.fc.icons&&(e=c.find(" \x3e a \x3e ins:eq(0)"));break;case "link":e=c.find(" \x3e a:eq(0)");break;case "disclosure":this.VQ(c)||
(e=c.find(" \x3e ins:eq(0)"));break;case "title":e=c.find(" \x3e a \x3e span")}}return e?e.length?e[0]:null:null},noa:function(a){var b=a?this.Ca(a):null,c,d=null;b&&-1!=b&&b.length&&b.hasClass("oj-tree-node")&&a.tagName&&a.parentNode&&(b=a.tagName,c=a.parentNode,c=c.tagName,"SPAN"===b?d="title":"A"===b?d="link":"INS"===b&&(a=f(a),"LI"===c&&a.hasClass("oj-tree-disclosure-icon")?d="disclosure":"A"===c&&a.hasClass("oj-tree-node-icon")&&(d="icon")));return d},y4:function(){this.i.fc.lC=!1;this.Fa.children("ul").addClass("oj-tree-no-dots")},
B8:function(){this.i.fc.lC=!0;this.Fa.children("ul").removeClass("oj-tree-no-dots")},ira:function(){var a=this.options.initExpanded;return a&&"all"==a||f.isArray(a)&&a.length&&"all"==a[0]},FP:function(a){var b=this.i.ca.eCa,c;c=b[a];c||(c=this.v(a),c=this.JF(c),b[a]=c);return c},JF:function(a){var b=document.createElement("div");f(b).text(a);return b.textContent},uDa:function(){return this.i.ca.vr},Mma:function(){var a=0,b,c;window.getComputedStyle&&(c=this.i.ui.Q9,c||(c=f("\x3cdiv id\x3d'ojtree-comp-animduration'\x3e\x3cspan class\x3d'oj-tree-transition'\x3edummy\x3c/span\x3e\x3c/div\x3e"),
this.i.ui.Q9=c,f("body").append(c)),b=c[0].childNodes[0],b=window.getComputedStyle(b),b=b.transitionDuration?b.transitionDuration:b["-webkit-transition-duration"]?b["-webkit-transition-duration"]:0,c.detach(),"string"==typeof b&&1<b.length&&(c=b.charAt(b.length-1).toLowerCase(),"s"==c?(b=b.substring(0,b.length-1),b=parseFloat(b),isNaN(b)||(a=1E3*b)):2<b.length&&(c=b.substring(b.length-2).toLowerCase(),"ms"==c&&(b=parseFloat(b),isNaN(b)||(a=b)))));return a},Zwa:function(a,b){var c={};c[b]=a[b];return f.extend(!0,
{},c)[b]},t9:function(a){this.Xb({obj:{msg:a}},"trace",!0)}})})()});