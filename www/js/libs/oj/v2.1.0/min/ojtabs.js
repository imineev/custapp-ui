/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
/*
 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojconveyorbelt","ojs/ojmenu","jqueryui-amd/sortable","ojs/ojtouchproxy"],function(b,f){(function(){var a={cut:"ojtabscut","paste-before":"ojtabspastebefore","paste-after":"ojtabspasteafter",remove:"ojtabsremove"},d={cut:"labelCut","paste-before":"labelPasteBefore","paste-after":"labelPasteAfter",remove:"labelRemove"};b.Ja("oj.ojTabs",f.oj.baseComponent,{widgetEventPrefix:"oj",delay:300,options:{selected:0,disabledTabs:null,truncation:"auto",
selectOn:"click",orientation:"horizontal",edge:"top",removable:!1,reorderable:!1,beforeSelect:null,select:null,beforeDeselect:null,deselect:null,beforeRemove:null,remove:null,beforeReorder:null,reorder:null,optionChange:null},_ComponentCreate:function(){var a=this.options;this._super();this.aW=!1;this.Ai=!0;this.vS(a.edge);this.n5=0==this.element.children("ul").length;this.lla();this.C6();this.xa={};this.xa.Wf=!1;this.xa.Bp=!1;this.xa.Vr=!1;this.Dq();this.Se();a=this.Q2(a.selected);void 0===a&&(a=
0);this.SF(a);this.Ai=void 0},SF:function(a,b){this.dH(a)&&(a=this.d3(a));this.Cz(void 0===a?void 0:f(this.Bb[a]),b)},Hg:function(a,b,d){if(this.bra(b.target)&&(!this.NS||!this.NS.hI)){var h="keyboard"===d;if("contextmenu"==b.type||h||"touch"==d){var k=f(b.target).closest("li");a={launcher:k};this.xa.tab=h?this.Pa:a.launcher;if(this.xa.tab){if(this.xa.yK){if(((h=k.hasClass("oj-disabled"))||0==this.pw(k).length)&&1==this.xa.Wf.children().length){b.preventDefault();return}h||!this.$Q(k)?this.xa.yK.addClass("oj-disabled"):
this.xa.yK.removeClass("oj-disabled")}if(this.xa.Bp||this.xa.Vr)k=!this.xa.QI,this.xa.Bp.hasClass("oj-disabled")!=k&&(k?(this.xa.Bp.addClass("oj-disabled"),this.xa.Vr.addClass("oj-disabled")):(this.xa.Bp.removeClass("oj-disabled"),this.xa.Vr.removeClass("oj-disabled")),this.xa.Wf.ojMenu("refresh"));this.Jg(b,d,a)}else b.preventDefault()}}},cwa:function(a){if(!this.n4(a)){var b=f(this.document[0].activeElement).closest("li"),d=this.sA(),h=d.index(b),k=d.length;switch(a.keyCode){case f.ui.keyCode.RIGHT:case f.ui.keyCode.DOWN:h=
(h+1)%k;break;case f.ui.keyCode.UP:case f.ui.keyCode.LEFT:h=((0==h?k:h)-1)%k;break;case f.ui.keyCode.END:h=k-1;break;case f.ui.keyCode.HOME:h=0;break;case 46:(b=this.Pa)&&0<this.pw(b).length&&(a.preventDefault(),this.EH(b,null,a));return;default:return}a.preventDefault();clearTimeout(this.exa);var l=f(d[h]);l.focus();if(!a.ctrlKey){b.attr("aria-selected","false");l.attr("aria-selected","true");this.CA(l);var p=this;this.exa=this._delay(function(){p&&p.Bb&&p.Cz(l,a)},this.delay)}}},Bsa:function(a){f(a.target).closest(".oj-tabs-selected").attr("id")===
this.element.children(".oj-tabs-selected").attr("id")&&!this.n4(a)&&a.ctrlKey&&a.keyCode===f.ui.keyCode.UP&&(a.preventDefault(),this.Pa.focus())},n4:function(a){var b=this.CP();if(a.ctrlKey&&a.keyCode===f.ui.keyCode.PAGE_UP)return this.Cz(this.h2(b,!1)),!0;if(a.ctrlKey&&a.keyCode===f.ui.keyCode.PAGE_DOWN)return this.Cz(this.h2(b,!0)),!0},dH:function(a){return 0<=a&&a<this.Bb.length?f(this.Bb[a]).hasClass("oj-disabled"):!1},h2:function(a,b){var d=this.sA(),h=d.index(this.Bb[a]),k=d.length,d=f(d[b?
(h+1)%k:((0==h?k:h)-1)%k]);d.focus();return d},d3:function(a){for(var b=a+1,d=this.Bb.length-1;b<=d;){if(!this.dH(b))return b;b++}for(b=a-1;0<=b;){if(!this.dH(b))return b;b--}},nc:function(){return"top"==this.options.edge||"bottom"==this.options.edge},_setOption:function(a,b,d){"selected"===a?(b=this.IP(b),void 0!==b&&this.Cz(b)):"disabledTabs"===a?(null===b&&(b=[]),Array.isArray(b)&&(this.l8(b),a=this.CP(),this.dH(a)&&this.SF(a),this.refresh())):"removable"===a||"truncation"===a?b!=this.options[a]&&
(this._super(a,b,d),this.refresh()):"reorderable"===a?b!==this.options.reorderable&&(this._super(a,b,d),this.refresh()):"orientation"===a?this.tO||(a=this.p6(b))&&this.vS(a)&&this.refresh():"edge"===a?this.vS(b)&&(this.tO=!0,this._super(a,b,d),this.refresh()):"selectOn"===a?(this.ox(!0),this._super(a,b,d),this.yl()):("contextMenu"===a&&(this.Ms(),b&&this.Dq(b)),this._super(a,b,d),"translations"===a&&d&&"removeCueText"===d.subkey&&this.Od&&this.pw(this.Od).attr("aria-label",b?b.removeCueText:""))},
refresh:function(){this._super();this.C6();this.Se()},Se:function(){var a=this.element.children(".oj-tabs-selected");this.Pa=a.length?this.Od.children(".oj-selected"):f();this.Eka();this.yl();this.Bb.not(this.Pa).attr({"aria-selected":"false",tabIndex:"-1"});this.Bj.not(this.yq(this.Pa)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.Pa.length?(this.Pa.addClass("oj-selected").attr({"aria-selected":"true",tabIndex:"0"}),a.show().attr("aria-expanded","true").removeAttr("aria-hidden")):
f(this.Bb[0]).attr("tabIndex","0");this.nc()&&(0<this.Bb.length?(this.zwa(),this.pia()):this.JP(),this.sia());void 0===this.options.selected||0==this.CP()?this.element.addClass("oj-first-child-selected"):this.element.removeClass("oj-first-child-selected");this.Hva()},pia:function(){var a=this.Od.uniqueId().attr("id");this.Ko=this.JP().parent().ojConveyorBelt({orientation:"horizontal",contentParent:"#"+a});a=this.Ko.parent();if(a.hasClass("oj-tabs-conveyorbelt-wrapper")){var b="0 1 "+this.cna()+"px";
a.css("flex",b);a.css("-webkit-flex",b);a.css("-ms-flex",b)}},C6:function(){var a=this,b=this.options.edge;this.p1();this.kla();this.Od=this.element.children("ul").addClass("oj-tabs-nav oj-helper-clearfix").attr("role","tablist");var d=this.Od.index();this.element.children(".oj-tabs-facet").each(function(){var a=f(this);a.index()<d?a.addClass("oj-start"):a.removeClass("oj-start")});var h=this.element.children(".oj-tabs-panel");"start"==b||"top"==b?f(h[0]).before(this.Od):f(h[h.length-1]).after(this.Od);
this.Bb=f();this.Bj=f();this.Od.children("li").each(function(){var b=f(this).addClass("oj-tabs-tab").attr({role:"tab",tabIndex:"-1"}).removeAttr("aria-hidden"),d=b.children();d.addClass("oj-tabs-tab-content");d=d.children();d.addClass("oj-tabs-anchor").attr({role:"presentation",tabIndex:"-1"});d.children().addClass("oj-tabs-title").removeAttr("aria-hidden");a.Bb=a.Bb.add(b);var d=d.uniqueId().attr("id"),e=b.attr("data-content"),g=a.element.find(a.eS("#"+e));b.attr({"aria-controls":e,"aria-labelledby":d});
a.Bj=a.Bj.add(g);g.attr("aria-labelledby",d).attr("role","tabpanel")});"start"!=b&&"end"!=b||a.Od.addClass("oj-tabs-nav-root");this.Ai&&this.l8(this.options.disabledTabs)},yl:function(){var a={keydown:this.cwa},d=this.options.selectOn,g=!1;if(d){var h=this;f.each(d.split(" "),function(d,e){"click"==e&&(g=!0);b.A.yJ(e)&&(a[e]=h.KF)})}d=this.sA();this._on(d,a);g||this._on(d,{click:function(a){a.preventDefault()}});this.Bj.on("keydown"+this.eventNamespace,this.Bsa.bind(this));if(this.options.removable){var k=
{click:this.cua},l=this.pw(d);this._on(l,k);this.fz(l)}this._focusable(d);this.fz(d)},ox:function(a){var b=this.sA();a||this.Es(this.pw(b));this.Es(b);this.Bj&&this.Bj.off("keydown"+this.eventNamespace)},KF:function(a,b){var d=this.Pa,h=f(a.currentTarget).closest("li"),k=d&&h[0]===d[0],l=this.yq(h),p=d&&d.length?this.yq(d):f(),d={fromTab:d,fromContent:p,toTab:h,toContent:l};a.preventDefault();var n=b?b:a;h.hasClass("oj-disabled")||this.aW||k||p&&p.length&&!1===this._trigger("beforeDeselect",n,d)||
!this.Ai&&!1===this._trigger("beforeSelect",n,d)||(this.Ai?this.options.selected=this.CA(h):this.option("selected",this.CA(h),{_context:{originalEvent:n,lb:!0}}),this.Pa=h,l.addClass("oj-tabs-selected"),p&&p.length&&p.removeClass("oj-tabs-selected"),this.pwa(n,d))},pwa:function(a,d){var g=d.toTab.closest("li"),h=d.toContent,k=d.fromContent;this.aW=!0;var l=d.fromTab.closest("li").removeClass("oj-selected");k.hide();0<k.length&&b.Components.Rr(k[0]);g.addClass("oj-selected");this.nc()&&0<this.Bb.length&&
(0==g.index()?this.element.addClass("oj-first-child-selected"):this.element.removeClass("oj-first-child-selected"));h.show();0<h.length&&b.Components.xp(h[0]);this.aW=!1;this.Ai||(this._trigger("deselect",a,d),this._trigger("select",a,d));k.attr({"aria-expanded":"false","aria-hidden":"true"});l.attr("aria-selected","false");h.length&&k.length?l.attr("tabIndex","-1"):h.length&&this.Bb.filter(function(){return"0"===f(this).attr("tabIndex")}).attr("tabIndex","-1");h.attr("aria-expanded","true").removeAttr("aria-hidden");
g.attr({"aria-selected":"true",tabIndex:"0"})},Cz:function(a,b){if(void 0!==a){var d;this.Pa&&a[0]===this.Pa[0]||(d=a.find(".oj-tabs-anchor")[0],this.KF({target:d,currentTarget:d,preventDefault:f.noop},b))}},Eka:function(){if(this.options.removable&&this.nc()){var a=this.v("removeCueText"),b=this;this.sA().each(function(d){if(b.$Q(f(this))){var h=f(this).find("\x3e :first-child");h.addClass("oj-removable");d="ojtabs-id_rm_"+d;f(this).attr("aria-describedby",d);f("\x3ca href\x3d'#'\x3e").addClass("oj-tabs-icon oj-component-icon oj-clickable-icon-nocontext oj-tabs-close-icon").attr({id:d,
tabIndex:"-1","aria-label":a,role:"presentation"}).appendTo(h)}})}},sA:function(){return f(this.Bb.not(".oj-disabled"))},pw:function(a){return a.find(".oj-tabs-close-icon")},p1:function(){this.Bb&&this.ox();this.v4&&(b.A.Gk(this.element[0],this.Of),this.v4=!1,this.wR=void 0);this.CS&&(b.A.Zd()&&this.j9(),this.Od.sortable("destroy"),this.CS=void 0);var a=this.element.children(".oj-tabs-nav-root"),d=!a.hasClass("oj-tabs-nav");if(this.Bb&&(this.pw(this.Bb).remove(),a.length)){var g=a,h=!0,k=this.Od;
a.children().each(function(){var a=f(this);if(a.hasClass("oj-tabs-conveyorbelt-wrapper"))a=k;else if(!a.hasClass("oj-tabs-facet"))return;h=!1;g.after(a);g=a});h&&d&&a.after(k)}this.Ko&&(this.Ko.ojConveyorBelt("destroy"),this.Ko.remove(),this.Pa=this.Ko=null);d&&a.remove();this.Od=this.Bb=null},_destroy:function(){this.Ms();this.nc()?this.element.removeClass("oj-tabs oj-component oj-tabs-horizontal oj-tabs-top oj-tabs-bottom oj-first-child-selected"):this.element.removeClass("oj-tabs oj-component oj-tabs-vertical oj-tabs-start oj-tabs-end oj-helper-clearfix");
var a=this,b,d,h,k;this.Bb.each(function(l){b=f(this);b.removeAttr("tabIndex").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-controls").removeAttr("aria-disabled").removeAttr("role").removeAttr("data-content").removeClass("oj-active oj-disabled oj-selected oj-tabs-gen-id oj-tabs-tab").removeUniqueId().css("display","");d=b.children("div").removeClass("oj-tabs-tab-content");h=d.children("a").removeClass("oj-tabs-anchor").removeAttr("tabIndex").removeAttr("role");
k=h.children();k.removeClass("oj-tabs-title").removeAttr("aria-hidden");a.n5?k.prependTo(a.Bj.get(l)):d.hasClass("oj-tabs-gen-div")&&h.hasClass("oj-tabs-gen-a")?(k.prependTo(b),d.remove()):h.hasClass("oj-tabs-gen-a")?(k.prependTo(d),h.remove()):d.hasClass("oj-tabs-gen-div")&&(h.prependTo(b),d.remove())});var l=this.Od;this.p1();l.removeAttr("tabIndex").removeAttr("role").removeClass("oj-tabs-nav oj-tabs-nav-root oj-helper-clearfix").removeUniqueId();this.n5&&l.remove();this.Bj.each(function(){f(this).removeAttr("tabIndex").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("role").removeClass("oj-active oj-tabs-selected oj-tabs-gen-id oj-tabs-panel").removeUniqueId().css("display",
"")});this.element.children(".oj-tabs-facet").removeClass("oj-start")},$Q:function(a){var b=this.options.removable;return b&&(!Array.isArray(b)||-1<b.indexOf(a.attr("id")))},EH:function(a,b,d){if(this.$Q(a)){var h=this.yq(a),k={tab:a,content:h};d=d?d:b?b:{target:a,currentTarget:a,preventDefault:f.noop};a&&!1!==this._trigger("beforeRemove",d,k)&&(b&&b.preventDefault(),a.hasClass("oj-selected")&&(b=this.d3(this.Bb.index(a)),void 0===b?(this.Pa=void 0,this.option("selected",void 0,{_context:{originalEvent:d,
lb:!0}})):(this.SF(b,d),this.option("selected",this.CA(f(this.Bb[b])),{_context:{originalEvent:d,lb:!0}}))),this.ox(),this.Bb=this.Bb.not(a),a.remove(),h.remove(),this.nT(),this.refresh(),this._trigger("remove",d,k))}},cua:function(a,b){this.EH(f(a.currentTarget).closest("li"),a,b)},removeTab:function(a){if("string"!==typeof a)throw Error("'"+a+"' is not a tab id");this.EH(this.IP(a),null,null)},zI:function(a,b){var d;if("li"==a.prop("tagName").toLowerCase()){d=a;var f=d.children("div");1==f.length&&
f.hasClass("oj-tabs-tab-content")?(f=f.children("a"),1!=f.length&&(d.wrapInner("\x3ca href\x3d'#'\x3e\x3c/a\x3e"),f.addClass("oj-tabs-gen-a"))):(f=d.wrapInner("\x3cdiv\x3e\x3ca href\x3d'#'\x3e\x3c/a\x3e\x3c/div\x3e").children(),f.addClass("oj-tabs-gen-div oj-tabs-tab-content"),f.children().addClass("oj-tabs-gen-a"))}else d=a.wrap("\x3cli\x3e\x3cdiv\x3e\x3ca href\x3d'#'\x3e\x3c/a\x3e\x3c/div\x3e\x3c/li\x3e").parent().parent().parent(),d.addClass("oj-tabs-gen-li"),d.children().addClass("oj-tabs-gen-div oj-tabs-tab-content");
b&&d.attr("data-content",b);return d},addTab:function(a){var b,d,h=-1;a.tab&&a.content?(d=a.content,b=this.zI(a.tab,this.DG(d)),void 0!==a.index&&(h=a.index)):(d=a,b=this.zI(f(a).find("\x3e :first-child"),this.DG(d)));a=this.element.children(".oj-tabs-nav-root");a=a.hasClass("oj-tabs-nav")?a:a.length?a.find(".oj-tabs-nav"):this.element.children(".oj-tabs-nav");var k=!1;a.length||(a=f("\x3cul\x3e"),k=!0);k&&a.prependTo(this.element);0<=h&&h<a.children().length?(h=a.children(":eq("+h+")"),a=this.element.children("#"+
h.attr("aria-controls")),h.before(b),a.before(d)):(b.appendTo(a),d.appendTo(this.element));this.refresh();0==this.Pa.length&&this.SF(0);var l=this;window.setTimeout(function(){l.Bb&&b[0].scrollIntoView(!1)},0)},Jva:function(){this.NS=b.Kf.P9(this.Od)},j9:function(){b.Kf.gda(this.Od)},Hva:function(){if(this.options.reorderable){var a=this;b.A.Zd()&&this.Jva();this.Od.sortable({axis:a.nc()?"x":"y",stop:function(b,d){var f=d.item;a.z1(b,f,f.prev())||a.Od.sortable("cancel")}});this.CS=!0}else this.j9(),
this.CS=!1},bf:function(a,b){var d=b.edge;this.tO="top"==d||"bottom"==d||"start"==d||"end"==d;this._super(a,b)},p6:function(a){return"horizontal"==a?"top":"vertical"==a?"start":null},vS:function(a){if(this.Ai&&!this.tO||!a)a=this.p6(this.options.orientation);var b=this.options.edge;this.element.removeClass("oj-tabs-top oj-tabs-bottom oj-tabs-start oj-tabs-end");switch(a){case "top":case "bottom":!this.Bj||"start"!=b&&"end"!=b||this.element.removeClass("oj-tabs-vertical oj-helper-clearfix");this.element.addClass("oj-tabs oj-component oj-tabs-horizontal");
"bottom"==a?this.element.addClass("oj-tabs-bottom"):this.element.addClass("oj-tabs-top");this.Ai?this.options.orientation="horizontal":"horizontal"!=this.options.orientation&&this.option("orientation","horizontal",{_context:{lb:!0},changed:!0});break;case "start":case "end":!this.Bj||"top"!=b&&"bottom"!=b||this.element.removeClass("oj-tabs-horizontal");this.element.addClass("oj-tabs oj-component oj-tabs-vertical oj-helper-clearfix");"end"==a?this.element.addClass("oj-tabs-end"):this.element.addClass("oj-tabs-start");
this.Ai?this.options.orientation="vertical":"vertical"!=this.options.orientation&&this.option("orientation","vertical",{_context:{lb:!0},changed:!0});break;default:return!1}this.Ai?this.options.edge=a:this.options.edge!=a&&this.option("edge",a,{_context:{lb:!0},changed:!0});return!0},JP:function(){var a=this.Od.parent();a.hasClass("oj-tabs-conveyor")||(a=this.Od.wrap("\x3cdiv\x3e").parent().addClass("oj-tabs-conveyor"),(0<this.element.children(".oj-tabs-facet").length?a.wrap("\x3cdiv\x3e").wrap("\x3cdiv\x3e").parent().parent().addClass("oj-tabs-conveyorbelt-wrapper"):
a).wrap("\x3cdiv\x3e").parent().addClass("oj-tabs-nav-root").uniqueId().attr("id"));return a},jDa:function(a){0>a.id.indexOf("ojtabs-id_")&&f(a).attr("id","ojtabs-id_"+a.id)},getNodeBySubId:function(a){if(null==a)return this.element?this.element[0]:null;var b=a.subId;a=a.index;if("oj-conveyorbelt"!=b&&("number"!==typeof a||0>a||a>=this.Bj.length))return null;switch(b){case "oj-conveyorbelt":return this.Ko?this.Ko[0]:null;case "oj-tabs-panel":return this.yq(this.Bb[a])[0];case "oj-tabs-tab":return this.Bb[a];
case "oj-tabs-title":return f(this.Bb[a]).find(".oj-tabs-title")[0];case "oj-tabs-close-icon":case "oj-tabs-close":return f(this.Bb[a]).find(".oj-tabs-close-icon")[0]}return null},getSubIdByNode:function(a){for(var b=[],d=0;d<this.Bb.length;d++)b.push(this.yq(this.Bb[d])[0]);for(var f=d=-1,k=a;k;){if(this.Ko&&k===this.Ko[0])return{subId:"oj-conveyorbelt"};d=Array.prototype.indexOf.call(this.Bb,k);if(-1!=d)break;f=b.indexOf(k);if(-1!=f)return{subId:"oj-tabs-panel",index:f};k=k.parentElement}if(-1!=
d)for(b=this.getNodeBySubId({subId:"oj-tabs-title",index:d}),f=this.getNodeBySubId({subId:"oj-tabs-close",index:d}),k=a;k;){if(k===b)return{subId:"oj-tabs-title",index:d};if(k===f)return{subId:"oj-tabs-close",index:d};if(k===this.Bb[d])return{subId:"oj-tabs-tab",index:d};k=k.parentElement}return null},cna:function(){return this.wR+10},E3:function(){var a=this.element.find(".oj-tabs-conveyorbelt-wrapper");return a.length?a[0].clientWidth:this.element[0].clientWidth},p5:function(){return this.wR>this.E3()},
ooa:function(){var a=Math.floor(this.E3()/this.Bb.length);this.options.removable&&(a-=28);return a},A_:function(){var a=this.ooa();this.Od.find(".oj-tabs-title").each(function(){f(this).css("max-width",""+a+"px").addClass("oj-tabs-title-overflow")})},dua:function(){this.Od.find(".oj-tabs-title").each(function(){f(this).css("max-width","").removeClass("oj-tabs-title-overflow")})},LDa:function(){},kg:function(){this.u5()&&(this.p5()?this.A_():this.dua())},u5:function(){return"auto"==this.options.truncation||
"progressive"==this.options.truncation},zwa:function(){this.nc()&&0<this.Bb.length&&(null==this.Of&&(this.Of=this.kg.bind(this)),b.A.uj(this.element[0],this.Of),this.v4=!0,this.wR=this.JP()[0].scrollWidth,this.u5()&&this.p5()&&this.A_())},On:function(){this._super();this.refresh()},Vp:function(){this._super();this.refresh()},si:function(b){return f("\x3ca\x3e").text(this.v(d[b])).attr("href","#").wrap("\x3cli\x3e").parent().attr("id",a[b]).addClass("oj-menu-item")},Tra:function(a){if(!a||!a.length)return!1;
this.xa.QI=a},W5:function(a,b,d){if(!b||!b.length||!this.xa.QI)return!1;var f=this.xa.QI;this.xa.QI=!1;this.z1(a,f,b,d)},Ura:function(a,b){if(!b||!b.length)return!1;this.EH(b,null,a)},kj:function(a,b){var d=b?b.item.attr("id"):void 0;"ojtabscut"===d?this.Tra(this.xa.tab):"ojtabspastebefore"===d?this.W5(a,this.xa.tab,!0):"ojtabspasteafter"===d?this.W5(a,this.xa.tab,!1):"ojtabsremove"===d&&this.Ura(a,this.xa.tab)},Dq:function(a){if(a=a||this.options.contextMenu){if("function"==f.type(a)){try{a=a()}catch(b){a=
null}f.type(a)}a&&f(a).length&&(this.options.contextMenu=a)}this.dq()},TE:function(a,b,d){-1==b.indexOf(d)&&(b=this.si(d),a.append(b))},dq:function(){var a=f(this.options.contextMenu);if(a||this.options.reorderable||this.options.removable){var b=this;if(0==a.length){var g=this.options.reorderable?"labelReorder":d.remove,h=this.element.uniqueId().attr("id")+"contextmenu",a=f("\x3cul\x3e");a.css("display","none").attr("id",h).attr("aria-label",this.v(g));f(document.body).append(a);a.ojMenu();this.options.contextMenu=
"#"+h}var k=[];a.find("[data-oj-command]").each(function(){if(0===f(this).children("a").length){var a=f(this).attr("data-oj-command").slice(8);f(this).replaceWith(b.si(a));f(this).addClass("oj-menu-item");k.push(a)}});this.options.reorderable&&(this.TE(a,k,"cut"),this.TE(a,k,"paste-before"),this.TE(a,k,"paste-after"),this.xa.Bp=a.find("#ojtabspastebefore"),this.xa.Vr=a.find("#ojtabspasteafter"));this.options.removable&&(this.TE(a,k,"remove"),this.xa.yK=a.find("#ojtabsremove"));this.xa.Wf=a;a.ojMenu("refresh");
a.on("ojselect",f.proxy(this.kj,this))}},Ms:function(){var a=this.xa;a&&(a.Wf.off("ojselect"),a.Wf=null)},z1:function(a,b,d,f){var k=this.yq(b),l={tab:b,content:k};if(!1===this._trigger("beforeReorder",a,l))return!1;var p=this.Bb.index(b);if(d.length){if(this.Bb.index(d)==p)return!0;p=this.yq(d);f?(d.before(b),p.before(k)):(d.after(b),p.after(k))}else if(0<this.Bb.length){if(0==p)return!0;this.Bb.first().before(b);this.Bj.first().before(k)}this.nT();this.refresh();b.focus();this._trigger("reorder",
a,l);return!0},eS:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$\x26"):""},yq:function(a){return this.element.find(this.eS("#"+f(a).attr("aria-controls")))},DG:function(a){var b=a.attr("id");b||(b=a.uniqueId().attr("id"),a.addClass("oj-tabs-gen-id"));return b},IP:function(a){a=this.Q2(a);if(-1!==a)return f(this.Bb[a])},Q2:function(a){var d=-1;"number"===typeof a?0<=a&&a<this.Bb.length&&(d=a):"string"===typeof a&&(a=this.eS(a),b.A.yJ(a)&&(a=this.element.find("#"+a),a.length&&
(d=this.Bb.index(a),-1==d&&(d=this.Bj.index(a)))));return d},CP:function(){var a=this.options.selected;return"number"===typeof a?a:this.Bb.index(f("#"+a))},CA:function(a){if(a){var b=a.attr("id");return b?b:this.Bb.index(a)}},l8:function(a){var b=(this.Od?this.Od:this.element.children("ul")).children("li");b.removeClass("oj-disabled").removeAttr("aria-disabled");var d=[];if(a&&0<a.length)for(var f,k,l=0;l<a.length;l++)if(k=this.IP(a[l]))k.addClass("oj-disabled"),k.attr("aria-disabled","true"),k.find(".oj-tabs-anchor").removeAttr("href"),
f=k.attr("id"),d.push(f?f:b.index(k));this.nT(d)},nT:function(a){if(!a){a=[];var d=this;this.Od.children().each(function(){var b=f(this);b.hasClass("oj-disabled")&&a.push(d.CA(b))})}b.b.x0(this.options.disabledTabs,a)||(this.Ai?this.options.disabledTabs=a:this.option({disabledTabs:a},{_context:{lb:!0,zd:!0},changed:!0}))},bra:function(a){var b=!1;this.Bb.each(function(){if(this===a||f.contains(this,a))return b=!0,!1});return b},kla:function(){var a=this.t2(),b=this,d=this.element.children("ul");0<
d.length&&d.children("li").each(function(d){b.zI(f(this),a[d])})},lla:function(){var a=this.element.children("ul");if(0==a.length){var b=this,d=this.t2(),a=f("\x3cul\x3e");this.element.children().each(function(h){b.zI(f(this).find("\x3e :first-child"),d[h]).appendTo(a)});a.prependTo(this.element)}},sia:function(){var a=this.element.children(".oj-tabs-nav-root"),b=this,d=a.children(".oj-tabs-conveyorbelt-wrapper");a.index();this.element.children(".oj-tabs-facet").each(function(){var h=f(this),k=b.DG(h);
0==a.find("#"+k).length&&(h.hasClass("oj-start")?d.before(h):h.appendTo(a))})},t2:function(){var a=[],b=this;this.element.children(":not(ul):not(.oj-tabs-facet)").each(function(){var d=f(this);d.addClass("oj-tabs-panel");a.push(b.DG(d))});return a}})})()});