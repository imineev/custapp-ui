/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojdnd"],function(b,f){function a(b,c,e,f,h,k){null==a.TM&&(a.TM=a.Lma());this.cd=b;this.vl=c;this.gja=e;f&&f.Vda&&(this.lwa=f.Vda);h&&(h.Yda&&(this.RS=h.Yda),h.Xda&&(this.QS=h.Xda),h.bea&&(this.XS=h.bea),h.aea&&(this.WS=h.aea),h.Zda&&(this.US=h.Zda),h.$da&&(this.lI=h.$da),h.dea&&(this.ZS=h.dea),h.eea&&(this.$S=h.eea),h.cea&&(this.YS=h.cea));k&&(k.O9&&(this.fq=k.O9),k.eda&&(this.Di=k.eda),k.Naa&&(this.z3=k.Naa),k.Waa&&(this.MP=k.Waa),k.Hda&&(this.Tq=
k.Hda),k.yba&&(this.Fw=k.yba),k.Xba&&(this.Rw=k.Xba),k.Wba&&(this.Im=k.Wba),k.Vba&&(this.Kq=k.Vba),k.Jda&&(this.NB=k.Jda),k.nh&&(this.V8=k.nh),k.di&&(this.W8=k.di));c=document.createElement("div");e=c.style;e.display="inline-block";e.overflow="hidden";e.visibility="hidden";f=document.createElement("div");e=f.style;e.display="inline-block";c.appendChild(f);b.insertBefore(c,b.firstChild);this.K8=c;this.Ot=f;var l=this;this.Fm=function(a){l.rt(a)};this.C4=function(){l.eqa()};this.mt=function(a){l.jQ(a)};
this.qt=function(a){l.rQ(a)}}(function(){function d(a){for(;a;){a=a.nextSibling;var b=!0;if(a){var c=a.style;!c||c.visibility!==m&&c.display!==q||(b=!1)}if(a&&1===a.nodeType&&b)return a}return null}function c(a,b){for(var c=a;c;){var d=c.style;if(d&&(d.visibility===m||d.display===q))break;d=c.parentNode;if(d===b)return c;c=d}return null}function e(a,b){return b.ed<a.ed?1:a.ed<b.ed?-1:0}function g(a){a&&a.sort(e);return a}function h(a){var b=null;a=f(a);a.hasClass("oj-masonrylayout-tile-1x1")?b={colSpan:1,
rowSpan:1}:a.hasClass("oj-masonrylayout-tile-2x1")?b={colSpan:2,rowSpan:1}:a.hasClass("oj-masonrylayout-tile-3x1")?b={colSpan:3,rowSpan:1}:a.hasClass("oj-masonrylayout-tile-1x2")?b={colSpan:1,rowSpan:2}:a.hasClass("oj-masonrylayout-tile-1x3")?b={colSpan:1,rowSpan:3}:a.hasClass("oj-masonrylayout-tile-2x2")?b={colSpan:2,rowSpan:2}:a.hasClass("oj-masonrylayout-tile-2x3")?b={colSpan:2,rowSpan:3}:a.hasClass("oj-masonrylayout-tile-3x2")&&(b={colSpan:3,rowSpan:2});return b}function k(a){var b=null;a=f(a);
a.hasClass("oj-masonrylayout-tile-1x1")?b="oj-masonrylayout-tile-1x1":a.hasClass("oj-masonrylayout-tile-2x1")?b="oj-masonrylayout-tile-2x1":a.hasClass("oj-masonrylayout-tile-3x1")?b="oj-masonrylayout-tile-3x1":a.hasClass("oj-masonrylayout-tile-1x2")?b="oj-masonrylayout-tile-1x2":a.hasClass("oj-masonrylayout-tile-1x3")?b="oj-masonrylayout-tile-1x3":a.hasClass("oj-masonrylayout-tile-2x2")?b="oj-masonrylayout-tile-2x2":a.hasClass("oj-masonrylayout-tile-2x3")?b="oj-masonrylayout-tile-2x3":a.hasClass("oj-masonrylayout-tile-3x2")&&
(b="oj-masonrylayout-tile-3x2");return b}function l(a,b){f(a).removeClass(b)}function p(a,b){f(a).addClass(b)}b.Ja("oj.ojMasonryLayout",f.oj.baseComponent,{defaultElement:"\x3cdiv\x3e",widgetEventPrefix:"oj",options:{reorderHandle:null,beforeInsert:null,insert:null,beforeRemove:null,remove:null,beforeResize:null,resize:null,beforeReorder:null,reorder:null},_ComponentCreate:function(){this._super();this.element.addClass("oj-masonrylayout oj-component");this.options.disabled&&b.r.warn(t);this.Nu=this.eventNamespace+
"ReorderHandle";this.xa={};this.xa.Vi=!1;this.xa.Wf=!1;this.xa.GW=!1;this.xa.Bp=!1;this.xa.Vr=!1;this.Dq();this.Iz();this.Ma(!0)},refresh:function(){this._super();var a="rtl"===this.Ic()!==this.Og;a&&this.n1();this.Ma(a)},On:function(){this._super();this.Wd&&this.Ma(this.Wd[0])},Vp:function(){this._super();this.Wd&&this.Ma(this.Wd[0])},Hg:function(a,b,c){this.Nsa(b);this.Jg(b,c,{launcher:f(b.target).closest(":tabbable")})},Ma:function(c){if(this.Qz()){this.Wd=null;this.Og="rtl"===this.Ic();this.iq=
b.A.Zd();var d=this.element,e=this.options;if(c){var f=this;this.Tq=function(a){f.Sva(a)};this.Fw=function(a){f.dqa(a)};this.Rw=function(){f.Bra()};this.Im=function(){f.Ara()};this.Kq=function(){f.zra()};if(!this.Ug){var m={};m.Vda=v;var n={Yda:"oj-masonrylayout-transition-resize-to",Xda:"oj-masonrylayout-transition-resize-to-fast",bea:"oj-masonrylayout-tile-transition-move-to",aea:"oj-masonrylayout-tile-transition-move-to-fast",Zda:"oj-masonrylayout-tile-transition-hide-from",$da:"oj-masonrylayout-tile-transition-hide-to"};
n.dea=w;n.eea="oj-masonrylayout-tile-transition-show-to";n.cea="oj-masonrylayout-tile-transition-resize-to";var q={};q.O9=p;q.eda=l;q.Naa=k;q.Waa=h;q.Hda=this.Tq;q.yba=this.Fw;q.Xba=this.Rw;q.Wba=this.Im;q.Vba=this.Kq;q.Jda=g;q.nh=b.Components.nh;q.di=b.Components.di;this.Eua();this.Ug=new a(d[0],this.Og,"enabled"===b.ha.iU(),m,n,q)}this.Z3=function(a){f.fQ(a)};this.W3=function(a){f.cQ(a)};this.Y3=function(a){f.eQ(a)};this.X3=function(a){f.dQ(a)};this.U3=function(a){f.bQ(a)};this.a4=function(a){f.gQ(a)};
e.reorderHandle&&this.y8()}else e=d.children(),this.IS(e),this.wS(e),this.Uja();this.Ug.vp(c);c&&(this.zi=function(){f.kg()},b.A.uj(d[0],this.zi))}else d=!1,this.Wd&&(d=this.Wd[0]),this.Wd=[c||d]},_destroy:function(){this.Ms();var a=this.element;b.A.Gk(a[0],this.zi);this.zi=null;this.Bua();for(var c=this.Dm(),d=c.length,e=0;e<d;e++)delete c[e].ed;this.n1();a.removeClass("oj-masonrylayout oj-component");this.options.reorderHandle&&this.i9();this.Vv=this.Kq=this.Im=this.Rw=this.Fw=this.Tq=this.a4=this.U3=
this.X3=this.Y3=this.W3=this.Z3=null;this._super()},_setOption:function(a,c,d){var e=!1;switch(a){case "reorderHandle":this.i9();e=!0;break;case "disabled":b.r.warn(t);break;case "contextMenu":b.A.Zd()||(this.Ms(),c&&this.Dq(c))}this._super(a,c,d);e&&c&&this.y8()},resizeTile:function(a,b){var c=this.Ug;c.vJ()&&c.$I();var d=f(a),e=d[0],g=k(e);if(b==g)throw Error("JET MasonryLayout: Unable to resize child "+a+" to style class "+b+" because "+b+" is already applied.");!1!==this._trigger("beforeResize",
null,{tile:d,previousSizeStyleClass:g,sizeStyleClass:b})&&(this.Kz||(this.Kz=[]),this.Kz.push(e,g,b),c.resizeTile(a,b))},insertTile:function(a,c){var d=this.Ug;d.vJ()&&d.$I();isNaN(c)&&(c=-1);var e=f(a),g=e[0];!1!==this._trigger("beforeInsert",null,{tile:e,index:c})&&(g.D5=c,d.Wh()&&e.addClass(w),e=g.style,e.top="-1px",this.Og?e.right="-1px":e.left="-1px",this.Eq(g,c),d.zAa(g,c),b.Components.nh(g),this.Vv||(this.Vv=[]),this.Vv.push(a))},removeTile:function(a){var c=this.Ug;c.vJ()&&c.$I();var d=f(a),
e=d[0];if(b.te.MI(e)){var g=this.Dm(!0),e=g.indexOf(e);0<e&&(this.dO=g[e-1])}!1!==this._trigger("beforeRemove",null,{tile:d})&&c.sAa(a)},kg:function(){this.Oz||this.H4||this.Ug.KBa()},Sva:function(a){var b=f(a),c=a.D5;delete a.D5;this.options.reorderHandle&&this.wS(b);this._trigger("insert",null,{tile:b,index:c})},dqa:function(a){var c=f(a);this.options.reorderHandle&&this.IS(c);b.Components.di(a);a.parentNode.removeChild(a);this.FH(a);this._trigger("remove",null,{tile:c})},Bra:function(){if(this.Vv){for(var a=
this.Ug,b=this.Vv,c=0;c<b.length;c++)a.cCa(b[c]);this.Vv=null}if(this.Kz){a=this.Kz;for(c=0;c<a.length;c+=3){var b=a[c+1],d=a[c+2],b={tile:f(a[c]),previousSizeStyleClass:b,sizeStyleClass:d};this._trigger("resize",null,b)}this.Kz=null}this.Oz&&(this.YE?this.Xoa():this.$M&&this.V3())},Ara:function(){this.H4=!0;this.hH=null;var a=document.activeElement;a&&b.A.nn(this.element[0],a)&&(this.hH=a)},zra:function(){this.H4=!1;var a=this.element[0];if(this.hH){var c=this.hH;this.hH=null;if(this.dO){if(c=this.dO,
this.dO=null,c&&b.A.nn(a,c)){var a=this.Dm(a,!0),d=a.indexOf(c);0<=d&&d<a.length-1?b.te.fU(a[d+1]):b.te.fU(c)}}else b.A.nn(a,c)?b.te.oC(c):b.te.fU(a)}},n1:function(){var a=this.Ug;a&&a.destroy();this.Ug=null},Qz:function(){var a=document.createElement("div"),b=a.style;b.width="10px";b.height="10px";b=this.element[0];b.appendChild(a);var c=!1;try{c=0<a.offsetWidth&&0<a.offsetHeight}catch(d){}b.removeChild(a);return c},Dm:function(a){for(var b=this.element.children(v),c=b.length,d=[],e=0;e<c;e++){var f=
b[e];if(!a||a&&f!==this.ze){var g=f.style;g.visibility!==m&&g.display!==q&&d.push(f)}}return d},Eua:function(){var a=this.Dm();if(a)for(var b=0;b<a.length;b++){var c=a[b];c.ed||(c.ed=b+1)}},Uja:function(){var a=this.Dm();if(a)for(var b=0;b<a.length;b++){var c=a[b];c.ed||this.Eq(c,b)}},Bua:function(){var a=this.Dm(),c=this.Dm();g(c);for(var d=0;d<a.length;d++){var e=a[d],f=c[d];e!=f&&(b.Components.di(f),e.parentNode.insertBefore(f,e),b.Components.nh(f),e=a.indexOf(f),e>d&&(a.splice(e,1),a.splice(d,
0,f)))}},Eq:function(a,b){var c=this.Dm();0>b&&(b=c.length);if(c)for(var d=0;d<c.length;d++){var e=c[d];e.ed&&e.ed>=b+1&&e.ed++}a.ed=b+1},FH:function(a){if(a.ed){var b=this.Dm();if(b)for(var c=0;c<b.length;c++){var d=b[c];d.ed&&d.ed>a.ed&&d.ed--}delete a.ed}},Dq:function(a){var b=null,c=null;a||this.options.contextMenu||(b=this.element.attr("contextmenu"))&&(this.options.contextMenu="#"+b);if(a||this.options.contextMenu){b=a||this.options.contextMenu;c=f.type(b);if("function"==c){try{b=b()}catch(d){b=
null}f.type(b)}if(b){if(b=f(b)){b.css("display",q);c=this.xa;if(!c)return;c.Wf=b;c.Vi=!0}this.xa.Vi&&a&&this.Iz()}}},Iz:function(){if(this.xa&&this.xa.Vi&&this.options.reorderHandle){var a=this.xa.Wf,b=this;a.on("ojselect",f.proxy(this.kj,this));var c=!1;a.find("[data-oj-command]").each(function(){if(0===f(this).children("a").length){var a=f(this).attr("data-oj-command").slice(17);f(this).replaceWith(b.si(a));f(this).addClass("oj-menu-item");c=!0}});c&&a.ojMenu("refresh");this.xa.GW=a.find("#"+x);
this.xa.Bp=a.find("#"+y);this.xa.Vr=a.find("#"+B)}},Ms:function(){var a=this.xa;a&&a.Vi&&(a.Vi=!1,a.Wf.off("ojselect"),a.Wf=null)},Nsa:function(a){a=c(a.originalEvent.target,this.element[0]);this.xa.tile=a;if(this.xa.Vi){var b=this.xa.RI,e=!1,f=this.xa.GW;if(f){var g=f.hasClass(r),h=!1;b&&a===b&&(h=!0);h&&!g?(f.addClass(r),e=!0):!h&&g&&(f.removeClass(r),e=!0)}if(f=this.xa.Bp)g=f.hasClass(r),h=!1,b&&a!==b&&a!==d(b)||(h=!0),h&&!g?(f.addClass(r),e=!0):!h&&g&&(f.removeClass(r),e=!0);if(f=this.xa.Vr)g=
f.hasClass(r),h=!1,b&&b!==a&&b!==d(a)||(h=!0),h&&!g?(f.addClass(r),e=!0):!h&&g&&(f.removeClass(r),e=!0);e&&this.xa.Wf.ojMenu("refresh")}},si:function(a){var b=C[a];a=M[a];var c=f('\x3ca href\x3d"#"\x3e\x3c/a\x3e');c.text(this.v(a));c.wrap("\x3cli id\x3d"+b+"\x3e\x3c/li\x3e");return c.parent()},Rra:function(a){a&&(this.xa.RI=a)},U5:function(a,b){if(a&&this.xa.RI){var c=this.xa.RI;this.xa.RI=!1;this.Qla(c,a,b)}},Qla:function(a,b,c){var e=a.ed-1,g=f(a);if(!1!==this._trigger("beforeReorder",null,{tile:g,
fromIndex:e})){this.FH(a);var h=b.ed-1;c||h++;var k=this.element[0];c||(b=d(b));this.Eq(a,h);k.insertBefore(a,b);this.Ug.vp(!0);this._trigger("reorder",null,{tile:g,fromIndex:e,toIndex:h})}},kj:function(a,b){var c=b?b.item.attr("id"):void 0;c===x?this.Rra(this.xa.tile):c===y?this.U5(this.xa.tile,!0):c===B&&this.U5(this.xa.tile,!1)},H3:function(a){var b=this.Dm(!0);g(b);for(var c=b.length,d=0;d<c;d++)if(b[d]===a)return d;return-1},y8:function(){var a=this.element,b=a.children();this.wS(b);a.on("dragstart"+
this.Nu,this.Z3).on("dragenter"+this.Nu,this.W3).on("dragover"+this.Nu,this.Y3).on("dragleave"+this.Nu,this.X3).on("dragend"+this.Nu,this.U3).on("drop"+this.Nu,this.a4)},wS:function(a){var b=this.options;a.filter(b.reorderHandle).attr(s,"true").addClass(u);a.find(b.reorderHandle).attr(s,"true").addClass(u)},i9:function(){var a=this.element,b=a.children();this.IS(b);a.off(this.Nu)},IS:function(a){var b=this.options;a.filter(b.reorderHandle).removeAttr(s).removeClass(u);a.find(b.reorderHandle).removeAttr(s).removeClass(u)},
fQ:function(a){if(this.options.reorderHandle&&!this.Oz){var b=c(a.target,this.element[0]);if(b){var d=this.H3(b);b.bR=d;d={tile:f(b),fromIndex:d};!1!==this._trigger("beforeReorder",null,d)&&(a=a.originalEvent,this.qO(b,a.pageX,a.pageY,a.dataTransfer))}}},cQ:function(a){a=a.originalEvent;var c=a.relatedTarget,d=this.element[0],e=!1;c?e=d!=c&&!b.A.nn(d,c):this.B1&&(e=(c=document.elementFromPoint(a.clientX,a.clientY))&&(c==d||b.A.nn(d,c)));e&&((this.B1=!1,this.rq)?this.ze&&(f(this.ze).css("display",
""),this.Ug.vp(!1,!0)):a.dataTransfer.dropEffect="none")},eQ:function(a){var b=a.originalEvent;b.dataTransfer.dropEffect="move";this.Xla(b.pageX,b.clientX,b.clientY);a.preventDefault();return!1},dQ:function(a){var c=a.originalEvent,d=c.relatedTarget;a=this.element[0];var e=!1;e=d?a!=d&&!b.A.nn(a,d):(c=document.elementFromPoint(c.clientX,c.clientY))&&c!=a&&!b.A.nn(a,c);e&&(this.B1=!0,this.ze&&(f(this.ze).css("display",q),this.Ug.vp(!1,!0)))},j0:function(){if(this.FF){clearTimeout(this.FF);this.FF=
null;var a=this.rq;a&&f(a).removeClass("oj-drag")}},bQ:function(){this.j0();if(!this.bN){var a=this.rq;if(a&&this.ze){var c=this.ze;b.A.nn(this.element[0],a)&&(f(c).css("display",""),this.FH(c),c.parentNode.removeChild(c),f(a).css("display",""),this.Eq(a,a.ed-1),this.Ug.vp(!1,!0));delete a.bR}this.ze=this.rq=null;this.$E=this.YE=!1;this.pO=null;this.Oz=this.$M=!1}},gQ:function(a){var b=this.Ug;b.vJ()&&b.$I();this.j0();b=a.originalEvent;this.ema(this.rq,b.pageX,b.pageY);a.stopPropagation();return!1},
qO:function(a,c,d,e){this.Oz=!0;this.aN=this.$E=this.bN=!1;this.rq=a;var g=this.element[0],h=k(a),l=this.ze=document.createElement("div");l.ed=a.ed;l.className=h+" oj-drop";var h=l.style,m=a.style;h.top=m.top;this.Og?h.right=m.right:h.left=m.left;h=f(a).offset();g.insertBefore(l,a);this.pO=c={left:c-h.left,top:d-h.top};f(a).addClass("oj-drag");e.effectAllowed="move";e.setData("text/html",a.outerHTML);e.setDragImage(a,c.left,c.top);var n=this;this.FF=setTimeout(function(){n.aN=!0;m.display=q;f(a).removeClass("oj-drag");
n.FF=null;b.Components.Rr(a)},0)},Xla:function(a,b,e){this.$E=!0;if(this.aN&&!this.YE){var g=this.element[0];b=document.elementFromPoint(b,e);if((b=c(b,g))&&b!==this.ze&&b!==this.rq){var h=f(g).offset();e=d(this.ze);a=a-h.left>=b.offsetLeft+.5*b.offsetWidth;this.FH(this.ze);a&&!this.Og||!a&&this.Og?(a=d(b))?(this.Eq(this.ze,a.ed-1),g.insertBefore(this.ze,a)):(this.Eq(this.ze,b.ed),g.appendChild(this.ze)):(this.Eq(this.ze,b.ed-1),g.insertBefore(this.ze,b));e!==d(this.ze)&&(this.YE=this.Ug.vp(!1,!0))}}},
Xoa:function(){this.YE=!1},ema:function(a,c,d){this.bN=!0;var e=this.element[0],g=this.ze;this.ze=null;b.Components.di(a);e.replaceChild(a,g);b.Components.nh(a);a.ed=g.ed;g=a.style;g.display="";b.Components.xp(a);var h=f(e).offset(),k=this.pO;g.top=d-k.top-h.top+n;c=c-k.left-h.left;this.Og?(g.right=e.offsetWidth-(c+f(a).outerWidth(!0))+n,g.left=""):g.left=c+n;this.pO=null;this.$E?this.$M=this.Ug.vp(!1,!0):this.V3()},V3:function(){this.aN=this.$E=this.bN=this.Oz=this.$M=!1;var a=this.rq;this.rq=null;
var b=a.bR;delete a.bR;var c=this.H3(a),a={tile:f(a),fromIndex:b,toIndex:c};this._trigger("reorder",null,a)},getNodeBySubId:function(a){return this._super(a)},getSubIdByNode:function(a){return this._super(a)}});var n="px",m="hidden",q="none",s="draggable",r="oj-disabled",u="oj-draggable",v=".oj-masonrylayout-tile-1x1, .oj-masonrylayout-tile-1x2, .oj-masonrylayout-tile-1x3, .oj-masonrylayout-tile-2x1, .oj-masonrylayout-tile-2x2, .oj-masonrylayout-tile-2x3, .oj-masonrylayout-tile-3x1, .oj-masonrylayout-tile-3x2",
w="oj-masonrylayout-tile-transition-show-from",t="JET MasonryLayout: 'disabled' option not supported",x="ojmasonrylayoutcut",y="ojmasonrylayoutpastebefore",B="ojmasonrylayoutpasteafter",C={cut:x,"paste-before":y,"paste-after":B},M={cut:"labelCut","paste-before":"labelPasteBefore","paste-after":"labelPasteAfter"}})();a.prototype.vp=function(a,b){var e=!1;a?(e=this.Bi()?!0:!1,this.r7()):(this.Im&&this.Im(),this.aT(b),e=this.VS());return e};a.prototype.destroy=function(){for(var a=this.cd,b=this.kt(),
e=0;e<b.length;e++){var f=b[e].style;this.vl?f.right="":f.left="";f.top=""}a.removeChild(this.K8);this.W8=this.V8=this.NB=this.Kq=this.Im=this.Rw=this.Fw=this.Tq=this.MP=this.z3=this.Di=this.fq=this.cd=this.Tn=this.sm=this.Wj=this.tm=this.$k=this.qt=this.mt=this.C4=this.Fm=this.Ot=this.K8=null};a.prototype.resizeTile=function(a,b){var e=this.cd.querySelector(a);if(e){this.tm||(this.tm=[]);var f=this.tm;f.push(e);f.push(b);this.z7=!0;this.uB()}};a.prototype.zAa=function(a,b){var e=this.kt();this.NB&&
this.NB(e);var f=null;0<=b&&b<e.length&&(f=e[b]);this.cd.insertBefore(a,f);this.uB()};a.prototype.cCa=function(b){if(b=this.cd.querySelector(b))this.Wj||(this.Wj=[]),this.Wj.push(b),this.BS=!0,this.ql!==a.yZ&&this.ql!==a.xE?this.uB():this.BS=!1};a.prototype.sAa=function(a){if(a=this.cd.querySelector(a))this.sm||(this.sm=[]),this.sm.push(a),this.D4=!0,this.uB()};a.prototype.KBa=function(){this.z7||this.D4||this.BS||(this.Im&&this.Im(),this.aT(!1),this.VS())};a.prototype.Wh=function(){if(this.k9)return!1;
this.Eja||(this.Xia=this.gja?!1:a.cra(a.TM[0],a.TM[1]),this.Eja=!0);return this.Xia};a.prototype.vJ=function(){return null!=this.ql||null!=this.$k&&0<this.$k.length};a.prototype.$I=function(){this.k9=!0;this.Ao(this.XS);this.Ao(this.WS);this.Ao(this.US);this.Ao(this.lI);this.Ao(this.ZS);this.Ao(this.$S);this.Ao(this.YS);this.Di(this.Ot,this.RS);this.Di(this.Ot,this.QS);a.pf(this.cd,"transitionend",this.Fm);a.pf(this.cd,"webkitTransitionEnd",this.Fm);for(var b=this.kt(),c=0;c<b.length;c++){var e=b[c];
e.VE&&delete e.VE;a.pf(e,"transitionend",this.mt);a.pf(e,"webkitTransitionEnd",this.mt);a.pf(e,"transitionend",this.qt);a.pf(e,"webkitTransitionEnd",this.qt)}this.Gw?(clearTimeout(this.Gw),this.Gw=null,this.jQ(null)):this.lx?(clearTimeout(this.lx),this.lx=null,this.AS()):this.ql===a.xE||null!=this.$k&&0<this.$k.length?this.rt(null):this.ql===a.zZ&&this.rQ(null);this.k9=!1};a.ona=function(b){var c=a.nA(b);return{oh:b.offsetWidth+(a.Jh(c.marginLeft)+a.Jh(c.marginRight)),Mi:b.offsetHeight+(a.Jh(c.marginTop)+
a.Jh(c.marginBottom))}};a.nna=function(b){b=a.nA(b);return{paddingLeft:a.Jh(b.paddingLeft),paddingRight:a.Jh(b.paddingRight),paddingTop:a.Jh(b.paddingTop),paddingBottom:a.Jh(b.paddingBottom),borderLeftWidth:a.Jh(b.borderLeftWidth),borderRightWidth:a.Jh(b.borderRightWidth),borderTopWidth:a.Jh(b.borderTopWidth),borderBottomWidth:a.Jh(b.borderBottomWidth)}};a.nA=function(a){var b=a.ownerDocument.defaultView,e=null;return e=b?b.getComputedStyle(a,null):a.currentStyle};a.Jh=function(a){return 0<a.length&&
"auto"!=a?(a=parseInt(a,10),isNaN(a)&&(a=0),a):0};a.Lg=function(a,b,e){a.addEventListener?a.addEventListener(b,e,!1):a.attachEvent&&a.attachEvent("on"+b,e)};a.pf=function(a,b,e){a.removeEventListener?a.removeEventListener(b,e,!1):a.detachEvent&&a.detachEvent("on"+b,e)};a.D_=function(a,b){if(a)for(var e=0;e<a.length;e++)if(a[e]==b)return e;return-1};a.cra=function(a,b){var e=["gecko",16,"trident",6,"webkit",533.1],f=e.length;if(0==f%2)for(var h=0;h<=f-2;h+=2)if(a==e[h]){if(b>=e[1+h])return!0;break}return!1};
a.Lma=function(){var b=a.gk,c=null,e=-1,f=navigator.userAgent.toLowerCase();-1!=f.indexOf("msie")||-1!=f.indexOf("trident")?(c="trident",e=b(f,/trident\/(\d+[.]\d+)/),-1==e&&(e=b(f,/msie (\d+\.\d+);/),-1==e&&(e=b(f,/msie (\d+\.\d+)b;/)),e-=4),null!=document.documentMode&&(e=Math.min(e,document.documentMode-4))):-1!=f.indexOf("applewebkit")?(c="webkit",e=b(f,/applewebkit\/(\d+([.]\d+)*)/)):-1!=f.indexOf("gecko/")&&(c="gecko",e=b(f,/rv:(\d+[.]\d+)/));return[c,e]};a.gk=function(a,b){var e=a.match(b);
return e&&(e=e[1])?parseFloat(e):-1};a.qka=function(a,b){return a.sK>b.sK?1:a.sK<b.sK?-1:a.rK>b.rK?1:a.rK<b.rK?-1:0};a.prototype.uB=function(){this.QG||(this.ql?this.LR||(this.LR=!0):this.QG=setTimeout(this.C4,0))};a.prototype.kt=function(){for(var a=this.cd.querySelectorAll(this.lwa),b=[],e=0;e<a.length;e++){var f=a[e],h=f.style;0<f.offsetWidth&&0<f.offsetHeight&&"hidden"!=h.visibility&&b.push(f)}return b};a.prototype.VS=function(){var b=this.$k,c=this.Bi();if(this.tm){var e=this.tm;c||(c=[]);for(var f=
0;f<e.length;f+=2){var h=e[f];0>a.D_(c,h)&&c.push(h)}}e=!1;if(!c||1>c.length){if(!b||1>b.length)this.$k=null,this.rt(null),e=!0}else this.$k=c;b=null!=c&&0<c.length;this.Wh()||e||this.rt(null);return b};a.prototype.Bi=function(){var b=this.cd,c=this.kt();this.NB&&this.NB(c);var e=this.wN=null;this.lq=0;this.ua=1;this.Xw=null;var f=[],h=[],k=[],l=this.vl,p=a.nna(b),n=0,m=[];this.C_=m;for(var q=0;q<c.length;q++){var s=c[q],r=this.MP(s);(e=s.VE)&&delete s.VE;if(!this.wN){var u=r;e&&(u=document.createElement("div"),
u.className=e,u=this.MP(u));this.wN=this.Fja(s,u)}e=this.wN;this.Xw||(this.lq=Math.max(Math.floor((b.offsetWidth-p.paddingLeft-p.paddingRight-p.borderLeftWidth-p.borderRightWidth)/e.oh),1),this.wqa(this.lq,this.ua),n=this.lq);r.colSpan>n&&(n=r.colSpan);r.colSpan>this.lq&&(r.colSpan=this.lq);for(var v=!1,u=0;u<this.ua;u++){for(var w=0;w<this.lq;w++)if(this.Fma(w,u,r)){var v=s.style,t={top:v.top};l?t.right=v.right:t.left=v.left;h.push(t);this.AR(s,w,u,r,e,p);l&&k.push(w);v=!0;m.push({rK:w,sK:u,tile:s});
break}if(v)break;u===this.ua-1&&this.k_()}}e&&(b=this.Ot.style,b.width=n*e.oh+"px",b.height=this.ua*e.Mi+"px");for(q=0;q<c.length;q++)s=c[q],v=s.style,t=h[q],""!=t.top&&(l&&parseInt(v.right,10)!==parseInt(t.right,10)||!l&&parseInt(v.left,10)!==parseInt(t.left,10)||parseInt(v.top,10)!==parseInt(t.top,10))&&f.push(s);1>f.length&&(f=null);return f};a.prototype.r7=function(){var b=this.C_;this.C_=null;for(var b=b.sort(a.qka),c=this.kt(),e=0;e<c.length;e++){var f=c[e],h=b[e].tile;f!=h&&(this.W8(h),f.parentNode.insertBefore(h,
f),this.V8(h),f=a.D_(c,h),f>e&&(c.splice(f,1),c.splice(e,0,h)))}};a.prototype.wqa=function(a,b){for(var e=this.Xw=[],f=0;f<b;f++){var h=[];e.push(h);for(var k=0;k<a;k++)h[k]=!1}};a.prototype.k_=function(){this.ua++;var a=[];this.Xw.push(a);for(var b=0;b<this.lq;b++)a[b]=!1};a.prototype.Fma=function(a,b,e){var f=e.colSpan;e=e.rowSpan;for(var h=b;h<b+e;h++){h>=this.ua&&this.k_();for(var k=a;k<a+f;k++)if(k>=this.lq||this.Xw[h][k])return!1}return!0};a.prototype.AR=function(a,b,e,f,h,k){var l=f.colSpan;
f=f.rowSpan;for(var p=this.Xw,n=e;n<e+f;n++)for(var m=b;m<b+l;m++)p[n][m]=!0;a=a.style;a.top=k.paddingTop+e*h.Mi+"px";this.vl?a.right=k.paddingRight+b*h.oh+"px":a.left=k.paddingLeft+b*h.oh+"px"};a.prototype.Fia=function(a){for(var b=this.kt(),e=0;e<b.length;e++)this.fq(b[e],a)};a.prototype.Ao=function(a){for(var b=this.kt(),e=0;e<b.length;e++)this.Di(b[e],a)};a.prototype.aT=function(b){this.H5||(this.s7=b,this.Wh()&&(this.Fia(b?this.WS:this.XS),this.fq(this.Ot,b?this.QS:this.RS),a.Lg(this.cd,"transitionend",
this.Fm),a.Lg(this.cd,"webkitTransitionEnd",this.Fm)),this.H5=!0)};a.prototype.rt=function(b){var c=!0;if(this.$k){var e=this.$k;if(b){var f=b.target;for(b=0;b<e.length;b++)if(f===e[b]){e.splice(b,1);break}}else this.Wh()||(e=this.$k=[]);0<e.length&&(c=!1)}if(c){if(this.tm&&(c=this.tm,this.tm=null,this.Wh()))for(b=0;b<c.length;b+=2)this.Di(c[b],this.YS);this.s7?(this.Wh()&&(this.Ao(this.WS),this.Di(this.Ot,this.QS)),this.s7=!1):this.Wh()&&(this.Ao(this.XS),this.Di(this.Ot,this.RS));this.Wh()&&(a.pf(this.cd,
"transitionend",this.Fm),a.pf(this.cd,"webkitTransitionEnd",this.Fm));this.BS=this.D4=this.z7=this.H5=!1;this.r7();this.Rw&&this.Rw();if(this.ql===a.xE)if(this.Wh()){var h=this;this.lx=setTimeout(function(){h.AS()},0)}else this.AS();else this.ql||this.Kq&&this.Kq()}};a.prototype.Fja=function(b,c){var e=a.ona(b);return{oh:e.oh/c.colSpan,Mi:e.Mi/c.rowSpan}};a.prototype.eqa=function(){this.QG&&(clearTimeout(this.QG),this.QG=null);this.Im&&this.Im();this.ql=a.yZ;if(this.sm&&this.Wh()){for(var b=this.sm,
c=0;c<b.length;c++){var e=b[c];a.Lg(e,"transitionend",this.mt);a.Lg(e,"webkitTransitionEnd",this.mt);this.fq(e,this.US)}var f=this;this.Gw=setTimeout(function(){for(var a=0;a<b.length;a++){var c=b[a];f.Di(c,f.US);f.fq(c,f.lI)}},0)}else this.jQ(null)};a.prototype.jQ=function(b){this.Gw&&(clearTimeout(this.Gw),this.Gw=null);if(b){b.preventDefault();b.stopPropagation();b=b.target;this.Di(b,this.lI);a.pf(b,"transitionend",this.mt);a.pf(b,"webkitTransitionEnd",this.mt);var c=this.sm;if(c){for(var e=0;e<
c.length;e++){var f=c[e];if(f===b){c.splice(e,1);this.Tn||(this.Tn=[]);var h=this.Tn;h.push(b);break}}1>c.length&&(this.sm=null)}}else if(!this.Wh()&&(c=this.sm)){for(e=0;e<c.length;e++)f=c[e],this.Tn||(this.Tn=[]),h=this.Tn,h.push(f);this.sm=null}if(!this.sm){if(this.Tn){h=this.Tn;for(e=0;e<h.length;e++)b=h[e],this.Wh()&&this.Di(b,this.lI),c=b.style,this.vl?c.right="":c.left="",c.top="",this.Fw&&this.Fw(b);this.Tn=null}this.ql=a.xE;this.aT(!1);if(this.tm)for(h=this.tm,e=0;e<h.length;e+=2)b=h[e],
c=h[e+1],f=this.z3(b),this.Di(b,f),this.fq(b,c),this.Wh()&&(this.fq(b,this.YS),b.VE=f);this.VS()}};a.prototype.AS=function(){this.lx&&(clearTimeout(this.lx),this.lx=null);this.ql=a.zZ;if(this.Wj&&this.Wh())for(var b=this.Wj,c=0;c<b.length;c++){var e=b[c];a.Lg(e,"transitionend",this.qt);a.Lg(e,"webkitTransitionEnd",this.qt);this.fq(e,this.$S);this.Di(e,this.ZS)}else{if(this.Wj)for(b=this.Wj,c=0;c<b.length;c++)e=b[c],this.Di(e,this.ZS);this.rQ(null)}};a.prototype.rQ=function(b){if(b){b.preventDefault();
b.stopPropagation();b=b.target;this.Di(b,this.$S);a.pf(b,"transitionend",this.qt);a.pf(b,"webkitTransitionEnd",this.qt);var c=this.Wj;if(c){for(var e=0;e<c.length;e++){var f=c[e];if(f===b){c.splice(e,1);this.Tq&&this.Tq(b);break}}1>c.length&&(this.Wj=null)}}else if(!this.Wh()&&(c=this.Wj)){for(e=0;e<c.length;e++)f=c[e],this.Tq&&this.Tq(f);this.Wj=null}this.Wj||(this.ql=null,this.Kq&&this.Kq(),this.LR&&(this.LR=!1,this.uB()))};a.yZ=1;a.xE=2;a.zZ=3});