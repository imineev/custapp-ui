/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdvt-base","ojs/internal-deps/dvt/DvtDiagram"],function(b,f,a,d,c){b.Ja("oj.ojDiagram",f.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{optionChange:null},Fh:function(a){this.options._logger=b.r;this.options._templateFunction&&(this.options.renderer=this.BG(this.options._templateFunction));this.options.renderer&&(this.options._contextHandler=this.TO());return this._super(a)},BG:function(a){var b=this;return function(c){var d=document.createElement("div");
d.style.display="none";d.sO=b.Hh;b.element.append(d);a({parentElement:d,data:c.data});return(c=d.children[0])&&"http://www.w3.org/2000/svg"===c.namespaceURI?(d.removeChild(c),f(d).remove(),c):c?b.lz(c):null}},TO:function(){var a=this;return function(c,d,f,l,p){return{component:b.Components.gh(a.element),parentElement:c,rootElement:d,data:f,state:l,previousState:p,id:f.id,type:"node",label:f.label}}},renderDefaultHover:function(a){a.previousState&&a.state.hovered==a.previousState.hovered||this.lz(this.element).processDefaultHoverEffect(a.id,
a.state.hovered)},renderDefaultSelection:function(a){a.previousState&&a.state.selected==a.previousState.selected||this.lz(this.element).processDefaultSelectionEffect(a.id,a.state.selected)},renderDefaultFocus:function(a){a.previousState&&a.state.focused==a.previousState.focused||this.lz(this.element).processDefaultFocusEffect(a.id,a.state.focused)},Fg:function(a,b,d){return c.Diagram.newInstance(a,b,d)},Nj:function(a){var b=a.subId;"oj-diagram-link"==b?b="link["+a.index+"]":"oj-diagram-node"==b?b=
"node["+a.index+"]":"oj-diagram-tooltip"==b&&(b="tooltip");return b},Dh:function(a){var b={};0==a.indexOf("link")?(b.subId="oj-diagram-link",b.index=this.oi(a)):0==a.indexOf("node")?(b.subId="oj-diagram-node",b.index=this.oi(a)):"tooltip"==a&&(b.subId="oj-diagram-tooltip");return b},Jf:function(){var a=this._super();a.push("oj-diagram");return a},Oj:function(){var a=this._super();a["oj-diagram-node-label"]={path:"styleDefaults/nodeDefaults/labelStyle",property:"CSS_TEXT_PROPERTIES"};a["oj-diagram-node oj-selected"]=
{path:"styleDefaults/nodeDefaults/selectionColor",property:"border-color"};a["oj-diagram-node oj-hover"]=[{path:"styleDefaults/nodeDefaults/hoverOuterColor",property:"border-top-color"},{path:"styleDefaults/nodeDefaults/hoverInnerColor",property:"border-bottom-color"}];a["oj-diagram-link"]={path:"styleDefaults/linkDefaults/color",property:"color"};a["oj-diagram-link-label"]={path:"styleDefaults/linkDefaults/labelStyle",property:"CSS_TEXT_PROPERTIES"};a["oj-diagram-link oj-selected"]={path:"styleDefaults/linkDefaults/selectionColor",
property:"border-color"};a["oj-diagram-link oj-hover"]=[{path:"styleDefaults/linkDefaults/hoverOuterColor",property:"border-top-color"},{path:"styleDefaults/linkDefaults/hoverInnerColor",property:"border-bottom-color"}];return a},Qj:function(){return["optionChange"]},Rj:function(){var a=this.options.translations,b=this._super();b["DvtUtilBundle.DIAGRAM"]=a.componentName;return b},getNodeCount:function(){return this.ra.getAutomation().getNodeCount()},getNode:function(a){return this.ra.getAutomation().getNode(a)},
getLinkCount:function(){return this.ra.getAutomation().getLinkCount()},getLink:function(a){return this.ra.getAutomation().getLink(a)},getContextByNode:function(a){return(a=this.getSubIdByNode(a))&&"oj-diagram-tooltip"!==a.subId?a:null},Pj:function(){return{root:["nodes","links"]}}})});