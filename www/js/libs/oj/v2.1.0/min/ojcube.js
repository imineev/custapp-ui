/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(b,f){b.sb=function(a,b){this.Init();this.ua=a;this.Bi=b;this.Yu()};o_("Cube",b.sb,b);b.b.la(b.sb,b.b,"oj.Cube");b.sb.prototype.Init=function(){b.sb.p.Init.call(this)};b.sb.prototype.Oo=function(){var a=this.i3(),b=[];Array.prototype.push.apply(b,a?a.Oo():this.Ng);for(a=2;a<this.Ng.length;a++)b.push(this.Ng[a]);return b};b.b.g("Cube.prototype.getAxes",{Oo:b.sb.prototype.Oo});b.sb.prototype.sP=function(){return this.Ng};b.sb.prototype.Vo=
function(a){var b=this.i3();a=b.ssa(a);for(a=b=b.K9(a,0,[]);Array.isArray(a)&&1===a.length;)if(a=a[0],!Array.isArray(a))return a;return b};b.b.g("Cube.prototype.getValues",{Vo:b.sb.prototype.Vo});b.sb.prototype.setPage=function(a){this.yR=a instanceof Array?a:[a]};b.sb.prototype.Mca=function(a,d,c,e,f){var h=this.Bi,k=this.S1(a);if(!k)return!1;a=null;c<h.length?a=this.S1(c):(a={axis:c,levels:[]},h.push(a));c=k.levels;h=a.levels;a=d<c.length?c[d]:null;if(!a)return!1;e>=h.length?(h.push(a),c.splice(d,
1)):f===b.sb.mL.SWAP?(c[d]=h[e],h[e]=a):(f===b.sb.mL.AFTER&&e++,h.splice(e,0,a),h===c&&e<d&&d++,c.splice(d,1));this.Yu();return!0};b.b.g("Cube.prototype.pivot",{Mca:b.sb.prototype.Mca});b.sb.prototype.S1=function(a){for(var b=0;b<this.Bi.length;b++)if(this.Bi[b].axis===a)return this.Bi[b];return null};b.sb.prototype.uaa=function(){return this.Bi};b.b.g("Cube.prototype.getLayout",{uaa:b.sb.prototype.uaa});b.sb.mL={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",b.sb.mL,b);b.sb.prototype.K9=
function(a,b,c){var e=[];if(0===a.length)return b=c.slice(0),this.lt(b);var f=a.slice(1),h=a[0].start;a=a[0].count;for(c[b]=h;c[b]<h+a;c[b]++)e.push(this.K9(f,b+1,c));return e};b.sb.prototype.ssa=function(a){var b=[];if(!a)return b;for(var c=Math.min(a.length,this.Ng.length),e=0;e<c;e++){var f=a[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?b.push(this.WF(f.start,f.count,e)):b.push(this.WF(f.start,1,e)):b.push(this.WF(0,
f.count,e)):b.push(this.WF(f,1,e))}return b};b.sb.prototype.WF=function(a,b,c){c=this.Oo()[c].getExtent();if(a>=c||0>a)a=0;b=Math.min(b,c-a);return{start:a,index:a,count:b}};b.sb.prototype.lt=function(a){var d=this.Gka(a);return d&&(d=d.ds(),0<d.length&&(d=this.i[d[0].key]))?new b.rh(d.value,a,d.CI,d.rows,d.Qr):new b.rh(null,a,void 0,[])};b.sb.prototype.Iea=function(){var a=this.Una();this.yR=[];for(var b=0;b<a.length;b++)this.eo(a[b].axis,a[b].levels),this.yR.push({axis:a[b].axis,index:0});if(0===
a.length)for(a=this.sP(),b=0;b<a.length;b++)this.eo(a[b].axis,a[b].levels)};b.sb.prototype.Una=function(){for(var a=[],b=0;b<this.Bi.length;b++)1<this.Bi[b].axis&&a.push(this.Bi[b]);return a};b.sb.prototype.sP=function(){for(var a=[],b=0;b<this.Bi.length;b++)2>this.Bi[b].axis&&a.push(this.Bi[b]);return a};b.sb.prototype.Yu=function(){this.Ng=[];this.i=[];this.ZN=[];this.Iea();if(null!==this.ua)for(var a=0;a<this.ua.length;a++){for(var d=new b.Lk,c=2;c<this.Ng.length;c++)d=this.Ng[c].vX(this.ua[a],
d);for(var d=d.ds(),e=0;e<d.length;e++){var c=d[e].key,f=this.ZN[c];f||(f=this.ZN[c]=this.PK(this.sP()));for(var h=new b.Lk,k=f.Ng.length,c=0;c<k;c++)h=f.Ng[c].vX(this.ua[a],h);h=c=h.ds();if(void 0!==d[e].D$)for(h=[],k=0;k<c.length;k++)h.push(d[e]);f.Wva(c,h,this.ua[a])}}};b.sb.prototype.Wva=function(a,b,c){for(var e=0;e<a.length;e++)this.i[a[e].key]=this.Pia(b[e],this.i[a[e].key],c)};b.sb.prototype.i3=function(){return this.ZN[this.vna(this.yR)]};b.sb.prototype.vna=function(a){var d=new b.Lk;if(a&&
0<a.length){a.sort(function(a,b){return a.axis-b.axis});for(var c=this.Ng,e=0;e<a.length;e++)d=c[a[e].axis].HD(a[e].index,d)}return d.ds()[0].key};b.sb.z5=function(a){return a?void 0!==a.value&&null!==a.value:!1};b.sb.prototype.pd=function(a,b,c,e,f){c.push(e);e={};for(var h in f)f.hasOwnProperty(h)&&(e[h]=f[h]);e.value=a;e.CI=b;e.rows=c;return e};b.sb.Nf=function(a){return b.Ra.oe(a.value)?!1:!isNaN(a.value)};b.sb.prototype.Pia=function(a,d,c){var e=this.RK(a.D$),f=e.yx,h=b.sb.z5(d),k=b.sb.z5(a),
l=h&&b.sb.Nf(d),p=k&&b.sb.Nf(a);switch(f){case b.qh.SUM:return h&&k?l&&p?this.pd(d.value+a.value,f,d.rows,c,{}):this.pd(NaN,f,d.rows,c,{}):k&&!h?p?this.pd(a.value,f,[],c,{}):this.pd(NaN,f,[],c,{}):d;case b.qh.AVERAGE:return h&&k?l&&p?this.pd((d.vy+a.value)/(d.rows.length+1),f,d.rows,c,{vy:d.vy+a.value}):this.pd(NaN,f,d.rows,c,{vy:d.vy}):k&&!h?p?this.pd(a.value,f,[],c,{vy:a.value}):this.pd(NaN,f,[],c,{vy:NaN}):d;case b.qh.VARIANCE:case b.qh.STDDEV:return h&&k?l&&p?(h=d.value+(a.value-d.value)/(d.rows.length+
1),this.pd(h,f,d.rows,c,{Qr:d.Qr+(a.value-d.value)*(a.value-h)})):this.pd(NaN,f,d.rows,c,{Qr:NaN}):k&&!h?p?this.pd(a.value,f,[],c,{Qr:0}):this.pd(NaN,f,[],c,{Qr:NaN}):d;case b.qh.NONE:return this.pd(null,f,h?d.rows:[],c,{});case b.qh.FIRST:return h?this.pd(d.value,f,d.rows,c,{}):k?this.pd(a.value,f,[],c,{}):d;case b.qh.MIN:return h&&k?l&&p?this.pd(Math.min(d.value,a.value),f,d.rows,c,{}):this.pd(NaN,f,d.rows,c,{}):k&&!h?p?this.pd(a.value,f,[],c,{}):this.pd(NaN,f,[],c,{}):d;case b.qh.MAX:return h&&
k?l&&p?this.pd(Math.max(d.value,a.value),f,d.rows,c,{}):this.pd(NaN,f,d.rows,c,{}):k&&!h?p?this.pd(a.value,f,[],c,{}):this.pd(NaN,f,[],c,{}):d;case b.qh.COUNT:return h&&k?this.pd(d.value+1,f,d.rows,c,{}):k&&!h?this.pd(1,f,[],c,{}):d;case b.qh.CUSTOM:return a=e.ec.call(this,h?d.value:void 0,k?a.value:void 0),this.pd(a,f,h?d.rows:[],c,{})}};b.sb.prototype.eo=function(a,d){a>=this.Ng.length&&Array.prototype.push.apply(this.Ng,Array(a-this.Ng.length+1));this.Ng[a]||(this.Ng[a]=new b.wg(d,a,this));return this.Ng[a]};
b.sb.prototype.Gka=function(a){for(var d=this.Oo(),c=new b.Lk,e=0;e<a.length;e++)c=d[e].HD(a[e],c);return c};b.sb.prototype.nv=function(){b.l.Dc()};b.sb.prototype.PK=function(){b.l.Dc()};b.sb.prototype.QK=function(){b.l.Dc()};b.sb.prototype.RK=function(){b.l.Dc();return{}};b.qh={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",b.qh,b);b.Hc=function(a,b,c,e){this.Init();this.ye=[];this.Gt=e;this.tla=
c;this.i={};this.i.value=a;this.i.label=b};o_("CubeAxisValue",b.Hc,b);b.b.la(b.Hc,b.b,"oj.CubeAxisValue");b.Hc.prototype.Init=function(){b.Hc.p.Init.call(this)};b.Hc.prototype.fu=function(){return this.tla};b.b.g("CubeAxisValue.prototype.getLevel",{fu:b.Hc.prototype.fu});b.Hc.prototype.getDepth=function(){return 1};b.b.g("CubeAxisValue.prototype.getDepth",{getDepth:b.Hc.prototype.getDepth});b.Hc.prototype.yaa=function(){for(var a=[],b=this.Gt;b&&b.Gt;)a.unshift(b),b=b.Gt;return a};b.b.g("CubeAxisValue.prototype.getParents",
{yaa:b.Hc.prototype.yaa});b.Hc.prototype.getChildren=function(){return this.ye};b.b.g("CubeAxisValue.prototype.getChildren",{getChildren:b.Hc.prototype.getChildren});b.Hc.prototype.getExtent=function(){if(-1<this.jw)return this.jw;if(this.ye&&0!==this.ye.length)for(var a=this.jw=0;a<this.getChildren().length;a++)this.jw+=this.getChildren()[a].getExtent();else this.jw=1;return this.jw};b.b.g("CubeAxisValue.prototype.getExtent",{getExtent:b.Hc.prototype.getExtent});b.Hc.prototype.getStart=function(){if(-1<
this.rj)return this.rj;if(!this.Gt)return 0;for(var a=this.Gt.getStart(),b=this.Gt.l3(this);b;)a+=b.getExtent(),b=this.Gt.l3(b);return this.rj=a};b.b.g("CubeAxisValue.prototype.getStart",{getStart:b.Hc.prototype.getStart});b.Hc.prototype.Dd=function(){return this.i.value};b.b.g("CubeAxisValue.prototype.getValue",{Dd:b.Hc.prototype.Dd});b.Hc.prototype.uU=function(){return this.i.label?this.i.label:this.Dd()};b.b.g("CubeAxisValue.prototype.getLabel",{uU:b.Hc.prototype.uU});b.Hc.prototype.Jea=function(a){var b=
this.Uma();if(null===b)return null;if(b.Yx())return this.ena(a);if(a=a[b.attribute])for(b=0;b<this.ye.length;b++)if(this.ye[b].Dd()===a)return this.ye[b];return null};b.Hc.prototype.ena=function(a){for(var b=0;b<this.ye.length;b++){var c=this.ye[b].Dd();if(a.hasOwnProperty(c)&&a[c]===c)return this.ye[b]}return null};b.Hc.prototype.Uma=function(){return this.ye&&0<this.ye.length?this.ye[0].fu():null};b.Hc.prototype.Kea=function(a){return this.BO(a,0,this.ye.length-1)};b.Hc.prototype.BO=function(a,
b,c){if(b>c)return null;var e=Math.floor((b+c)/2),f=this.ye[e],h=f.getStart();return h>a?this.BO(a,b,e-1):h+f.getExtent()-1<a?this.BO(a,e+1,c):f};b.Hc.prototype.BK=function(a,d,c){for(var e=0;e<this.ye.length;e++)if(this.ye[e].Dd()===a)return this.ye[e];a=new b.Hc(a,d,c,this);this.ye.push(a);return a};b.Hc.prototype.Lea=function(){var a={};a[this.fu().attribute]=this.Dd();return a};b.Hc.prototype.l3=function(a){for(var b=0;b<this.ye.length;b++)if(this.ye[b]===a){if(0<b)return this.ye[b-1];break}return null};
b.wg=function(a,d,c){this.Init();this.axis=d;this.I5=[];for(d=0;d<a.length;d++)this.I5.push(c.QK(a[d],this));this.dA=c;this.$q=new b.Hc(null,null,null,null)};o_("CubeAxis",b.wg,b);b.b.la(b.wg,b.b,"oj.CubeAxis");b.wg.prototype.Init=function(){b.wg.p.Init.call(this)};b.wg.prototype.en=function(){return this.I5};b.b.g("CubeAxis.prototype.getLevels",{en:b.wg.prototype.en});b.wg.prototype.getExtent=function(){return this.$q.getExtent()};b.b.g("CubeAxis.prototype.getExtent",{getExtent:b.wg.prototype.getExtent});
b.wg.prototype.Vo=function(a){for(var b=[],c=this.$q;c;)(c=c.Kea(a))&&b.push(c);return b};b.b.g("CubeAxis.prototype.getValues",{Vo:b.wg.prototype.Vo});b.wg.prototype.tk=function(a){a=a?JSON.parse(a):{};for(var b=this.$q,c=null;b;)c=b,b=b.Jea(a);return c?c.getStart():-1};b.b.g("CubeAxis.prototype.getIndex",{tk:b.wg.prototype.tk});b.wg.prototype.HD=function(a,b){return this.cX(a,this.en().length-1,b)};b.wg.prototype.cX=function(a,b,c){a=this.Vo(a);b=this.en()[b];for(var e=0;e<a.length;e++){var f=a[e];
f.fu().Yx()?c.AK(f.Dd()):c.yL(f);if(f.fu()===b)break}return c};b.wg.prototype.vX=function(a,b){return this.dA.nv(this,0,this.$q,a,b,!0)};b.rh=function(a,b,c,e,f){this.Init();this.i={};this.i.value=a;this.i.uAa=b;this.i.CI=c;this.i.rows=e;this.i.Qr=f};o_("CubeDataValue",b.rh,b);b.b.la(b.rh,b.b,"oj.CubeDataValue");b.rh.prototype.Init=function(){b.rh.p.Init.call(this)};b.rh.prototype.Dd=function(){switch(this.i.CI){case b.qh.STDDEV:return Math.sqrt(this.O3());case b.qh.VARIANCE:return this.O3();default:return this.i.value}};
b.b.g("CubeDataValue.prototype.getValue",{Dd:b.rh.prototype.Dd});b.rh.prototype.saa=function(){return this.i.uAa};b.b.g("CubeDataValue.prototype.getIndices",{saa:b.rh.prototype.saa});b.rh.prototype.Eaa=function(){return this.i.rows};b.b.g("CubeDataValue.prototype.getRows",{Eaa:b.rh.prototype.Eaa});b.rh.prototype.W$=function(){return this.i.CI};b.b.g("CubeDataValue.prototype.getAggregation",{W$:b.rh.prototype.W$});b.rh.prototype.O3=function(){if(isNaN(this.i.Qr))return NaN;var a=this.i.rows.length;
return 1<a?this.i.Qr/(a-1):0};b.Kk=function(a,d){var c=d.row?d.row.start:0,e=d.row?d.row.count:0,f=d.column?d.column.start:0,h=d.column?d.column.count:0;b.l.Go(c,null);b.l.Go(e,null);b.l.Go(f,null);b.l.Go(h,null);this.dA=a;this.ES={row:c,column:f};this.$q=this.dA.Vo([{start:f,count:h},{start:c,count:e}]);h=this.$q.length;0<h&&(e=this.$q[0].length);this.Bka={row:e,column:h}};o_("CubeCellSet",b.Kk,b);b.Kk.prototype.getData=function(a){return(a=this.$q[a.column-this.ES.column][a.row-this.ES.row])?a.Dd():
null};b.b.g("CubeCellSet.prototype.getData",{getData:b.Kk.prototype.getData});b.Kk.prototype.getMetadata=function(a){var b={keys:{}};b.keys.row=this.k2(a,"row",2);b.keys.column=this.k2(a,"column",1);return b};b.b.g("CubeCellSet.prototype.getMetadata",{getMetadata:b.Kk.prototype.getMetadata});b.Kk.prototype.k2=function(a,d,c){var e=this.dA.Oo();return void 0!==a[d]&&e.length>=c?(c=new b.Lk,c=e[b.kc.D0(d)].HD(a[d],c),c.ds()[0].key):null};b.Kk.prototype.getStart=function(a){return this.ES[a]};b.b.g("CubeCellSet.prototype.getStart",
{getStart:b.Kk.prototype.getStart});b.Kk.prototype.getCount=function(a){return this.Bka[a]};b.b.g("CubeCellSet.prototype.getCount",{getCount:b.Kk.prototype.getCount});b.uh=function(a,d,c){this.Init();this.qq=c;this.eN();b.uh.p.constructor.call(this,a,d)};o_("DataValueAttributeCube",b.uh,b);b.b.la(b.uh,b.sb,"oj.DataValueAttributeCube");b.uh.prototype.ua=null;b.uh.prototype.Init=function(){b.uh.p.Init.call(this)};b.uh.prototype.Yu=function(){b.uh.p.Yu.call(this)};b.uh.prototype.RK=function(a){return this.dw[a]};
b.uh.prototype.QK=function(a,d){return a.dataValue?new b.ii(null,d,!0):new b.ii(a.attribute,d,!1)};b.uh.prototype.PK=function(a){return new b.uh(null,a,this.qq)};b.uh.prototype.nv=function(a,b,c,e,f,h){if(b>=a.en().length)return f;var k=a.en()[b];if(k.Yx())return this.Wsa(a,c,e,b,f);c=c.BK(e[k.attribute],null,k);h&&f.yL(c);return this.nv(a,b+1,c,e,f,h)};b.uh.prototype.Wsa=function(a,b,c,e,f){for(var h=!0,k=0;k<this.qq.length;k++){var l=this.qq[k].attribute,p=this.qq[k].label;c.hasOwnProperty(l)&&
(p=b.BK(l,p,a.en()[e]),f.AK(l,c[l]),this.nv(a,e+1,p,c,f,h),h=!1)}return f};b.uh.prototype.eN=function(){this.dw=[];for(var a=0;a<this.qq.length;a++){var d=this.qq[a];this.dw[d.attribute]=d.aggregation?{yx:d.aggregation,ec:d.callback}:{yx:b.qh.SUM,ec:d.callback}}};b.Lk=function(){this.cR=[];this.i=[]};b.Lk.prototype.yL=function(a){this.cR.push(a)};b.Lk.prototype.AK=function(a,b){this.i.push({name:a,value:b})};b.Lk.prototype.ds=function(){var a=[],b=this.vja();if(0===this.i.length)a.push({key:JSON.stringify(b)});
else for(var c=0;c<this.i.length;c++){var e=f.extend(!0,{},b);e[this.i[c].name]=this.i[c].name;a.push({key:JSON.stringify(e),D$:this.i[c].name,value:this.i[c].value})}return a};b.Lk.prototype.vja=function(){for(var a={},b=0;b<this.cR.length;b++){var c=this.cR[b].Lea(),e;for(e in c)c.hasOwnProperty(e)&&(a[e]=c[e])}return a};b.$f=function(a,b,c,e){this.dA=b;this.Nz=a;this.rj=void 0===c?0:c;this.Aka=void 0===e?this.Nz.getExtent():Math.min(e,this.Nz.getExtent()-c);this.G1=c+e-1};o_("CubeHeaderSet",b.$f,
b);b.$f.prototype.getData=function(a,b){var c=this.lt(a,b);return c?c.uU():null};b.b.g("CubeHeaderSet.prototype.getData",{getData:b.$f.prototype.getData});b.$f.prototype.getMetadata=function(a,d){var c=new b.Lk,c=this.Nz.cX(a,d,c);return(c=c.ds())&&0<c.length?{key:c[0].key}:null};b.b.g("CubeHeaderSet.prototype.getMetadata",{getMetadata:b.$f.prototype.getMetadata});b.$f.prototype.getLevelCount=function(){return this.Nz.en().length};b.b.g("CubeHeaderSet.prototype.getLevelCount",{getLevelCount:b.$f.prototype.getLevelCount});
b.$f.prototype.getExtent=function(a,b){var c=this.lt(a,b),e=c.getExtent(),c=c.getStart(),f=c+e-1,h=a<c+e-1;c<this.rj&&(e-=this.rj-c);f>this.G1&&(e-=f-this.G1);return{extent:e,more:{before:a>c,after:h}}};b.b.g("CubeHeaderSet.prototype.getExtent",{getExtent:b.$f.prototype.getExtent});b.$f.prototype.getDepth=function(a,b){return this.lt(a,b).getDepth()};b.b.g("CubeHeaderSet.prototype.getDepth",{getDepth:b.$f.prototype.getDepth});b.$f.prototype.getCount=function(){return this.Aka};b.b.g("CubeHeaderSet.prototype.getCount",
{getCount:b.$f.prototype.getCount});b.$f.prototype.getStart=function(){return this.rj};b.b.g("CubeHeaderSet.prototype.getStart",{getStart:b.$f.prototype.getStart});b.$f.prototype.lt=function(a,b){void 0===b&&(b=0);var c=this.Nz.Vo(a);return c&&c.length>b?c[b]:null};b.kc=function(a){b.kc.p.constructor.call(this,a)};o_("CubeDataGridDataSource",b.kc,b);b.b.la(b.kc,b.Dp,"oj.CubeDataGridDataSource");b.kc.prototype.vda=function(a){this.data=a;this.a2()};b.b.g("CubeDataGridDataSource.prototype.setCube",
{vda:b.kc.prototype.vda});b.kc.prototype.setPage=function(a){this.data.setPage(a);this.a2()};b.b.g("CubeDataGridDataSource.prototype.setPage",{setPage:b.kc.prototype.setPage});b.kc.prototype.a2=function(){this.handleEvent("change",{source:this,operation:"refresh"})};b.kc.prototype.getCount=function(a){return(a=this.eo(a))?a.getExtent():0};b.b.g("CubeDataGridDataSource.prototype.getCount",{getCount:b.kc.prototype.getCount});b.kc.prototype.getCountPrecision=function(){return"exact"};b.b.g("CubeDataGridDataSource.prototype.getCountPrecision",
{getCountPrecision:b.kc.prototype.getCountPrecision});b.kc.prototype.fetchHeaders=function(a,d,c){var e=new b.$f(this.eo(a.axis),this.data,a.start,a.count);d.success.call(c?c.success:void 0,e,a)};b.b.g("CubeDataGridDataSource.prototype.fetchHeaders",{fetchHeaders:b.kc.prototype.fetchHeaders});b.kc.prototype.fetchCells=function(a,d,c){for(var e={},f=0;f<a.length;f++){var h=void 0===a[f].start?0:a[f].start;if("row"===a[f].axis){var k=void 0===a[f].count?this.data.Oo()[1].getExtent():a[f].count;e.row=
{start:h,count:k}}"column"===a[f].axis&&(k=void 0===a[f].count?this.data.Oo()[0].getExtent():a[f].count,e.column={start:h,count:k})}e=new b.Kk(this.data,e);d.success.call(c?c.success:void 0,e,a)};b.b.g("CubeDataGridDataSource.prototype.fetchCells",{fetchCells:b.kc.prototype.fetchCells});b.kc.prototype.keys=function(a){var b={},b=this.Ab(a,"row",b),b=this.Ab(a,"column",b);return Promise.resolve(b)};b.b.g("CubeDataGridDataSource.prototype.keys",{keys:b.kc.prototype.keys});b.kc.prototype.Ab=function(a,
d,c){var e=this.eo(d);a=a[d];var f=new b.Lk,f=e?e.HD(a,f):"";c[d]=f.ds()[0].key;return c};b.kc.prototype.indexes=function(a){var b={},b=this.xi(a,"row",b),b=this.xi(a,"column",b);return Promise.resolve(b)};b.b.g("CubeDataGridDataSource.prototype.indexes",{indexes:b.kc.prototype.indexes});b.kc.prototype.xi=function(a,b,c){c[b]=this.eo(b).tk(a[b]);return c};b.kc.prototype.sort=function(){b.l.Dc()};b.b.g("CubeDataGridDataSource.prototype.sort",{sort:b.kc.prototype.sort});b.kc.prototype.move=function(){b.l.Dc()};
b.b.g("CubeDataGridDataSource.prototype.move",{move:b.kc.prototype.move});b.kc.prototype.moveOK=function(){return"invalid"};b.b.g("CubeDataGridDataSource.prototype.moveOK",{moveOK:b.kc.prototype.moveOK});b.kc.prototype.getCapability=function(a){switch(a){case "sort":return"none";case "move":return"none"}return null};b.b.g("CubeDataGridDataSource.prototype.getCapability",{getCapability:b.kc.prototype.getCapability});b.kc.D0=function(a){return"row"===a?1:0};b.kc.prototype.eo=function(a){a=b.kc.D0(a);
var d=this.data.Oo();return d.length>a?d[a]:null};b.sh=function(a,d,c){this.Init();this.qq=c;this.Ywa=c.valueAttr;this.wra=c.labelAttr;var e=c.defaultAggregation;this.b1=e?b.sh.gna(e):{yx:b.qh.SUM};this.UM=c.aggregation;this.eN();b.sh.p.constructor.call(this,a,d)};o_("DataColumnCube",b.sh,b);b.b.la(b.sh,b.sb,"oj.DataColumnCube");b.sh.prototype.Init=function(){b.sh.p.Init.call(this)};b.sh.prototype.Yu=function(){b.sh.p.Yu.call(this)};b.sh.prototype.RK=function(a){return this.dw[a]?this.dw[a]:this.b1};
b.sh.prototype.PK=function(a){return new b.sh(null,a,this.qq)};b.sh.prototype.QK=function(a,d){return a.attribute===this.wra?new b.ii(a.attribute,d,!0):new b.ii(a.attribute,d,!1)};b.sh.prototype.nv=function(a,b,c,e,f,h){if(b>=a.en().length)return f;var k=a.en()[b],l=e[k.attribute];c=c.BK(l,null,k);k.Yx()?f.AK(l,e[this.Ywa]):f.yL(c);return this.nv(a,b+1,c,e,f,h)};b.sh.gna=function(a){return b.Ra.oe(a)?{yx:a}:{yx:a.aggregation,ec:a.callback}};b.sh.prototype.eN=function(){this.dw=[];if(this.UM)for(var a=
0;a<this.UM.length;a++){var b=this.UM[a],c=b.aggregation;this.dw[b.value]=c?{yx:c,ec:b.callback}:this.b1}};b.ii=function(a,b,c){this.Init();this.attribute=a;this.F_=b;this.axis=b.axis;this.a1=c};o_("CubeLevel",b.ii,b);b.b.la(b.ii,b.b,"oj.CubeLevel");b.ii.prototype.Init=function(){b.ii.p.Init.call(this)};b.ii.prototype.Dd=function(a){if(a=this.F_.Vo(a))for(var b=0;b<a.length;b++)if(a[b].fu()===this)return a[b];return null};b.b.g("CubeLevel.prototype.getValue",{Dd:b.ii.prototype.Dd});b.ii.prototype.Yx=
function(){return this.a1};b.b.g("CubeLevel.prototype.isDataValue",{Yx:b.ii.prototype.Yx});b.ii.prototype.a1=!1;b.ii.prototype.F_=null});