/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var l=void 0,n=!0,s=null,t=!1;function aa(){return function(a){return a}}function y(){return function(){}}function z(a){return function(b){this[a]=b}}function D(a){return function(){return this[a]}}function F(a){return function(){return a}}var J;function ba(a,b){0==a.indexOf("dvt.")&&(a=a.substring(4));var c=a.split("."),d=eval("dvt");!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==l?d[e]=b:d=d[e]?d[e]:d[e]={}}Math.floor(2147483648*Math.random()).toString(36);
(function(){function a(a,b,c,d,e,f){this.Init(a,b,c,d,e,f)}function b(a,b){this.Init(a,b)}function c(a){this.Init(a.g(),a.If,a);this.Kc=a}function d(){this.Init({skyros:d.uE,alta:d.Hh,next:d.oE})}function e(a){this.Kc=a;this.eg=this.Kc.v()}dvt.pf=y();dvt.j.u(dvt.pf,dvt.af);dvt.pf.newInstance=function(a,b,c){var d=new dvt.pf;d.Init(a,b,c);return d};dvt.pf.Vp=function(a){return(new d).Vp(a)};dvt.pf.prototype.Init=function(a,b,e){dvt.pf.q.Init.call(this,a,b,e);this.setId("legend1000"+Math.floor(1E9*
Math.random()));this.Dh=new d;this.Ra=new c(this);this.Ra.Bg(this);this.Tu=[];this.tw=[];this.ue=s;this.gma=[]};dvt.pf.prototype.Nf=function(a){a?(this.T=this.Dh.cn(a),this.sGa(this.T.sections)):this.T||(this.T=this.UD())};dvt.pf.prototype.Yr=function(a,b,c){this.Nf(a);this.v().isLayout=n;a=f.ua(this,new dvt.U(0,0,b,c));this.v().isLayout=t;return new dvt.$j(a.a,a.b)};dvt.pf.prototype.ua=function(a,c,d){this.Nf(a);!isNaN(c)&&!isNaN(d)&&(this.yb=c,this.Lb=d);this.v().isLayout=t;this.Dm();this.Tu=[];
this.tw=[];this.ue=s;this.gma=[];dvt.o.Ta()||this.Ra.ns(new b(this.Ra,this));this.nr();this.Aga=f.ua(this,new dvt.U(0,0,this.yb,this.Lb));(a=this.v().highlightedCategories)&&0<a.length&&this.Me(a);return this.Aga};dvt.pf.prototype.Me=function(a){this.v().highlightedCategories=a&&0<a.length?a.slice():s;dvt.Sg.Me(a,this.Tu,n)};dvt.pf.prototype.If=function(a,b){var c=a.type;if("categoryHighlight"==c&&"dim"==this.v().hoverBehavior){var d=this.Tu;this!=b&&this.Me(a.categories);for(var e=0;e<d.length;e++)if(d[e].getId()==
a.categories){this.fHa.scrollIntoView(d[e].Ue()[0]);break}}(this==b||"adfShowPopup"==c||"adfHidePopup"==c)&&this.dispatchEvent(a)};dvt.pf.prototype.Ua=D("Ra");dvt.pf.prototype.mfa=function(a){if(a.Ue()[0]instanceof dvt.aa)this.tw.push(a);else{var b=this.v().hideAndShowBehavior;(a.Pg()!=s||a.Cg()!=s||a.Gj()||"none"!=b&&"off"!=b)&&this.tw.push(a);this.Tu.push(a)}};dvt.pf.prototype.ra=function(){this.Ra&&(this.Ra.$k(this),this.Ra.ra(),this.Ra=s);dvt.pf.q.ra.call(this)};dvt.pf.prototype.nfa=z("ue");dvt.pf.prototype.FVa=
function(a){this.gma.push(a)};dvt.pf.prototype.ni=function(){return new e(this)};dvt.pf.prototype.FJ=function(){return this.Ra!=s?this.Ra.Ye():s};dvt.pf.prototype.vaa=function(a,b){if(this.Ra!=s){for(var c=this.tw,d=0;d<c.length;d++)if(c[d].getId()==a.getId()){this.Ra.ms(c[d]);b&&c[d].Rf();break}if(c=this.FJ())d=c.Ue()[0],d.zd("label",c.Gd()),this.g().JG(d)}};dvt.pf.prototype.V=function(a){var b=new dvt.U(0,0,this.yb,this.Lb);return!a||a===this?b:this.Ii(b,a)};dvt.pf.prototype.IA=function(a){return!a||
a===this?this.Aga:this.Ii(this.Aga,a)};dvt.pf.prototype.Km=function(){return dvt.D.na(dvt.D.Ka,"LEGEND")};dvt.pf.prototype.sGa=function(a){if(a&&!(0>=a.length))for(var b=this.v().hiddenCategories,c=0;c<a.length;c++){var d=a[c];d.sections&&(b=this.sGa(d.sections));if((d=d.items)&&!(0>=d.length))for(var e=0;e<d.length;e++){var r=d[e],u=f.x9(r);"hidden"==r.categoryVisibility&&0>dvt.ea.jb(b,u)&&b.push(u);r.categoryVisibility=s}}};dvt.pf.prototype.nr=function(){if(this.q2()){var a=this.v(),b=a.hideAndShowBehavior;
if("off"!=b&&"none"!=b||"dim"==a.hoverBehavior)this.g().Pf("application"),this.g().D0(dvt.D.na(dvt.D.Ka,"COLON_SEP_LIST",[dvt.D.na(dvt.D.Ka,"DATA_VISUALIZATION"),dvt.Ld.FG(this.Km())]))}};dvt.pf.prototype.xG=function(){return 0<this.tw.length};dvt.j.u(e,dvt.Ud);e.prototype.Ho=function(b){if((b=this.Kc.Ua().bb(b))&&b instanceof a)if(b=b.getData(),b=this.XAa(b,this.eg))return"section"+b;return s};e.prototype.XAa=function(a,b){if(b.sections&&0<b.sections.length){for(var c=0;c<b.sections.length;c++){if(b.sections[c]==
a)return"["+c+"]";var d=this.XAa(a,b.sections[c]);if(d)return"["+c+"]"+d}return s}if(b.items&&0<b.items.length){for(c=0;c<b.items.length;c++)if(b.items[c]==a)return":item["+c+"]";return s}};e.prototype.FIa=function(a,b){if(b.sections&&0<b.sections.length){for(var c=0;c<b.sections.length;c++){var d=this.FIa(a,b.sections[c]);if(d)return"["+c+"]"+d}return s}if(b.items&&0<b.items.length){for(c=0;c<b.items.length;c++)if(b.items[c].text==a.name)return":item["+c+"]";return s}};e.prototype.Pna=function(a,
b){var c=b.indexOf("["),d=b.indexOf("]");if(0<=c&&0<=d){var c=b.substring(c+1,d),e=b.indexOf(":");b=b.substring(d+1);d=b.indexOf("]");return 0<=b.indexOf("[")&&0<=d?this.Pna(a.sections[c],b):0==e?a.items[c]:a.sections[c]}};e.prototype.pi=function(a){if(a==dvt.Ud.OB)return this.XD(this.Kc);a=this.Pna(this.eg,a);for(var b=this.Kc.Tu,c=0;c<b.length;c++){var d=b[c].getData();if(a==d)return b[c].Ue()[0].hb()}return s};e.prototype.VA=function(){return this.eg.title};e.prototype.getItem=function(a){for(var b,
c=a.shift(),d=this.eg;c!=l;)0<a.length?d=d.sections[c]:b=d.items[c],c=a.shift();return b?{text:b.text?b.text:s}:s};e.prototype.P8a=function(a){for(var b,c=a.shift(),d=this.eg;c!=l;)0<a.length?d=d.sections[c]:b=d.sections[c],c=a.shift();return{title:b.title?b.title:s,items:b.items?this.AAa(b.items):s,sections:b.sections?this.DAa(b.sections):s}};e.prototype.AAa=function(a){for(var b=[],c=0;c<a.length;c++)b.push({text:a[c].text});return b};e.prototype.DAa=function(a){for(var b=[],c=0;c<a.length;c++)b.push({title:a[c].title?
a[c].title:s,items:a[c].items?this.AAa(a[c].items):s,sections:a[c].sections?this.DAa(a[c].sections):s});return b};dvt.j.u(d,dvt.fm);d.oE={skin:dvt.e.oE,titleStyle:new dvt.e("color: #737373;"),_sectionTitleStyle:new dvt.e("color: #737373;"),layout:{titleGapWidth:17,titleGapHeight:9,symbolGapWidth:7,symbolGapHeight:4,rowGap:4,columnGap:10,sectionGapHeight:16,sectionGapWidth:24}};d.Hh={skin:dvt.e.Hh,textStyle:new dvt.e("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"),titleStyle:new dvt.e("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 11px; color: #333333;"),
_sectionTitleStyle:new dvt.e("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 11px; color: #333333;")};d.uE={skin:dvt.e.$f,orientation:"vertical",position:s,backgroundColor:s,borderColor:s,textStyle:new dvt.e("font-family: tahoma, sans-serif; font-size: 11px; color: #333333;"),titleStyle:new dvt.e("font-family: tahoma, sans-serif; font-size: 12px; color: #003d5b;"),titleHalign:"start",hiddenCategories:[],hideAndShowBehavior:"off",hoverBehavior:"none",hoverBehaviorDelay:200,
scrolling:"asNeeded",halign:"start",valign:"top",drilling:"off",_color:"#a6acb1",_markerShape:"square",_lineWidth:3,layout:{outerGapWidth:3,outerGapHeight:3,titleGapWidth:8,titleGapHeight:3,symbolGapWidth:5,symbolGapHeight:4,rowGap:0,columnGap:8,sectionGapHeight:6,sectionGapWidth:15},isLayout:t};d.xh=function(a,b){var c=Math.min(dvt.Aa.Ty(a.g(),a.v().textStyle)/14,1);return Math.ceil(b*c)};dvt.j.u(c,dvt.K);c.prototype.oj=function(a){c.q.oj.call(this,a);var b=this.bb(a.target);if(b){var d=this.Npa(b),
b=this.Eoa(b,a);(d||b)&&a.stopPropagation()}};c.prototype.Bx=function(a){c.q.Bx.call(this,a);if(a=this.bb(a.target)){var b=a instanceof dvt.gi?a.Gq:s;b&&(b.isCollapsible&&b.button)&&b.button.XZ();this.PB(a)}};c.prototype.Xn=function(a){c.q.Xn.call(this,a);if(a=this.bb(a.target))(a=a instanceof dvt.gi?a.Gq:s)&&(a.isCollapsible&&a.button)&&a.button.iD()};c.prototype.Hv=function(a){var b=this.bb(a.target);if(b){a=a.Aqa;var c=this.Npa(b),b=this.Eoa(b,event);(c||b)&&a&&a.preventDefault()}};c.prototype.Npa=
function(a){var b=this.Kc.v().hideAndShowBehavior;if("none"==b||"off"==b)return t;var c=a.ze?a.ze():s;if(!c||0>=c.length)return t;for(var d=a.ze()[0],b=this.Kc.v().hiddenCategories||[],b=b.slice(),e=a.Ue(),r=0;r<e.length;r++){var u=e[r];u instanceof dvt.va?u.QO(a.xc()):u instanceof dvt.ka&&a.Dqa()}a=c[0];f.s$(d,this.Kc)?(b.splice(dvt.ea.jb(b,d),1),a=dvt.Wa.$$a(a,b)):(b.push(d),a=dvt.Wa.Z$a(a,b));this.Kc.v().hiddenCategories=b;this.Ck(a,this.Kc);return n};c.prototype.Eoa=function(b,c){if(b&&b.Cg&&
b.Cg())return this.Ck(dvt.Wa.DG("action",b.Cg(),b.getId()),this.Kc),n;if(b instanceof a&&b.Gj()){var d=b.getId();this.Ck(dvt.Wa.M$(d,d,s),this.Kc);return n}return(d=b instanceof dvt.gi?b.Gq:s)&&d.isCollapsible?(this.WLa(c,d.id),n):t};c.prototype.yp=function(a,b,c){a=this.Kc.v();"none"==a.hoverBehavior||b.Ue&&b.Ue()[0]instanceof dvt.aa||(b=b.ze?b.ze():[],a.highlightedCategories=c?b.slice():s,c=dvt.Wa.EG(a.highlightedCategories,c),a=dvt.Qa.cs(a.hoverBehaviorDelay),this.wH.If(c,this.Kc.Tu,a,n))};c.prototype.spa=
function(a,b){var c=b.getId();this.WLa(a,c)};c.prototype.WLa=function(a,b){for(var c=this.Kc.v(),d=0;d<b.length;d++)c=c.sections[b[d]];c.expanded="off"==c.expanded?"on":"off";a.type==dvt.pa.He&&(c=this.bb(this.Zd(a)),c.pe&&this.ms(c.pe(a)));d=(c=this.Kc.FJ())?c.Od():t;this.Kc.ua();c&&this.Kc.vaa(c,d);this.he();c=this.Kc.IA();this.Ck(new dvt.Pm(c.a,c.b,c.x,c.y),this.Kc)};c.prototype.sz=function(){return this.Kc.v()._isScrollingLegend?dvt.K.rE:dvt.K.Hx};dvt.j.u(b,dvt.Ab);b.prototype.Init=function(a,
c){b.q.Init.call(this,a);this.Kc=c};b.prototype.yk=function(a){var c=a.keyCode,d=this.Ra.Ye(),e=d&&d.Ue()[0]instanceof dvt.aa,f=s;d==s&&c==dvt.G.Sh?(c=this.Kc.tw,0<c.length&&(dvt.K.oc(a),f=this.AJ(c))):d&&(c==dvt.G.Sh?(dvt.K.oc(a),f=d):c==dvt.G.vi||c==dvt.G.wi?(c==dvt.G.vi&&this.Ra.Eoa(d,a),e?this.Ra.spa(a,d.Ue()[0]):this.Ra.Npa(d),dvt.K.oc(a)):e&&(c==dvt.G.kg||c==dvt.G.mg)?(this.Ra.spa(a,d.Ue()[0]),dvt.K.oc(a)):f=b.q.yk.call(this,a));f&&this.Kc.fHa.scrollIntoView(f.Ue()[0]);return f};dvt.j.u(a,dvt.j);
a.prototype.Init=function(a,b,c,d,e,r){this.Kc=a;this.ng=b;this.jo=c;this.mc=(this.OL=f.x9(this.jo))?this.OL:c.title;this.rq=c.action;this.cw=r;this.x3a=c._spb;this.Zl=d;this.aha=e;this.$c=t;if(this.rq||this.cw)for(a=0;a<this.ng.length;a++)this.ng[a].setCursor("pointer")};a.qb=function(b,c,d,e,f,r){if(!b||!d)return s;d=new a(c,b,d,e,f,r);c.mfa(d);for(e=0;e<b.length;e++)c.Ua().qb(b[e],d);return d};a.prototype.getData=D("jo");a.prototype.xc=function(){return this.jo.color};a.prototype.getId=D("mc");
a.prototype.Ue=D("ng");a.prototype.ze=function(){return this.OL!=s?[this.OL]:s};a.prototype.Cg=D("rq");a.prototype.Gj=D("cw");a.prototype.nf=D("x3a");a.prototype.Gd=function(){var a=[],b=this.Kc.v(),c=this.Kc.v().hideAndShowBehavior,d=f.s$(this.OL,this.Kc),e=this.getData();if(this.ng[0]instanceof dvt.aa)return a.push(dvt.D.na(dvt.D.Ka,"off"==e.expanded?"STATE_COLLAPSED":"STATE_EXPANDED")),dvt.ja.sk(e.title,a);"off"!=c&&"none"!=c&&a.push(dvt.D.na(dvt.D.Ka,d?"STATE_HIDDEN":"STATE_VISIBLE"));this.Gj()&&
a.push(dvt.D.bh(b,"stateDrillable",dvt.D.Ka,"STATE_DRILLABLE"));return e.shortDesc!=s?dvt.ja.sk(e.shortDesc,a):0<a.length?dvt.ja.sk(e.text,a):s};a.prototype.Dqa=function(){!dvt.o.Fi()&&this.ng[0]&&this.ng[0].zd("label",this.Gd())};a.prototype.pe=function(a){return a.type==dvt.pa.He?this:dvt.Ab.pe(this,a,this.Kc.tw,n)};a.prototype.Dg=function(a){return this.ng[0]?this.ng[0].V(a):new dvt.U(0,0,0,0)};a.prototype.Bm=function(){return this.ng[0]?this.ng[0].hb():s};a.prototype.Rf=function(){this.$c=n;this.ng[0]&&
(this.ng[0]instanceof dvt.aa?this.ng[0].XZ():this.ng[0].Kb(dvt.o.Ena()))};a.prototype.Md=function(){this.$c=t;this.ng[0]&&(this.ng[0]instanceof dvt.aa?this.ng[0].iD():this.ng[0].xa(s))};a.prototype.Od=D("$c");a.prototype.Zh=D("Zl");a.prototype.Pg=D("aha");a.prototype.cm=function(){return this.jo.color};var f={};dvt.j.u(f,dvt.j);f.Pea=2;f.hxa=0.6;f.Owa=10;f.Gk=12;f.kW=2;f.ua=function(a,b){var c=a.v(),e=a.g(),q=dvt.o.$(e);c.isLayout||f.wy(a,b);var r=new dvt.kh(e,b.a,b.b),u=new dvt.ca(e);r.ya.k(u);a.k(r);
a.fHa=r;var v=d.xh(a,c.layout.outerGapWidth),w=d.xh(a,c.layout.outerGapHeight);b.x+=v;b.y+=w;b.a-=2*v;b.b-=2*w;a.nfa(b);if(0>=b.a||0>=b.b)return new dvt.$j(0,0);e=f.g2a(a,u,new dvt.U(b.x,b.y,b.a,b.b));if(0==e.a||0==e.b)return new dvt.$j(0,0);r.z0();e.b>b.b?(e.b=b.b,c._isScrollingLegend=n):c._isScrollingLegend=t;var x=r=0,B=c.hAlign!=s?c.hAlign:c.halign;"center"==B?r=b.x-e.x+(b.a-e.a)/2:"end"==B&&(r=q?b.x-e.x:b.x-e.x+b.a-e.a);q=c.vAlign!=s?c.vAlign:c.valign;"middle"==q?x=b.y-e.y+(b.b-e.b)/2:"bottom"==
q&&(x=b.y-e.y+b.b-e.b);q=new dvt.U(e.x+r-v,e.y+x-w,e.a+2*v,e.b+2*w);if(c.isLayout)return q;(r||x)&&u.Fa(r,x);c=a.gma;for(u=0;u<c.length;u++)dvt.jq.align(e,c[u].C9a,c[u].text,c[u].text.Oc().a);return q};f.g2a=function(a,b,c){var e=a.v();c=c.Ca();var q=f.pN(a,b,e.title,c,s,n);if(q){var r=q.Oc(),u=d.xh(a,e.layout.titleGapHeight);c.y+=r.b+u;c.b-=Math.floor(r.b+u)}a=f.jFa(a,b,e.sections,c,[]);return q?r.Fj(a):a};f.wy=function(a,b){var c=a.v(),d=c.backgroundColor,c=c.borderColor;if(d||c){var e=new dvt.ka(a.g(),
b.x,b.y,b.a,b.b);d?e.eb(d):e.gc();c&&(e.Kb(c),e.Ad());a.k(e)}};f.pN=function(a,b,c,d,e,f,u,v){var w=a.v(),x=b.g(),B=dvt.o.$(x);if(!c)return s;c=new dvt.ba(x,c,d.x,d.y);x=w.titleStyle;e&&e.titleStyle?x=new dvt.e(e.titleStyle):e&&w._sectionTitleStyle&&(x=w._sectionTitleStyle);c.zb(x);return dvt.Aa.pd(c,d.a,Infinity,b)?(B&&c.Ia(d.x+d.a-c.Oc().a),w.isLayout?b.removeChild(c):(b={id:u,button:v},b.isCollapsible=e&&("on"==e.collapsible||e.collapsible==n),a.Ua().qb(c,new dvt.gi(c.ds(),s,s,b)),f&&a.FVa({text:c,
C9a:e&&e.titleHalign?e.titleHalign:w.titleHalign})),c):s};f.jFa=function(a,b,c,e,q){var r=a.v();r.symbolWidth==s&&r.symbolHeight==s?(r.symbolWidth=f.Owa,r.symbolHeight=f.Owa):(r.symbolWidth==s?r.symbolWidth=r.symbolHeight:r.symbolHeight==s&&(r.symbolHeight=r.symbolWidth),r.symbolWidth=parseInt(r.symbolWidth),r.symbolHeight=parseInt(r.symbolHeight));for(var u=d.xh(a,r.layout.sectionGapHeight),v=d.xh(a,r.layout.titleGapHeight),w=d.xh(a,r.layout.sectionGapWidth),x=f.SZa(a),r="vertical"!=r.orientation,
B=s,A=e.Ca(),C,E=0;E<c.length;E++){var H=q.concat([E]),G="off"==c[E].expanded||c[E].expanded==t?v:u;r?(C=f.bFa(a,b,c[E],A,x),C.a>A.a?(A.a<e.a&&(e.y+=C.b+G,e.b-=C.b+G),C=C.a<=e.a?f.bFa(a,b,c[E],e,x):f.mFa(a,b,c[E],e,x,H,n),e.y+=C.b+G,e.b-=C.b+G,A=e.Ca()):(A.a-=C.a+w,dvt.o.$(a.g())||(A.x+=C.a+w))):(C=f.mFa(a,b,c[E],e,x,H,t),e.y+=C.b+G,e.b-=C.b+G);B=B?B.Fj(C):C}return B};f.KXa=function(b,c,d,e,q,r,u,v,w,x,B){var A=f.Iga(b,e,q+"Enabled",r,u),C=f.Iga(b,e,q+"Over",r,u);e=f.Iga(b,e,q+"Down",r,u);b=new dvt.aa(b,
A,C,e,s,w,x,B);c=a.qb([b],c,d,v,s,t);b.Pf("button");c.Dqa();return b};f.Iga=function(a,b,c,d,e){var r=dvt.o.$(a)?"RTL":"";a=new dvt.vb(a,b[c+r]?b[c+r]:b[c],d,e,f.Gk,f.Gk);a.gc();return a};f.mFa=function(a,b,c,e,q,r,u){if(c){var v=a.v(),w=d.xh(a,v.layout.symbolGapWidth),x=d.xh(a,v.layout.rowGap),B=d.xh(a,v.layout.columnGap),A=a.g(),C=dvt.o.$(A);e=e.Ca();"off"!=v.scrolling&&(e.b=Infinity);var E,H="on"==c.collapsible||c.collapsible==n,G;if(H){E=C?e.x+e.a-f.Gk:e.x;if(!v.isLayout){var K="off"==c.expanded||
c.expanded==t;G=K?"closed":"open";var K=dvt.D.na(dvt.D.Ka,K?"EXPAND":"COLLAPSE",s),I=a.Ua();G=f.KXa(A,a,c,v._resources,G,E,e.y,K,r,I.spa,I);b.k(G)}E=new dvt.U(E,e.y,f.Gk,f.Gk);A=d.xh(a,v.layout.symbolGapWidth);C||(e.x+=f.Gk+A);e.a-=f.Gk+A}A=(A=f.pN(a,b,c.title,e,c,!H&&1>=r.length,r,G))?A.Oc():new dvt.U(C?e.x+e.a:e.x,e.y,0,0);A=E?A.Fj(E):A;if(!c.items&&!c.sections||"off"==c.expanded||c.expanded==t)return A;0<A.b&&(H=d.xh(a,v.layout.titleGapHeight),e.y+=A.b+H,e.b-=A.b+H);c.sections&&(r=f.jFa(a,b,c.sections,
e,r),A=A.Fj(r));if(!c.items)return A;H=f.fXa(a,e,q,c.items,u);u=H.numCols;r=H.numRows;H=H.width;E=e.y;if(0==r||0==u)return A;G=r*(q+x)-x;K=Math.min(u*(H+B)-B,e.a);A=A.Fj(new dvt.U(C?e.x+e.a-K:e.x,e.y,K,G));if(v.isLayout)return A;v=H-v.symbolWidth-w;w=0;G=1;K=c.items.length;for(I=0;I<K&&!(f.cX(a,b,c.items[I],e,v,q,I),e.y+=q+x,w++,w===r&&G!==u&&(e.y=E,e.a-=H+B,C||(e.x+=H+B),w=0,G++),w===r);I++);return A}};f.bFa=function(a,b,c,e,q){if(c){var r=a.v(),u=r.symbolWidth,v=d.xh(a,r.layout.symbolGapWidth),
w=d.xh(a,r.layout.columnGap),x=d.xh(a,r.layout.titleGapWidth),B=c.items.length,A=dvt.o.$(a.g()),C=e.Ca(),E=f.pN(a,b,c.title,e,c,t),H=E?E.Oc():new dvt.U(A?e.x+e.a:e.x,e.y,0,0);if(c.items)0<H.a&&(C.a-=H.a+x,A||(C.x+=H.a+x));else return H;var x=[],G=e.a-C.a,K,I;for(I=0;I<B;I++)K=c.items[I],K=Math.ceil(dvt.Aa.c$(a.g(),K.text,r.textStyle)),G+=K+u+v+w,x.push(K);0<B&&(G-=w);H=new dvt.U(A?e.x+e.a-G:e.x,e.y,G,Math.max(q,H.b));if(r.isLayout||G>e.a)return b.removeChild(E),H;for(I=0;I<B;I++)K=c.items[I],f.cX(a,
b,K,C,x[I],q,I),e=x[I]+u+v,C.a-=e+w,A||(C.x+=e+w);return H}};f.fXa=function(a,b,c,e,f){for(var r=a.v(),u=0,v=0;v<e.length;v++){var w=dvt.Aa.c$(a.g(),e[v].text,r.textStyle);w>u&&(u=w)}var v=r.symbolWidth,x=d.xh(a,r.layout.symbolGapWidth),w=d.xh(a,r.layout.rowGap);a=d.xh(a,r.layout.columnGap);u=Math.ceil(v+x+u);f?(f=Math.min(Math.floor((b.a+a)/(u+a)),e.length),c=Math.min(Math.floor((b.b+w)/(c+w)),Math.ceil(e.length/f)),f=Math.ceil(e.length/c),c=Math.ceil(e.length/f)):Infinity==b.b?(f=1,c=e.length):
(c=Math.min(Math.floor((b.b+w)/(c+w)),e.length),f=Math.ceil(e.length/c),c=Math.ceil(e.length/f));b=Math.min(u,(b.a-a*(f-1))/f);return b<v?{width:0,numCols:0,numRows:0}:{width:b,numCols:f,numRows:c}};f.SZa=function(a){var b=a.v(),c=new dvt.ba(a.g(),"Test");c.zb(b.textStyle);c.Mh();c=dvt.Aa.wk(c).b;a=b.symbolHeight+d.xh(a,b.layout.symbolGapHeight);return Math.ceil(Math.max(c,a))};f.cX=function(b,c,e,p,q,r){var u=b.v(),v=b.g(),w=dvt.o.$(v),x=u.symbolWidth,B=d.xh(b,u.layout.symbolGapWidth),A=w?p.x+p.a-
x:p.x,C=w?p.x+p.a-x-B:p.x+x+B,E=f.TXa(b,A,p.y,r,e),H=e.text,G;if(H&&(G=f.UXa(c,q,H,u.textStyle)))G.Ia(C),dvt.Aa.TZ(G,p.y+r/2),w&&G.qk();c.k(E);p=new dvt.ka(v,w?C-q-f.kW:A-f.kW,p.y-f.kW,x+B+q+2*f.kW,r+2*f.kW);p.gc();u=u.hideAndShowBehavior;"none"!=u&&"off"!=u&&p.setCursor("pointer");c.k(p);c=[p,E];G!=s&&c.push(G);G=a.qb(c,b,e,G!=s?G.ds():s,e.shortDesc,f.X_a(b,e));f.s$(f.x9(e),b)&&E.QO(G.xc());if("none"!=u&&"off"!=u||e.shortDesc!=s)p.Pf("img"),G.Dqa()};f.X_a=function(a,b){return"on"==b.drilling?n:"off"==
b.drilling?t:"on"==a.v().drilling};f.UXa=function(a,b,c,d){c=new dvt.ba(a.g(),c);c.zb(d);return c=dvt.Aa.pd(c,b,Infinity,a)?c:s};f.TXa=function(a,b,c,d,e){var r=a.v(),u=e.type!=s?e.type:e.symbolType;e.markerShape||(e.markerShape=r._markerShape);e.color||(e.color=r._color);e.lineWidth||(e.lineWidth="lineWithMarker"==u?f.Pea:r._lineWidth);var v=r.symbolWidth,r=r.symbolHeight,w=c+d/2,x=b+v/2;"line"==u?b=f.tza(a.g(),b,c,v,d,e):"lineWithMarker"==u?(b=f.tza(a.g(),b,c,v,d,e),f.s$(f.x9(e),a)||b.k(f.d5(a,
x,w,v*f.hxa,r*f.hxa,e))):b="image"==u?f.Kga(a,b,c,v,r,d,e):f.d5(a,x,w,v,r,e);return b};f.Kga=function(a,b,c,d,e,f,u){return new dvt.vb(a.g(),u.source,b,c+(f-e)/2,d,e)};f.d5=function(a,b,c,d,e,f){var u=a.g(),v=a.v();a=f.markerShape;var w=f.markerColor?f.markerColor:f.color,x=f.pattern;x&&"none"!=x?(d=new dvt.va(u,a,v.skin,0,0,d,e),d.ga(new dvt.jc(x,w,"#FFFFFF")),d.Fa(b,c)):(d=new dvt.va(u,a,v.skin,b,c,d,e),d.eb(w));f.borderColor&&d.Kb(f.borderColor,s,f._borderWidth?f._borderWidth:1);"square"==a&&d.Ad();
return d};f.tza=function(a,b,c,d,e,f){c+=e/2;a=new dvt.Uc(a,b,c,b+d,c);b=new dvt.ta(f.color,1,f.lineWidth);f=f.lineStyle;"dashed"==f?b.On(dvt.Pc.Ew(f),"4,2,4"):"dotted"==f&&b.On(dvt.Pc.Ew(f),"2");a.xa(b);a.Ad();return a};f.x9=function(a){var b=s;return b=a.categories&&0<a.categories.length?a.categories[0]:a.id?a.id:a.text};f.s$=function(a,b){var c=b.v().hiddenCategories;return!c||0>=c.length?t:-1!==dvt.ea.jb(c,a)};dvt.ye(dvt,"Legend",dvt.pf);dvt.ye(dvt.pf,"newInstance",dvt.pf.newInstance);dvt.ye(dvt.pf.prototype,
"destroy",dvt.pf.prototype.ra);dvt.ye(dvt.pf.prototype,"getAutomation",dvt.pf.prototype.ni);dvt.ye(dvt.pf.prototype,"getPreferredSize",dvt.pf.prototype.Yr);dvt.ye(dvt.pf.prototype,"highlight",dvt.pf.prototype.Me);dvt.ye(dvt.pf.prototype,"render",dvt.pf.prototype.ua);dvt.ye(e.prototype,"getDomElementForSubId",e.prototype.pi);dvt.ye(e.prototype,"getItem",e.prototype.getItem);dvt.ye(e.prototype,"getSection",e.prototype.P8a);dvt.ye(e.prototype,"getTitle",e.prototype.VA)})();
  return dvt;
});
